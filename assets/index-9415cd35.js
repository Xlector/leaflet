(function(){const Et=document.createElement("link").relList;if(Et&&Et.supports&&Et.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))D(I);new MutationObserver(I=>{for(const o of I)if(o.type==="childList")for(const k of o.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&D(k)}).observe(document,{childList:!0,subtree:!0});function V(I){const o={};return I.integrity&&(o.integrity=I.integrity),I.referrerPolicy&&(o.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?o.credentials="include":I.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function D(I){if(I.ep)return;I.ep=!0;const o=V(I);fetch(I.href,o)}})();var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lr={},eo={get exports(){return Lr},set exports(be){Lr=be}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(be){(function(Et,V){be.exports=Et.document?V(Et,!0):function(D){if(!D.document)throw new Error("jQuery requires a window with a document");return V(D)}})(typeof window<"u"?window:Ur,function(Et,V){var D=[],I=Object.getPrototypeOf,o=D.slice,k=D.flat?function(l){return D.flat.call(l)}:function(l){return D.concat.apply([],l)},P=D.push,e=D.indexOf,n={},s=n.toString,u=n.hasOwnProperty,d=u.toString,_=d.call(Object),b={},x=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},A=function(f){return f!=null&&f===f.window},S=Et.document,F={type:!0,src:!0,nonce:!0,noModule:!0};function H(l,f,m){m=m||S;var y,E,T=m.createElement("script");if(T.text=l,f)for(y in F)E=f[y]||f.getAttribute&&f.getAttribute(y),E&&T.setAttribute(y,E);m.head.appendChild(T).parentNode.removeChild(T)}function z(l){return l==null?l+"":typeof l=="object"||typeof l=="function"?n[s.call(l)]||"object":typeof l}var U="3.6.3",p=function(l,f){return new p.fn.init(l,f)};p.fn=p.prototype={jquery:U,constructor:p,length:0,toArray:function(){return o.call(this)},get:function(l){return l==null?o.call(this):l<0?this[l+this.length]:this[l]},pushStack:function(l){var f=p.merge(this.constructor(),l);return f.prevObject=this,f},each:function(l){return p.each(this,l)},map:function(l){return this.pushStack(p.map(this,function(f,m){return l.call(f,m,f)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(l,f){return(f+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(l,f){return f%2}))},eq:function(l){var f=this.length,m=+l+(l<0?f:0);return this.pushStack(m>=0&&m<f?[this[m]]:[])},end:function(){return this.prevObject||this.constructor()},push:P,sort:D.sort,splice:D.splice},p.extend=p.fn.extend=function(){var l,f,m,y,E,T,B=arguments[0]||{},tt=1,W=arguments.length,rt=!1;for(typeof B=="boolean"&&(rt=B,B=arguments[tt]||{},tt++),typeof B!="object"&&!x(B)&&(B={}),tt===W&&(B=this,tt--);tt<W;tt++)if((l=arguments[tt])!=null)for(f in l)y=l[f],!(f==="__proto__"||B===y)&&(rt&&y&&(p.isPlainObject(y)||(E=Array.isArray(y)))?(m=B[f],E&&!Array.isArray(m)?T=[]:!E&&!p.isPlainObject(m)?T={}:T=m,E=!1,B[f]=p.extend(rt,T,y)):y!==void 0&&(B[f]=y));return B},p.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw new Error(l)},noop:function(){},isPlainObject:function(l){var f,m;return!l||s.call(l)!=="[object Object]"?!1:(f=I(l),f?(m=u.call(f,"constructor")&&f.constructor,typeof m=="function"&&d.call(m)===_):!0)},isEmptyObject:function(l){var f;for(f in l)return!1;return!0},globalEval:function(l,f,m){H(l,{nonce:f&&f.nonce},m)},each:function(l,f){var m,y=0;if(ft(l))for(m=l.length;y<m&&f.call(l[y],y,l[y])!==!1;y++);else for(y in l)if(f.call(l[y],y,l[y])===!1)break;return l},makeArray:function(l,f){var m=f||[];return l!=null&&(ft(Object(l))?p.merge(m,typeof l=="string"?[l]:l):P.call(m,l)),m},inArray:function(l,f,m){return f==null?-1:e.call(f,l,m)},merge:function(l,f){for(var m=+f.length,y=0,E=l.length;y<m;y++)l[E++]=f[y];return l.length=E,l},grep:function(l,f,m){for(var y,E=[],T=0,B=l.length,tt=!m;T<B;T++)y=!f(l[T],T),y!==tt&&E.push(l[T]);return E},map:function(l,f,m){var y,E,T=0,B=[];if(ft(l))for(y=l.length;T<y;T++)E=f(l[T],T,m),E!=null&&B.push(E);else for(T in l)E=f(l[T],T,m),E!=null&&B.push(E);return k(B)},guid:1,support:b}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=D[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,f){n["[object "+f+"]"]=f.toLowerCase()});function ft(l){var f=!!l&&"length"in l&&l.length,m=z(l);return x(l)||A(l)?!1:m==="array"||f===0||typeof f=="number"&&f>0&&f-1 in l}var xt=function(l){var f,m,y,E,T,B,tt,W,rt,ht,Lt,ut,gt,qt,le,$t,Ye,$e,ui,Be="sizzle"+1*new Date,ae=l.document,hi=0,ye=0,Ae=Hn(),jn=Hn(),rn=Hn(),Ne=Hn(),on=function(N,J){return N===J&&(Lt=!0),0},sn={}.hasOwnProperty,gi=[],Zi=gi.pop,yi=gi.push,an=gi.push,tr=gi.slice,Gi=function(N,J){for(var nt=0,vt=N.length;nt<vt;nt++)if(N[nt]===J)return nt;return-1},hr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Te="[\\x20\\t\\r\\n\\f]",ln="(?:\\\\[\\da-fA-F]{1,6}"+Te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",dr="\\["+Te+"*("+ln+")(?:"+Te+"*([*^$|!~]?=)"+Te+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ln+"))|)"+Te+"*\\]",bi=":("+ln+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+dr+")*)|.*)\\)|)",En=new RegExp(Te+"+","g"),er=new RegExp("^"+Te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Te+"+$","g"),Hi=new RegExp("^"+Te+"*,"+Te+"*"),pr=new RegExp("^"+Te+"*([>+~]|"+Te+")"+Te+"*"),Tn=new RegExp(Te+"|>"),xr=new RegExp(bi),Un=new RegExp("^"+ln+"$"),Zn={ID:new RegExp("^#("+ln+")"),CLASS:new RegExp("^\\.("+ln+")"),TAG:new RegExp("^("+ln+"|[*])"),ATTR:new RegExp("^"+dr),PSEUDO:new RegExp("^"+bi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Te+"*(even|odd|(([+-]|)(\\d*)n|)"+Te+"*(?:([+-]|)"+Te+"*(\\d+)|))"+Te+"*\\)|)","i"),bool:new RegExp("^(?:"+hr+")$","i"),needsContext:new RegExp("^"+Te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Te+"*((?:-\\d)?\\d*)"+Te+"*\\)|)(?=[^-]|$)","i")},ir=/HTML$/i,wr=/^(?:input|select|textarea|button)$/i,un=/^h\d$/i,hn=/^[^{]+\{\s*\[native \w/,kr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Gn=/[+~]/,qi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Te+"?|\\\\([^\\r\\n\\f])","g"),oi=function(N,J){var nt="0x"+N.slice(1)-65536;return J||(nt<0?String.fromCharCode(nt+65536):String.fromCharCode(nt>>10|55296,nt&1023|56320))},gr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_n=function(N,J){return J?N==="\0"?"ï¿½":N.slice(0,-1)+"\\"+N.charCodeAt(N.length-1).toString(16)+" ":"\\"+N},mr=function(){ut()},Vi=$n(function(N){return N.disabled===!0&&N.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{an.apply(gi=tr.call(ae.childNodes),ae.childNodes),gi[ae.childNodes.length].nodeType}catch{an={apply:gi.length?function(J,nt){yi.apply(J,tr.call(nt))}:function(J,nt){for(var vt=J.length,ot=0;J[vt++]=nt[ot++];);J.length=vt-1}}}function Se(N,J,nt,vt){var ot,bt,kt,Rt,Ut,ie,Vt,ne=J&&J.ownerDocument,me=J?J.nodeType:9;if(nt=nt||[],typeof N!="string"||!N||me!==1&&me!==9&&me!==11)return nt;if(!vt&&(ut(J),J=J||gt,le)){if(me!==11&&(Ut=kr.exec(N)))if(ot=Ut[1]){if(me===9)if(kt=J.getElementById(ot)){if(kt.id===ot)return nt.push(kt),nt}else return nt;else if(ne&&(kt=ne.getElementById(ot))&&ui(J,kt)&&kt.id===ot)return nt.push(kt),nt}else{if(Ut[2])return an.apply(nt,J.getElementsByTagName(N)),nt;if((ot=Ut[3])&&m.getElementsByClassName&&J.getElementsByClassName)return an.apply(nt,J.getElementsByClassName(ot)),nt}if(m.qsa&&!Ne[N+" "]&&(!$t||!$t.test(N))&&(me!==1||J.nodeName.toLowerCase()!=="object")){if(Vt=N,ne=J,me===1&&(Tn.test(N)||pr.test(N))){for(ne=Gn.test(N)&&cr(J.parentNode)||J,(ne!==J||!m.scope)&&((Rt=J.getAttribute("id"))?Rt=Rt.replace(gr,_n):J.setAttribute("id",Rt=Be)),ie=B(N),bt=ie.length;bt--;)ie[bt]=(Rt?"#"+Rt:":scope")+" "+or(ie[bt]);Vt=ie.join(",")}try{if(m.cssSupportsSelector&&!CSS.supports("selector(:is("+Vt+"))"))throw new Error;return an.apply(nt,ne.querySelectorAll(Vt)),nt}catch{Ne(N,!0)}finally{Rt===Be&&J.removeAttribute("id")}}}return W(N.replace(er,"$1"),J,nt,vt)}function Hn(){var N=[];function J(nt,vt){return N.push(nt+" ")>y.cacheLength&&delete J[N.shift()],J[nt+" "]=vt}return J}function Li(N){return N[Be]=!0,N}function ci(N){var J=gt.createElement("fieldset");try{return!!N(J)}catch{return!1}finally{J.parentNode&&J.parentNode.removeChild(J),J=null}}function qn(N,J){for(var nt=N.split("|"),vt=nt.length;vt--;)y.attrHandle[nt[vt]]=J}function Vn(N,J){var nt=J&&N,vt=nt&&N.nodeType===1&&J.nodeType===1&&N.sourceIndex-J.sourceIndex;if(vt)return vt;if(nt){for(;nt=nt.nextSibling;)if(nt===J)return-1}return N?1:-1}function Sn(N){return function(J){var nt=J.nodeName.toLowerCase();return nt==="input"&&J.type===N}}function nr(N){return function(J){var nt=J.nodeName.toLowerCase();return(nt==="input"||nt==="button")&&J.type===N}}function rr(N){return function(J){return"form"in J?J.parentNode&&J.disabled===!1?"label"in J?"label"in J.parentNode?J.parentNode.disabled===N:J.disabled===N:J.isDisabled===N||J.isDisabled!==!N&&Vi(J)===N:J.disabled===N:"label"in J?J.disabled===N:!1}}function cn(N){return Li(function(J){return J=+J,Li(function(nt,vt){for(var ot,bt=N([],nt.length,J),kt=bt.length;kt--;)nt[ot=bt[kt]]&&(nt[ot]=!(vt[ot]=nt[ot]))})})}function cr(N){return N&&typeof N.getElementsByTagName<"u"&&N}m=Se.support={},T=Se.isXML=function(N){var J=N&&N.namespaceURI,nt=N&&(N.ownerDocument||N).documentElement;return!ir.test(J||nt&&nt.nodeName||"HTML")},ut=Se.setDocument=function(N){var J,nt,vt=N?N.ownerDocument||N:ae;return vt==gt||vt.nodeType!==9||!vt.documentElement||(gt=vt,qt=gt.documentElement,le=!T(gt),ae!=gt&&(nt=gt.defaultView)&&nt.top!==nt&&(nt.addEventListener?nt.addEventListener("unload",mr,!1):nt.attachEvent&&nt.attachEvent("onunload",mr)),m.scope=ci(function(ot){return qt.appendChild(ot).appendChild(gt.createElement("div")),typeof ot.querySelectorAll<"u"&&!ot.querySelectorAll(":scope fieldset div").length}),m.cssSupportsSelector=ci(function(){return CSS.supports("selector(*)")&&gt.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),m.attributes=ci(function(ot){return ot.className="i",!ot.getAttribute("className")}),m.getElementsByTagName=ci(function(ot){return ot.appendChild(gt.createComment("")),!ot.getElementsByTagName("*").length}),m.getElementsByClassName=hn.test(gt.getElementsByClassName),m.getById=ci(function(ot){return qt.appendChild(ot).id=Be,!gt.getElementsByName||!gt.getElementsByName(Be).length}),m.getById?(y.filter.ID=function(ot){var bt=ot.replace(qi,oi);return function(kt){return kt.getAttribute("id")===bt}},y.find.ID=function(ot,bt){if(typeof bt.getElementById<"u"&&le){var kt=bt.getElementById(ot);return kt?[kt]:[]}}):(y.filter.ID=function(ot){var bt=ot.replace(qi,oi);return function(kt){var Rt=typeof kt.getAttributeNode<"u"&&kt.getAttributeNode("id");return Rt&&Rt.value===bt}},y.find.ID=function(ot,bt){if(typeof bt.getElementById<"u"&&le){var kt,Rt,Ut,ie=bt.getElementById(ot);if(ie){if(kt=ie.getAttributeNode("id"),kt&&kt.value===ot)return[ie];for(Ut=bt.getElementsByName(ot),Rt=0;ie=Ut[Rt++];)if(kt=ie.getAttributeNode("id"),kt&&kt.value===ot)return[ie]}return[]}}),y.find.TAG=m.getElementsByTagName?function(ot,bt){if(typeof bt.getElementsByTagName<"u")return bt.getElementsByTagName(ot);if(m.qsa)return bt.querySelectorAll(ot)}:function(ot,bt){var kt,Rt=[],Ut=0,ie=bt.getElementsByTagName(ot);if(ot==="*"){for(;kt=ie[Ut++];)kt.nodeType===1&&Rt.push(kt);return Rt}return ie},y.find.CLASS=m.getElementsByClassName&&function(ot,bt){if(typeof bt.getElementsByClassName<"u"&&le)return bt.getElementsByClassName(ot)},Ye=[],$t=[],(m.qsa=hn.test(gt.querySelectorAll))&&(ci(function(ot){var bt;qt.appendChild(ot).innerHTML="<a id='"+Be+"'></a><select id='"+Be+"-\r\\' msallowcapture=''><option selected=''></option></select>",ot.querySelectorAll("[msallowcapture^='']").length&&$t.push("[*^$]="+Te+`*(?:''|"")`),ot.querySelectorAll("[selected]").length||$t.push("\\["+Te+"*(?:value|"+hr+")"),ot.querySelectorAll("[id~="+Be+"-]").length||$t.push("~="),bt=gt.createElement("input"),bt.setAttribute("name",""),ot.appendChild(bt),ot.querySelectorAll("[name='']").length||$t.push("\\["+Te+"*name"+Te+"*="+Te+`*(?:''|"")`),ot.querySelectorAll(":checked").length||$t.push(":checked"),ot.querySelectorAll("a#"+Be+"+*").length||$t.push(".#.+[+~]"),ot.querySelectorAll("\\\f"),$t.push("[\\r\\n\\f]")}),ci(function(ot){ot.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var bt=gt.createElement("input");bt.setAttribute("type","hidden"),ot.appendChild(bt).setAttribute("name","D"),ot.querySelectorAll("[name=d]").length&&$t.push("name"+Te+"*[*^$|!~]?="),ot.querySelectorAll(":enabled").length!==2&&$t.push(":enabled",":disabled"),qt.appendChild(ot).disabled=!0,ot.querySelectorAll(":disabled").length!==2&&$t.push(":enabled",":disabled"),ot.querySelectorAll("*,:x"),$t.push(",.*:")})),(m.matchesSelector=hn.test($e=qt.matches||qt.webkitMatchesSelector||qt.mozMatchesSelector||qt.oMatchesSelector||qt.msMatchesSelector))&&ci(function(ot){m.disconnectedMatch=$e.call(ot,"*"),$e.call(ot,"[s!='']:x"),Ye.push("!=",bi)}),m.cssSupportsSelector||$t.push(":has"),$t=$t.length&&new RegExp($t.join("|")),Ye=Ye.length&&new RegExp(Ye.join("|")),J=hn.test(qt.compareDocumentPosition),ui=J||hn.test(qt.contains)?function(ot,bt){var kt=ot.nodeType===9&&ot.documentElement||ot,Rt=bt&&bt.parentNode;return ot===Rt||!!(Rt&&Rt.nodeType===1&&(kt.contains?kt.contains(Rt):ot.compareDocumentPosition&&ot.compareDocumentPosition(Rt)&16))}:function(ot,bt){if(bt){for(;bt=bt.parentNode;)if(bt===ot)return!0}return!1},on=J?function(ot,bt){if(ot===bt)return Lt=!0,0;var kt=!ot.compareDocumentPosition-!bt.compareDocumentPosition;return kt||(kt=(ot.ownerDocument||ot)==(bt.ownerDocument||bt)?ot.compareDocumentPosition(bt):1,kt&1||!m.sortDetached&&bt.compareDocumentPosition(ot)===kt?ot==gt||ot.ownerDocument==ae&&ui(ae,ot)?-1:bt==gt||bt.ownerDocument==ae&&ui(ae,bt)?1:ht?Gi(ht,ot)-Gi(ht,bt):0:kt&4?-1:1)}:function(ot,bt){if(ot===bt)return Lt=!0,0;var kt,Rt=0,Ut=ot.parentNode,ie=bt.parentNode,Vt=[ot],ne=[bt];if(!Ut||!ie)return ot==gt?-1:bt==gt?1:Ut?-1:ie?1:ht?Gi(ht,ot)-Gi(ht,bt):0;if(Ut===ie)return Vn(ot,bt);for(kt=ot;kt=kt.parentNode;)Vt.unshift(kt);for(kt=bt;kt=kt.parentNode;)ne.unshift(kt);for(;Vt[Rt]===ne[Rt];)Rt++;return Rt?Vn(Vt[Rt],ne[Rt]):Vt[Rt]==ae?-1:ne[Rt]==ae?1:0}),gt},Se.matches=function(N,J){return Se(N,null,null,J)},Se.matchesSelector=function(N,J){if(ut(N),m.matchesSelector&&le&&!Ne[J+" "]&&(!Ye||!Ye.test(J))&&(!$t||!$t.test(J)))try{var nt=$e.call(N,J);if(nt||m.disconnectedMatch||N.document&&N.document.nodeType!==11)return nt}catch{Ne(J,!0)}return Se(J,gt,null,[N]).length>0},Se.contains=function(N,J){return(N.ownerDocument||N)!=gt&&ut(N),ui(N,J)},Se.attr=function(N,J){(N.ownerDocument||N)!=gt&&ut(N);var nt=y.attrHandle[J.toLowerCase()],vt=nt&&sn.call(y.attrHandle,J.toLowerCase())?nt(N,J,!le):void 0;return vt!==void 0?vt:m.attributes||!le?N.getAttribute(J):(vt=N.getAttributeNode(J))&&vt.specified?vt.value:null},Se.escape=function(N){return(N+"").replace(gr,_n)},Se.error=function(N){throw new Error("Syntax error, unrecognized expression: "+N)},Se.uniqueSort=function(N){var J,nt=[],vt=0,ot=0;if(Lt=!m.detectDuplicates,ht=!m.sortStable&&N.slice(0),N.sort(on),Lt){for(;J=N[ot++];)J===N[ot]&&(vt=nt.push(ot));for(;vt--;)N.splice(nt[vt],1)}return ht=null,N},E=Se.getText=function(N){var J,nt="",vt=0,ot=N.nodeType;if(ot){if(ot===1||ot===9||ot===11){if(typeof N.textContent=="string")return N.textContent;for(N=N.firstChild;N;N=N.nextSibling)nt+=E(N)}else if(ot===3||ot===4)return N.nodeValue}else for(;J=N[vt++];)nt+=E(J);return nt},y=Se.selectors={cacheLength:50,createPseudo:Li,match:Zn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(N){return N[1]=N[1].replace(qi,oi),N[3]=(N[3]||N[4]||N[5]||"").replace(qi,oi),N[2]==="~="&&(N[3]=" "+N[3]+" "),N.slice(0,4)},CHILD:function(N){return N[1]=N[1].toLowerCase(),N[1].slice(0,3)==="nth"?(N[3]||Se.error(N[0]),N[4]=+(N[4]?N[5]+(N[6]||1):2*(N[3]==="even"||N[3]==="odd")),N[5]=+(N[7]+N[8]||N[3]==="odd")):N[3]&&Se.error(N[0]),N},PSEUDO:function(N){var J,nt=!N[6]&&N[2];return Zn.CHILD.test(N[0])?null:(N[3]?N[2]=N[4]||N[5]||"":nt&&xr.test(nt)&&(J=B(nt,!0))&&(J=nt.indexOf(")",nt.length-J)-nt.length)&&(N[0]=N[0].slice(0,J),N[2]=nt.slice(0,J)),N.slice(0,3))}},filter:{TAG:function(N){var J=N.replace(qi,oi).toLowerCase();return N==="*"?function(){return!0}:function(nt){return nt.nodeName&&nt.nodeName.toLowerCase()===J}},CLASS:function(N){var J=Ae[N+" "];return J||(J=new RegExp("(^|"+Te+")"+N+"("+Te+"|$)"))&&Ae(N,function(nt){return J.test(typeof nt.className=="string"&&nt.className||typeof nt.getAttribute<"u"&&nt.getAttribute("class")||"")})},ATTR:function(N,J,nt){return function(vt){var ot=Se.attr(vt,N);return ot==null?J==="!=":J?(ot+="",J==="="?ot===nt:J==="!="?ot!==nt:J==="^="?nt&&ot.indexOf(nt)===0:J==="*="?nt&&ot.indexOf(nt)>-1:J==="$="?nt&&ot.slice(-nt.length)===nt:J==="~="?(" "+ot.replace(En," ")+" ").indexOf(nt)>-1:J==="|="?ot===nt||ot.slice(0,nt.length+1)===nt+"-":!1):!0}},CHILD:function(N,J,nt,vt,ot){var bt=N.slice(0,3)!=="nth",kt=N.slice(-4)!=="last",Rt=J==="of-type";return vt===1&&ot===0?function(Ut){return!!Ut.parentNode}:function(Ut,ie,Vt){var ne,me,Me,re,Ze,Ke,mi=bt!==kt?"nextSibling":"previousSibling",Re=Ut.parentNode,Kn=Rt&&Ut.nodeName.toLowerCase(),An=!Vt&&!Rt,_i=!1;if(Re){if(bt){for(;mi;){for(re=Ut;re=re[mi];)if(Rt?re.nodeName.toLowerCase()===Kn:re.nodeType===1)return!1;Ke=mi=N==="only"&&!Ke&&"nextSibling"}return!0}if(Ke=[kt?Re.firstChild:Re.lastChild],kt&&An){for(re=Re,Me=re[Be]||(re[Be]={}),me=Me[re.uniqueID]||(Me[re.uniqueID]={}),ne=me[N]||[],Ze=ne[0]===hi&&ne[1],_i=Ze&&ne[2],re=Ze&&Re.childNodes[Ze];re=++Ze&&re&&re[mi]||(_i=Ze=0)||Ke.pop();)if(re.nodeType===1&&++_i&&re===Ut){me[N]=[hi,Ze,_i];break}}else if(An&&(re=Ut,Me=re[Be]||(re[Be]={}),me=Me[re.uniqueID]||(Me[re.uniqueID]={}),ne=me[N]||[],Ze=ne[0]===hi&&ne[1],_i=Ze),_i===!1)for(;(re=++Ze&&re&&re[mi]||(_i=Ze=0)||Ke.pop())&&!((Rt?re.nodeName.toLowerCase()===Kn:re.nodeType===1)&&++_i&&(An&&(Me=re[Be]||(re[Be]={}),me=Me[re.uniqueID]||(Me[re.uniqueID]={}),me[N]=[hi,_i]),re===Ut)););return _i-=ot,_i===vt||_i%vt===0&&_i/vt>=0}}},PSEUDO:function(N,J){var nt,vt=y.pseudos[N]||y.setFilters[N.toLowerCase()]||Se.error("unsupported pseudo: "+N);return vt[Be]?vt(J):vt.length>1?(nt=[N,N,"",J],y.setFilters.hasOwnProperty(N.toLowerCase())?Li(function(ot,bt){for(var kt,Rt=vt(ot,J),Ut=Rt.length;Ut--;)kt=Gi(ot,Rt[Ut]),ot[kt]=!(bt[kt]=Rt[Ut])}):function(ot){return vt(ot,0,nt)}):vt}},pseudos:{not:Li(function(N){var J=[],nt=[],vt=tt(N.replace(er,"$1"));return vt[Be]?Li(function(ot,bt,kt,Rt){for(var Ut,ie=vt(ot,null,Rt,[]),Vt=ot.length;Vt--;)(Ut=ie[Vt])&&(ot[Vt]=!(bt[Vt]=Ut))}):function(ot,bt,kt){return J[0]=ot,vt(J,null,kt,nt),J[0]=null,!nt.pop()}}),has:Li(function(N){return function(J){return Se(N,J).length>0}}),contains:Li(function(N){return N=N.replace(qi,oi),function(J){return(J.textContent||E(J)).indexOf(N)>-1}}),lang:Li(function(N){return Un.test(N||"")||Se.error("unsupported lang: "+N),N=N.replace(qi,oi).toLowerCase(),function(J){var nt;do if(nt=le?J.lang:J.getAttribute("xml:lang")||J.getAttribute("lang"))return nt=nt.toLowerCase(),nt===N||nt.indexOf(N+"-")===0;while((J=J.parentNode)&&J.nodeType===1);return!1}}),target:function(N){var J=l.location&&l.location.hash;return J&&J.slice(1)===N.id},root:function(N){return N===qt},focus:function(N){return N===gt.activeElement&&(!gt.hasFocus||gt.hasFocus())&&!!(N.type||N.href||~N.tabIndex)},enabled:rr(!1),disabled:rr(!0),checked:function(N){var J=N.nodeName.toLowerCase();return J==="input"&&!!N.checked||J==="option"&&!!N.selected},selected:function(N){return N.parentNode&&N.parentNode.selectedIndex,N.selected===!0},empty:function(N){for(N=N.firstChild;N;N=N.nextSibling)if(N.nodeType<6)return!1;return!0},parent:function(N){return!y.pseudos.empty(N)},header:function(N){return un.test(N.nodeName)},input:function(N){return wr.test(N.nodeName)},button:function(N){var J=N.nodeName.toLowerCase();return J==="input"&&N.type==="button"||J==="button"},text:function(N){var J;return N.nodeName.toLowerCase()==="input"&&N.type==="text"&&((J=N.getAttribute("type"))==null||J.toLowerCase()==="text")},first:cn(function(){return[0]}),last:cn(function(N,J){return[J-1]}),eq:cn(function(N,J,nt){return[nt<0?nt+J:nt]}),even:cn(function(N,J){for(var nt=0;nt<J;nt+=2)N.push(nt);return N}),odd:cn(function(N,J){for(var nt=1;nt<J;nt+=2)N.push(nt);return N}),lt:cn(function(N,J,nt){for(var vt=nt<0?nt+J:nt>J?J:nt;--vt>=0;)N.push(vt);return N}),gt:cn(function(N,J,nt){for(var vt=nt<0?nt+J:nt;++vt<J;)N.push(vt);return N})}},y.pseudos.nth=y.pseudos.eq;for(f in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[f]=Sn(f);for(f in{submit:!0,reset:!0})y.pseudos[f]=nr(f);function Wn(){}Wn.prototype=y.filters=y.pseudos,y.setFilters=new Wn,B=Se.tokenize=function(N,J){var nt,vt,ot,bt,kt,Rt,Ut,ie=jn[N+" "];if(ie)return J?0:ie.slice(0);for(kt=N,Rt=[],Ut=y.preFilter;kt;){(!nt||(vt=Hi.exec(kt)))&&(vt&&(kt=kt.slice(vt[0].length)||kt),Rt.push(ot=[])),nt=!1,(vt=pr.exec(kt))&&(nt=vt.shift(),ot.push({value:nt,type:vt[0].replace(er," ")}),kt=kt.slice(nt.length));for(bt in y.filter)(vt=Zn[bt].exec(kt))&&(!Ut[bt]||(vt=Ut[bt](vt)))&&(nt=vt.shift(),ot.push({value:nt,type:bt,matches:vt}),kt=kt.slice(nt.length));if(!nt)break}return J?kt.length:kt?Se.error(N):jn(N,Rt).slice(0)};function or(N){for(var J=0,nt=N.length,vt="";J<nt;J++)vt+=N[J].value;return vt}function $n(N,J,nt){var vt=J.dir,ot=J.next,bt=ot||vt,kt=nt&&bt==="parentNode",Rt=ye++;return J.first?function(Ut,ie,Vt){for(;Ut=Ut[vt];)if(Ut.nodeType===1||kt)return N(Ut,ie,Vt);return!1}:function(Ut,ie,Vt){var ne,me,Me,re=[hi,Rt];if(Vt){for(;Ut=Ut[vt];)if((Ut.nodeType===1||kt)&&N(Ut,ie,Vt))return!0}else for(;Ut=Ut[vt];)if(Ut.nodeType===1||kt)if(Me=Ut[Be]||(Ut[Be]={}),me=Me[Ut.uniqueID]||(Me[Ut.uniqueID]={}),ot&&ot===Ut.nodeName.toLowerCase())Ut=Ut[vt]||Ut;else{if((ne=me[bt])&&ne[0]===hi&&ne[1]===Rt)return re[2]=ne[2];if(me[bt]=re,re[2]=N(Ut,ie,Vt))return!0}return!1}}function fr(N){return N.length>1?function(J,nt,vt){for(var ot=N.length;ot--;)if(!N[ot](J,nt,vt))return!1;return!0}:N[0]}function _r(N,J,nt){for(var vt=0,ot=J.length;vt<ot;vt++)Se(N,J[vt],nt);return nt}function sr(N,J,nt,vt,ot){for(var bt,kt=[],Rt=0,Ut=N.length,ie=J!=null;Rt<Ut;Rt++)(bt=N[Rt])&&(!nt||nt(bt,vt,ot))&&(kt.push(bt),ie&&J.push(Rt));return kt}function Mi(N,J,nt,vt,ot,bt){return vt&&!vt[Be]&&(vt=Mi(vt)),ot&&!ot[Be]&&(ot=Mi(ot,bt)),Li(function(kt,Rt,Ut,ie){var Vt,ne,me,Me=[],re=[],Ze=Rt.length,Ke=kt||_r(J||"*",Ut.nodeType?[Ut]:Ut,[]),mi=N&&(kt||!J)?sr(Ke,Me,N,Ut,ie):Ke,Re=nt?ot||(kt?N:Ze||vt)?[]:Rt:mi;if(nt&&nt(mi,Re,Ut,ie),vt)for(Vt=sr(Re,re),vt(Vt,[],Ut,ie),ne=Vt.length;ne--;)(me=Vt[ne])&&(Re[re[ne]]=!(mi[re[ne]]=me));if(kt){if(ot||N){if(ot){for(Vt=[],ne=Re.length;ne--;)(me=Re[ne])&&Vt.push(mi[ne]=me);ot(null,Re=[],Vt,ie)}for(ne=Re.length;ne--;)(me=Re[ne])&&(Vt=ot?Gi(kt,me):Me[ne])>-1&&(kt[Vt]=!(Rt[Vt]=me))}}else Re=sr(Re===Rt?Re.splice(Ze,Re.length):Re),ot?ot(null,Rt,Re,ie):an.apply(Rt,Re)})}function Dn(N){for(var J,nt,vt,ot=N.length,bt=y.relative[N[0].type],kt=bt||y.relative[" "],Rt=bt?1:0,Ut=$n(function(ne){return ne===J},kt,!0),ie=$n(function(ne){return Gi(J,ne)>-1},kt,!0),Vt=[function(ne,me,Me){var re=!bt&&(Me||me!==rt)||((J=me).nodeType?Ut(ne,me,Me):ie(ne,me,Me));return J=null,re}];Rt<ot;Rt++)if(nt=y.relative[N[Rt].type])Vt=[$n(fr(Vt),nt)];else{if(nt=y.filter[N[Rt].type].apply(null,N[Rt].matches),nt[Be]){for(vt=++Rt;vt<ot&&!y.relative[N[vt].type];vt++);return Mi(Rt>1&&fr(Vt),Rt>1&&or(N.slice(0,Rt-1).concat({value:N[Rt-2].type===" "?"*":""})).replace(er,"$1"),nt,Rt<vt&&Dn(N.slice(Rt,vt)),vt<ot&&Dn(N=N.slice(vt)),vt<ot&&or(N))}Vt.push(nt)}return fr(Vt)}function Mr(N,J){var nt=J.length>0,vt=N.length>0,ot=function(bt,kt,Rt,Ut,ie){var Vt,ne,me,Me=0,re="0",Ze=bt&&[],Ke=[],mi=rt,Re=bt||vt&&y.find.TAG("*",ie),Kn=hi+=mi==null?1:Math.random()||.1,An=Re.length;for(ie&&(rt=kt==gt||kt||ie);re!==An&&(Vt=Re[re])!=null;re++){if(vt&&Vt){for(ne=0,!kt&&Vt.ownerDocument!=gt&&(ut(Vt),Rt=!le);me=N[ne++];)if(me(Vt,kt||gt,Rt)){Ut.push(Vt);break}ie&&(hi=Kn)}nt&&((Vt=!me&&Vt)&&Me--,bt&&Ze.push(Vt))}if(Me+=re,nt&&re!==Me){for(ne=0;me=J[ne++];)me(Ze,Ke,kt,Rt);if(bt){if(Me>0)for(;re--;)Ze[re]||Ke[re]||(Ke[re]=Zi.call(Ut));Ke=sr(Ke)}an.apply(Ut,Ke),ie&&!bt&&Ke.length>0&&Me+J.length>1&&Se.uniqueSort(Ut)}return ie&&(hi=Kn,rt=mi),Ze};return nt?Li(ot):ot}return tt=Se.compile=function(N,J){var nt,vt=[],ot=[],bt=rn[N+" "];if(!bt){for(J||(J=B(N)),nt=J.length;nt--;)bt=Dn(J[nt]),bt[Be]?vt.push(bt):ot.push(bt);bt=rn(N,Mr(ot,vt)),bt.selector=N}return bt},W=Se.select=function(N,J,nt,vt){var ot,bt,kt,Rt,Ut,ie=typeof N=="function"&&N,Vt=!vt&&B(N=ie.selector||N);if(nt=nt||[],Vt.length===1){if(bt=Vt[0]=Vt[0].slice(0),bt.length>2&&(kt=bt[0]).type==="ID"&&J.nodeType===9&&le&&y.relative[bt[1].type]){if(J=(y.find.ID(kt.matches[0].replace(qi,oi),J)||[])[0],J)ie&&(J=J.parentNode);else return nt;N=N.slice(bt.shift().value.length)}for(ot=Zn.needsContext.test(N)?0:bt.length;ot--&&(kt=bt[ot],!y.relative[Rt=kt.type]);)if((Ut=y.find[Rt])&&(vt=Ut(kt.matches[0].replace(qi,oi),Gn.test(bt[0].type)&&cr(J.parentNode)||J))){if(bt.splice(ot,1),N=vt.length&&or(bt),!N)return an.apply(nt,vt),nt;break}}return(ie||tt(N,Vt))(vt,J,!le,nt,!J||Gn.test(N)&&cr(J.parentNode)||J),nt},m.sortStable=Be.split("").sort(on).join("")===Be,m.detectDuplicates=!!Lt,ut(),m.sortDetached=ci(function(N){return N.compareDocumentPosition(gt.createElement("fieldset"))&1}),ci(function(N){return N.innerHTML="<a href='#'></a>",N.firstChild.getAttribute("href")==="#"})||qn("type|href|height|width",function(N,J,nt){if(!nt)return N.getAttribute(J,J.toLowerCase()==="type"?1:2)}),(!m.attributes||!ci(function(N){return N.innerHTML="<input/>",N.firstChild.setAttribute("value",""),N.firstChild.getAttribute("value")===""}))&&qn("value",function(N,J,nt){if(!nt&&N.nodeName.toLowerCase()==="input")return N.defaultValue}),ci(function(N){return N.getAttribute("disabled")==null})||qn(hr,function(N,J,nt){var vt;if(!nt)return N[J]===!0?J.toLowerCase():(vt=N.getAttributeNode(J))&&vt.specified?vt.value:null}),Se}(Et);p.find=xt,p.expr=xt.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=xt.uniqueSort,p.text=xt.getText,p.isXMLDoc=xt.isXML,p.contains=xt.contains,p.escapeSelector=xt.escape;var wt=function(l,f,m){for(var y=[],E=m!==void 0;(l=l[f])&&l.nodeType!==9;)if(l.nodeType===1){if(E&&p(l).is(m))break;y.push(l)}return y},St=function(l,f){for(var m=[];l;l=l.nextSibling)l.nodeType===1&&l!==f&&m.push(l);return m},Bt=p.expr.match.needsContext;function Tt(l,f){return l.nodeName&&l.nodeName.toLowerCase()===f.toLowerCase()}var Nt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function lt(l,f,m){return x(f)?p.grep(l,function(y,E){return!!f.call(y,E,y)!==m}):f.nodeType?p.grep(l,function(y){return y===f!==m}):typeof f!="string"?p.grep(l,function(y){return e.call(f,y)>-1!==m}):p.filter(f,l,m)}p.filter=function(l,f,m){var y=f[0];return m&&(l=":not("+l+")"),f.length===1&&y.nodeType===1?p.find.matchesSelector(y,l)?[y]:[]:p.find.matches(l,p.grep(f,function(E){return E.nodeType===1}))},p.fn.extend({find:function(l){var f,m,y=this.length,E=this;if(typeof l!="string")return this.pushStack(p(l).filter(function(){for(f=0;f<y;f++)if(p.contains(E[f],this))return!0}));for(m=this.pushStack([]),f=0;f<y;f++)p.find(l,E[f],m);return y>1?p.uniqueSort(m):m},filter:function(l){return this.pushStack(lt(this,l||[],!1))},not:function(l){return this.pushStack(lt(this,l||[],!0))},is:function(l){return!!lt(this,typeof l=="string"&&Bt.test(l)?p(l):l||[],!1).length}});var Mt,At=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Qt=p.fn.init=function(l,f,m){var y,E;if(!l)return this;if(m=m||Mt,typeof l=="string")if(l[0]==="<"&&l[l.length-1]===">"&&l.length>=3?y=[null,l,null]:y=At.exec(l),y&&(y[1]||!f))if(y[1]){if(f=f instanceof p?f[0]:f,p.merge(this,p.parseHTML(y[1],f&&f.nodeType?f.ownerDocument||f:S,!0)),Nt.test(y[1])&&p.isPlainObject(f))for(y in f)x(this[y])?this[y](f[y]):this.attr(y,f[y]);return this}else return E=S.getElementById(y[2]),E&&(this[0]=E,this.length=1),this;else return!f||f.jquery?(f||m).find(l):this.constructor(f).find(l);else{if(l.nodeType)return this[0]=l,this.length=1,this;if(x(l))return m.ready!==void 0?m.ready(l):l(p)}return p.makeArray(l,this)};Qt.prototype=p.fn,Mt=p(S);var Pt=/^(?:parents|prev(?:Until|All))/,te={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(l){var f=p(l,this),m=f.length;return this.filter(function(){for(var y=0;y<m;y++)if(p.contains(this,f[y]))return!0})},closest:function(l,f){var m,y=0,E=this.length,T=[],B=typeof l!="string"&&p(l);if(!Bt.test(l)){for(;y<E;y++)for(m=this[y];m&&m!==f;m=m.parentNode)if(m.nodeType<11&&(B?B.index(m)>-1:m.nodeType===1&&p.find.matchesSelector(m,l))){T.push(m);break}}return this.pushStack(T.length>1?p.uniqueSort(T):T)},index:function(l){return l?typeof l=="string"?e.call(p(l),this[0]):e.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(l,f){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(l,f))))},addBack:function(l){return this.add(l==null?this.prevObject:this.prevObject.filter(l))}});function Gt(l,f){for(;(l=l[f])&&l.nodeType!==1;);return l}p.each({parent:function(l){var f=l.parentNode;return f&&f.nodeType!==11?f:null},parents:function(l){return wt(l,"parentNode")},parentsUntil:function(l,f,m){return wt(l,"parentNode",m)},next:function(l){return Gt(l,"nextSibling")},prev:function(l){return Gt(l,"previousSibling")},nextAll:function(l){return wt(l,"nextSibling")},prevAll:function(l){return wt(l,"previousSibling")},nextUntil:function(l,f,m){return wt(l,"nextSibling",m)},prevUntil:function(l,f,m){return wt(l,"previousSibling",m)},siblings:function(l){return St((l.parentNode||{}).firstChild,l)},children:function(l){return St(l.firstChild)},contents:function(l){return l.contentDocument!=null&&I(l.contentDocument)?l.contentDocument:(Tt(l,"template")&&(l=l.content||l),p.merge([],l.childNodes))}},function(l,f){p.fn[l]=function(m,y){var E=p.map(this,f,m);return l.slice(-5)!=="Until"&&(y=m),y&&typeof y=="string"&&(E=p.filter(y,E)),this.length>1&&(te[l]||p.uniqueSort(E),Pt.test(l)&&E.reverse()),this.pushStack(E)}});var Ot=/[^\x20\t\r\n\f]+/g;function Kt(l){var f={};return p.each(l.match(Ot)||[],function(m,y){f[y]=!0}),f}p.Callbacks=function(l){l=typeof l=="string"?Kt(l):p.extend({},l);var f,m,y,E,T=[],B=[],tt=-1,W=function(){for(E=E||l.once,y=f=!0;B.length;tt=-1)for(m=B.shift();++tt<T.length;)T[tt].apply(m[0],m[1])===!1&&l.stopOnFalse&&(tt=T.length,m=!1);l.memory||(m=!1),f=!1,E&&(m?T=[]:T="")},rt={add:function(){return T&&(m&&!f&&(tt=T.length-1,B.push(m)),function ht(Lt){p.each(Lt,function(ut,gt){x(gt)?(!l.unique||!rt.has(gt))&&T.push(gt):gt&&gt.length&&z(gt)!=="string"&&ht(gt)})}(arguments),m&&!f&&W()),this},remove:function(){return p.each(arguments,function(ht,Lt){for(var ut;(ut=p.inArray(Lt,T,ut))>-1;)T.splice(ut,1),ut<=tt&&tt--}),this},has:function(ht){return ht?p.inArray(ht,T)>-1:T.length>0},empty:function(){return T&&(T=[]),this},disable:function(){return E=B=[],T=m="",this},disabled:function(){return!T},lock:function(){return E=B=[],!m&&!f&&(T=m=""),this},locked:function(){return!!E},fireWith:function(ht,Lt){return E||(Lt=Lt||[],Lt=[ht,Lt.slice?Lt.slice():Lt],B.push(Lt),f||W()),this},fire:function(){return rt.fireWith(this,arguments),this},fired:function(){return!!y}};return rt};function dt(l){return l}function Ft(l){throw l}function Zt(l,f,m,y){var E;try{l&&x(E=l.promise)?E.call(l).done(f).fail(m):l&&x(E=l.then)?E.call(l,f,m):f.apply(void 0,[l].slice(y))}catch(T){m.apply(void 0,[T])}}p.extend({Deferred:function(l){var f=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],m="pending",y={state:function(){return m},always:function(){return E.done(arguments).fail(arguments),this},catch:function(T){return y.then(null,T)},pipe:function(){var T=arguments;return p.Deferred(function(B){p.each(f,function(tt,W){var rt=x(T[W[4]])&&T[W[4]];E[W[1]](function(){var ht=rt&&rt.apply(this,arguments);ht&&x(ht.promise)?ht.promise().progress(B.notify).done(B.resolve).fail(B.reject):B[W[0]+"With"](this,rt?[ht]:arguments)})}),T=null}).promise()},then:function(T,B,tt){var W=0;function rt(ht,Lt,ut,gt){return function(){var qt=this,le=arguments,$t=function(){var $e,ui;if(!(ht<W)){if($e=ut.apply(qt,le),$e===Lt.promise())throw new TypeError("Thenable self-resolution");ui=$e&&(typeof $e=="object"||typeof $e=="function")&&$e.then,x(ui)?gt?ui.call($e,rt(W,Lt,dt,gt),rt(W,Lt,Ft,gt)):(W++,ui.call($e,rt(W,Lt,dt,gt),rt(W,Lt,Ft,gt),rt(W,Lt,dt,Lt.notifyWith))):(ut!==dt&&(qt=void 0,le=[$e]),(gt||Lt.resolveWith)(qt,le))}},Ye=gt?$t:function(){try{$t()}catch($e){p.Deferred.exceptionHook&&p.Deferred.exceptionHook($e,Ye.stackTrace),ht+1>=W&&(ut!==Ft&&(qt=void 0,le=[$e]),Lt.rejectWith(qt,le))}};ht?Ye():(p.Deferred.getStackHook&&(Ye.stackTrace=p.Deferred.getStackHook()),Et.setTimeout(Ye))}}return p.Deferred(function(ht){f[0][3].add(rt(0,ht,x(tt)?tt:dt,ht.notifyWith)),f[1][3].add(rt(0,ht,x(T)?T:dt)),f[2][3].add(rt(0,ht,x(B)?B:Ft))}).promise()},promise:function(T){return T!=null?p.extend(T,y):y}},E={};return p.each(f,function(T,B){var tt=B[2],W=B[5];y[B[1]]=tt.add,W&&tt.add(function(){m=W},f[3-T][2].disable,f[3-T][3].disable,f[0][2].lock,f[0][3].lock),tt.add(B[3].fire),E[B[0]]=function(){return E[B[0]+"With"](this===E?void 0:this,arguments),this},E[B[0]+"With"]=tt.fireWith}),y.promise(E),l&&l.call(E,E),E},when:function(l){var f=arguments.length,m=f,y=Array(m),E=o.call(arguments),T=p.Deferred(),B=function(tt){return function(W){y[tt]=this,E[tt]=arguments.length>1?o.call(arguments):W,--f||T.resolveWith(y,E)}};if(f<=1&&(Zt(l,T.done(B(m)).resolve,T.reject,!f),T.state()==="pending"||x(E[m]&&E[m].then)))return T.then();for(;m--;)Zt(E[m],B(m),T.reject);return T.promise()}});var jt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(l,f){Et.console&&Et.console.warn&&l&&jt.test(l.name)&&Et.console.warn("jQuery.Deferred exception: "+l.message,l.stack,f)},p.readyException=function(l){Et.setTimeout(function(){throw l})};var de=p.Deferred();p.fn.ready=function(l){return de.then(l).catch(function(f){p.readyException(f)}),this},p.extend({isReady:!1,readyWait:1,ready:function(l){(l===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(l!==!0&&--p.readyWait>0)&&de.resolveWith(S,[p]))}}),p.ready.then=de.then;function oe(){S.removeEventListener("DOMContentLoaded",oe),Et.removeEventListener("load",oe),p.ready()}S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?Et.setTimeout(p.ready):(S.addEventListener("DOMContentLoaded",oe),Et.addEventListener("load",oe));var Ie=function(l,f,m,y,E,T,B){var tt=0,W=l.length,rt=m==null;if(z(m)==="object"){E=!0;for(tt in m)Ie(l,f,tt,m[tt],!0,T,B)}else if(y!==void 0&&(E=!0,x(y)||(B=!0),rt&&(B?(f.call(l,y),f=null):(rt=f,f=function(ht,Lt,ut){return rt.call(p(ht),ut)})),f))for(;tt<W;tt++)f(l[tt],m,B?y:y.call(l[tt],tt,f(l[tt],m)));return E?l:rt?f.call(l):W?f(l[0],m):T},qe=/^-ms-/,Ri=/-([a-z])/g;function xi(l,f){return f.toUpperCase()}function ii(l){return l.replace(qe,"ms-").replace(Ri,xi)}var Ve=function(l){return l.nodeType===1||l.nodeType===9||!+l.nodeType};function Ti(){this.expando=p.expando+Ti.uid++}Ti.uid=1,Ti.prototype={cache:function(l){var f=l[this.expando];return f||(f={},Ve(l)&&(l.nodeType?l[this.expando]=f:Object.defineProperty(l,this.expando,{value:f,configurable:!0}))),f},set:function(l,f,m){var y,E=this.cache(l);if(typeof f=="string")E[ii(f)]=m;else for(y in f)E[ii(y)]=f[y];return E},get:function(l,f){return f===void 0?this.cache(l):l[this.expando]&&l[this.expando][ii(f)]},access:function(l,f,m){return f===void 0||f&&typeof f=="string"&&m===void 0?this.get(l,f):(this.set(l,f,m),m!==void 0?m:f)},remove:function(l,f){var m,y=l[this.expando];if(y!==void 0){if(f!==void 0)for(Array.isArray(f)?f=f.map(ii):(f=ii(f),f=f in y?[f]:f.match(Ot)||[]),m=f.length;m--;)delete y[f[m]];(f===void 0||p.isEmptyObject(y))&&(l.nodeType?l[this.expando]=void 0:delete l[this.expando])}},hasData:function(l){var f=l[this.expando];return f!==void 0&&!p.isEmptyObject(f)}};var Xt=new Ti,We=new Ti,zi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function C(l){return l==="true"?!0:l==="false"?!1:l==="null"?null:l===+l+""?+l:zi.test(l)?JSON.parse(l):l}function O(l,f,m){var y;if(m===void 0&&l.nodeType===1)if(y="data-"+f.replace(Q,"-$&").toLowerCase(),m=l.getAttribute(y),typeof m=="string"){try{m=C(m)}catch{}We.set(l,f,m)}else m=void 0;return m}p.extend({hasData:function(l){return We.hasData(l)||Xt.hasData(l)},data:function(l,f,m){return We.access(l,f,m)},removeData:function(l,f){We.remove(l,f)},_data:function(l,f,m){return Xt.access(l,f,m)},_removeData:function(l,f){Xt.remove(l,f)}}),p.fn.extend({data:function(l,f){var m,y,E,T=this[0],B=T&&T.attributes;if(l===void 0){if(this.length&&(E=We.get(T),T.nodeType===1&&!Xt.get(T,"hasDataAttrs"))){for(m=B.length;m--;)B[m]&&(y=B[m].name,y.indexOf("data-")===0&&(y=ii(y.slice(5)),O(T,y,E[y])));Xt.set(T,"hasDataAttrs",!0)}return E}return typeof l=="object"?this.each(function(){We.set(this,l)}):Ie(this,function(tt){var W;if(T&&tt===void 0)return W=We.get(T,l),W!==void 0||(W=O(T,l),W!==void 0)?W:void 0;this.each(function(){We.set(this,l,tt)})},null,f,arguments.length>1,null,!0)},removeData:function(l){return this.each(function(){We.remove(this,l)})}}),p.extend({queue:function(l,f,m){var y;if(l)return f=(f||"fx")+"queue",y=Xt.get(l,f),m&&(!y||Array.isArray(m)?y=Xt.access(l,f,p.makeArray(m)):y.push(m)),y||[]},dequeue:function(l,f){f=f||"fx";var m=p.queue(l,f),y=m.length,E=m.shift(),T=p._queueHooks(l,f),B=function(){p.dequeue(l,f)};E==="inprogress"&&(E=m.shift(),y--),E&&(f==="fx"&&m.unshift("inprogress"),delete T.stop,E.call(l,B,T)),!y&&T&&T.empty.fire()},_queueHooks:function(l,f){var m=f+"queueHooks";return Xt.get(l,m)||Xt.access(l,m,{empty:p.Callbacks("once memory").add(function(){Xt.remove(l,[f+"queue",m])})})}}),p.fn.extend({queue:function(l,f){var m=2;return typeof l!="string"&&(f=l,l="fx",m--),arguments.length<m?p.queue(this[0],l):f===void 0?this:this.each(function(){var y=p.queue(this,l,f);p._queueHooks(this,l),l==="fx"&&y[0]!=="inprogress"&&p.dequeue(this,l)})},dequeue:function(l){return this.each(function(){p.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,f){var m,y=1,E=p.Deferred(),T=this,B=this.length,tt=function(){--y||E.resolveWith(T,[T])};for(typeof l!="string"&&(f=l,l=void 0),l=l||"fx";B--;)m=Xt.get(T[B],l+"queueHooks"),m&&m.empty&&(y++,m.empty.add(tt));return tt(),E.promise(f)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],mt=S.documentElement,_t=function(l){return p.contains(l.ownerDocument,l)},It={composed:!0};mt.getRootNode&&(_t=function(l){return p.contains(l.ownerDocument,l)||l.getRootNode(It)===l.ownerDocument});var Yt=function(l,f){return l=f||l,l.style.display==="none"||l.style.display===""&&_t(l)&&p.css(l,"display")==="none"};function ue(l,f,m,y){var E,T,B=20,tt=y?function(){return y.cur()}:function(){return p.css(l,f,"")},W=tt(),rt=m&&m[3]||(p.cssNumber[f]?"":"px"),ht=l.nodeType&&(p.cssNumber[f]||rt!=="px"&&+W)&&Y.exec(p.css(l,f));if(ht&&ht[3]!==rt){for(W=W/2,rt=rt||ht[3],ht=+W||1;B--;)p.style(l,f,ht+rt),(1-T)*(1-(T=tt()/W||.5))<=0&&(B=0),ht=ht/T;ht=ht*2,p.style(l,f,ht+rt),m=m||[]}return m&&(ht=+ht||+W||0,E=m[1]?ht+(m[1]+1)*m[2]:+m[2],y&&(y.unit=rt,y.start=ht,y.end=E)),E}var _e={};function ge(l){var f,m=l.ownerDocument,y=l.nodeName,E=_e[y];return E||(f=m.body.appendChild(m.createElement(y)),E=p.css(f,"display"),f.parentNode.removeChild(f),E==="none"&&(E="block"),_e[y]=E,E)}function ke(l,f){for(var m,y,E=[],T=0,B=l.length;T<B;T++)y=l[T],y.style&&(m=y.style.display,f?(m==="none"&&(E[T]=Xt.get(y,"display")||null,E[T]||(y.style.display="")),y.style.display===""&&Yt(y)&&(E[T]=ge(y))):m!=="none"&&(E[T]="none",Xt.set(y,"display",m)));for(T=0;T<B;T++)E[T]!=null&&(l[T].style.display=E[T]);return l}p.fn.extend({show:function(){return ke(this,!0)},hide:function(){return ke(this)},toggle:function(l){return typeof l=="boolean"?l?this.show():this.hide():this.each(function(){Yt(this)?p(this).show():p(this).hide()})}});var se=/^(?:checkbox|radio)$/i,De=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ze=/^$|^module$|\/(?:java|ecma)script/i;(function(){var l=S.createDocumentFragment(),f=l.appendChild(S.createElement("div")),m=S.createElement("input");m.setAttribute("type","radio"),m.setAttribute("checked","checked"),m.setAttribute("name","t"),f.appendChild(m),b.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked,f.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!f.cloneNode(!0).lastChild.defaultValue,f.innerHTML="<option></option>",b.option=!!f.lastChild})();var Pe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td,b.option||(Pe.optgroup=Pe.option=[1,"<select multiple='multiple'>","</select>"]);function Le(l,f){var m;return typeof l.getElementsByTagName<"u"?m=l.getElementsByTagName(f||"*"):typeof l.querySelectorAll<"u"?m=l.querySelectorAll(f||"*"):m=[],f===void 0||f&&Tt(l,f)?p.merge([l],m):m}function Xe(l,f){for(var m=0,y=l.length;m<y;m++)Xt.set(l[m],"globalEval",!f||Xt.get(f[m],"globalEval"))}var ni=/<|&#?\w+;/;function vi(l,f,m,y,E){for(var T,B,tt,W,rt,ht,Lt=f.createDocumentFragment(),ut=[],gt=0,qt=l.length;gt<qt;gt++)if(T=l[gt],T||T===0)if(z(T)==="object")p.merge(ut,T.nodeType?[T]:T);else if(!ni.test(T))ut.push(f.createTextNode(T));else{for(B=B||Lt.appendChild(f.createElement("div")),tt=(De.exec(T)||["",""])[1].toLowerCase(),W=Pe[tt]||Pe._default,B.innerHTML=W[1]+p.htmlPrefilter(T)+W[2],ht=W[0];ht--;)B=B.lastChild;p.merge(ut,B.childNodes),B=Lt.firstChild,B.textContent=""}for(Lt.textContent="",gt=0;T=ut[gt++];){if(y&&p.inArray(T,y)>-1){E&&E.push(T);continue}if(rt=_t(T),B=Le(Lt.appendChild(T),"script"),rt&&Xe(B),m)for(ht=0;T=B[ht++];)ze.test(T.type||"")&&m.push(T)}return Lt}var fi=/^([^.]*)(?:\.(.+)|)/;function Ge(){return!0}function Qe(){return!1}function Pi(l,f){return l===Ni()==(f==="focus")}function Ni(){try{return S.activeElement}catch{}}function Je(l,f,m,y,E,T){var B,tt;if(typeof f=="object"){typeof m!="string"&&(y=y||m,m=void 0);for(tt in f)Je(l,tt,m,y,f[tt],T);return l}if(y==null&&E==null?(E=m,y=m=void 0):E==null&&(typeof m=="string"?(E=y,y=void 0):(E=y,y=m,m=void 0)),E===!1)E=Qe;else if(!E)return l;return T===1&&(B=E,E=function(W){return p().off(W),B.apply(this,arguments)},E.guid=B.guid||(B.guid=p.guid++)),l.each(function(){p.event.add(this,f,E,y,m)})}p.event={global:{},add:function(l,f,m,y,E){var T,B,tt,W,rt,ht,Lt,ut,gt,qt,le,$t=Xt.get(l);if(Ve(l))for(m.handler&&(T=m,m=T.handler,E=T.selector),E&&p.find.matchesSelector(mt,E),m.guid||(m.guid=p.guid++),(W=$t.events)||(W=$t.events=Object.create(null)),(B=$t.handle)||(B=$t.handle=function(Ye){return typeof p<"u"&&p.event.triggered!==Ye.type?p.event.dispatch.apply(l,arguments):void 0}),f=(f||"").match(Ot)||[""],rt=f.length;rt--;)tt=fi.exec(f[rt])||[],gt=le=tt[1],qt=(tt[2]||"").split(".").sort(),gt&&(Lt=p.event.special[gt]||{},gt=(E?Lt.delegateType:Lt.bindType)||gt,Lt=p.event.special[gt]||{},ht=p.extend({type:gt,origType:le,data:y,handler:m,guid:m.guid,selector:E,needsContext:E&&p.expr.match.needsContext.test(E),namespace:qt.join(".")},T),(ut=W[gt])||(ut=W[gt]=[],ut.delegateCount=0,(!Lt.setup||Lt.setup.call(l,y,qt,B)===!1)&&l.addEventListener&&l.addEventListener(gt,B)),Lt.add&&(Lt.add.call(l,ht),ht.handler.guid||(ht.handler.guid=m.guid)),E?ut.splice(ut.delegateCount++,0,ht):ut.push(ht),p.event.global[gt]=!0)},remove:function(l,f,m,y,E){var T,B,tt,W,rt,ht,Lt,ut,gt,qt,le,$t=Xt.hasData(l)&&Xt.get(l);if(!(!$t||!(W=$t.events))){for(f=(f||"").match(Ot)||[""],rt=f.length;rt--;){if(tt=fi.exec(f[rt])||[],gt=le=tt[1],qt=(tt[2]||"").split(".").sort(),!gt){for(gt in W)p.event.remove(l,gt+f[rt],m,y,!0);continue}for(Lt=p.event.special[gt]||{},gt=(y?Lt.delegateType:Lt.bindType)||gt,ut=W[gt]||[],tt=tt[2]&&new RegExp("(^|\\.)"+qt.join("\\.(?:.*\\.|)")+"(\\.|$)"),B=T=ut.length;T--;)ht=ut[T],(E||le===ht.origType)&&(!m||m.guid===ht.guid)&&(!tt||tt.test(ht.namespace))&&(!y||y===ht.selector||y==="**"&&ht.selector)&&(ut.splice(T,1),ht.selector&&ut.delegateCount--,Lt.remove&&Lt.remove.call(l,ht));B&&!ut.length&&((!Lt.teardown||Lt.teardown.call(l,qt,$t.handle)===!1)&&p.removeEvent(l,gt,$t.handle),delete W[gt])}p.isEmptyObject(W)&&Xt.remove(l,"handle events")}},dispatch:function(l){var f,m,y,E,T,B,tt=new Array(arguments.length),W=p.event.fix(l),rt=(Xt.get(this,"events")||Object.create(null))[W.type]||[],ht=p.event.special[W.type]||{};for(tt[0]=W,f=1;f<arguments.length;f++)tt[f]=arguments[f];if(W.delegateTarget=this,!(ht.preDispatch&&ht.preDispatch.call(this,W)===!1)){for(B=p.event.handlers.call(this,W,rt),f=0;(E=B[f++])&&!W.isPropagationStopped();)for(W.currentTarget=E.elem,m=0;(T=E.handlers[m++])&&!W.isImmediatePropagationStopped();)(!W.rnamespace||T.namespace===!1||W.rnamespace.test(T.namespace))&&(W.handleObj=T,W.data=T.data,y=((p.event.special[T.origType]||{}).handle||T.handler).apply(E.elem,tt),y!==void 0&&(W.result=y)===!1&&(W.preventDefault(),W.stopPropagation()));return ht.postDispatch&&ht.postDispatch.call(this,W),W.result}},handlers:function(l,f){var m,y,E,T,B,tt=[],W=f.delegateCount,rt=l.target;if(W&&rt.nodeType&&!(l.type==="click"&&l.button>=1)){for(;rt!==this;rt=rt.parentNode||this)if(rt.nodeType===1&&!(l.type==="click"&&rt.disabled===!0)){for(T=[],B={},m=0;m<W;m++)y=f[m],E=y.selector+" ",B[E]===void 0&&(B[E]=y.needsContext?p(E,this).index(rt)>-1:p.find(E,this,null,[rt]).length),B[E]&&T.push(y);T.length&&tt.push({elem:rt,handlers:T})}}return rt=this,W<f.length&&tt.push({elem:rt,handlers:f.slice(W)}),tt},addProp:function(l,f){Object.defineProperty(p.Event.prototype,l,{enumerable:!0,configurable:!0,get:x(f)?function(){if(this.originalEvent)return f(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},set:function(m){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:m})}})},fix:function(l){return l[p.expando]?l:new p.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){var f=this||l;return se.test(f.type)&&f.click&&Tt(f,"input")&&Ue(f,"click",Ge),!1},trigger:function(l){var f=this||l;return se.test(f.type)&&f.click&&Tt(f,"input")&&Ue(f,"click"),!0},_default:function(l){var f=l.target;return se.test(f.type)&&f.click&&Tt(f,"input")&&Xt.get(f,"click")||Tt(f,"a")}},beforeunload:{postDispatch:function(l){l.result!==void 0&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}};function Ue(l,f,m){if(!m){Xt.get(l,f)===void 0&&p.event.add(l,f,Ge);return}Xt.set(l,f,!1),p.event.add(l,f,{namespace:!1,handler:function(y){var E,T,B=Xt.get(this,f);if(y.isTrigger&1&&this[f]){if(B.length)(p.event.special[f]||{}).delegateType&&y.stopPropagation();else if(B=o.call(arguments),Xt.set(this,f,B),E=m(this,f),this[f](),T=Xt.get(this,f),B!==T||E?Xt.set(this,f,!1):T={},B!==T)return y.stopImmediatePropagation(),y.preventDefault(),T&&T.value}else B.length&&(Xt.set(this,f,{value:p.event.trigger(p.extend(B[0],p.Event.prototype),B.slice(1),this)}),y.stopImmediatePropagation())}})}p.removeEvent=function(l,f,m){l.removeEventListener&&l.removeEventListener(f,m)},p.Event=function(l,f){if(!(this instanceof p.Event))return new p.Event(l,f);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||l.defaultPrevented===void 0&&l.returnValue===!1?Ge:Qe,this.target=l.target&&l.target.nodeType===3?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):this.type=l,f&&p.extend(this,f),this.timeStamp=l&&l.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Qe,isPropagationStopped:Qe,isImmediatePropagationStopped:Qe,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=Ge,l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=Ge,l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=this.originalEvent;this.isImmediatePropagationStopped=Ge,l&&!this.isSimulated&&l.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(l,f){p.event.special[l]={setup:function(){return Ue(this,l,Pi),!1},trigger:function(){return Ue(this,l),!0},_default:function(m){return Xt.get(m.target,l)},delegateType:f}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,f){p.event.special[l]={delegateType:f,bindType:f,handle:function(m){var y,E=this,T=m.relatedTarget,B=m.handleObj;return(!T||T!==E&&!p.contains(E,T))&&(m.type=B.origType,y=B.handler.apply(this,arguments),m.type=f),y}}}),p.fn.extend({on:function(l,f,m,y){return Je(this,l,f,m,y)},one:function(l,f,m,y){return Je(this,l,f,m,y,1)},off:function(l,f,m){var y,E;if(l&&l.preventDefault&&l.handleObj)return y=l.handleObj,p(l.delegateTarget).off(y.namespace?y.origType+"."+y.namespace:y.origType,y.selector,y.handler),this;if(typeof l=="object"){for(E in l)this.off(E,f,l[E]);return this}return(f===!1||typeof f=="function")&&(m=f,f=void 0),m===!1&&(m=Qe),this.each(function(){p.event.remove(this,l,m,f)})}});var Si=/<script|<style|<link/i,yn=/checked\s*(?:[^=]|=\s*.checked.)/i,Bn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Wi(l,f){return Tt(l,"table")&&Tt(f.nodeType!==11?f:f.firstChild,"tr")&&p(l).children("tbody")[0]||l}function ar(l){return l.type=(l.getAttribute("type")!==null)+"/"+l.type,l}function In(l){return(l.type||"").slice(0,5)==="true/"?l.type=l.type.slice(5):l.removeAttribute("type"),l}function ai(l,f){var m,y,E,T,B,tt,W;if(f.nodeType===1){if(Xt.hasData(l)&&(T=Xt.get(l),W=T.events,W)){Xt.remove(f,"handle events");for(E in W)for(m=0,y=W[E].length;m<y;m++)p.event.add(f,E,W[E][m])}We.hasData(l)&&(B=We.access(l),tt=p.extend({},B),We.set(f,tt))}}function Wt(l,f){var m=f.nodeName.toLowerCase();m==="input"&&se.test(l.type)?f.checked=l.checked:(m==="input"||m==="textarea")&&(f.defaultValue=l.defaultValue)}function Di(l,f,m,y){f=k(f);var E,T,B,tt,W,rt,ht=0,Lt=l.length,ut=Lt-1,gt=f[0],qt=x(gt);if(qt||Lt>1&&typeof gt=="string"&&!b.checkClone&&yn.test(gt))return l.each(function(le){var $t=l.eq(le);qt&&(f[0]=gt.call(this,le,$t.html())),Di($t,f,m,y)});if(Lt&&(E=vi(f,l[0].ownerDocument,!1,l,y),T=E.firstChild,E.childNodes.length===1&&(E=T),T||y)){for(B=p.map(Le(E,"script"),ar),tt=B.length;ht<Lt;ht++)W=E,ht!==ut&&(W=p.clone(W,!0,!0),tt&&p.merge(B,Le(W,"script"))),m.call(l[ht],W,ht);if(tt)for(rt=B[B.length-1].ownerDocument,p.map(B,In),ht=0;ht<tt;ht++)W=B[ht],ze.test(W.type||"")&&!Xt.access(W,"globalEval")&&p.contains(rt,W)&&(W.src&&(W.type||"").toLowerCase()!=="module"?p._evalUrl&&!W.noModule&&p._evalUrl(W.src,{nonce:W.nonce||W.getAttribute("nonce")},rt):H(W.textContent.replace(Bn,""),W,rt))}return l}function Ci(l,f,m){for(var y,E=f?p.filter(f,l):l,T=0;(y=E[T])!=null;T++)!m&&y.nodeType===1&&p.cleanData(Le(y)),y.parentNode&&(m&&_t(y)&&Xe(Le(y,"script")),y.parentNode.removeChild(y));return l}p.extend({htmlPrefilter:function(l){return l},clone:function(l,f,m){var y,E,T,B,tt=l.cloneNode(!0),W=_t(l);if(!b.noCloneChecked&&(l.nodeType===1||l.nodeType===11)&&!p.isXMLDoc(l))for(B=Le(tt),T=Le(l),y=0,E=T.length;y<E;y++)Wt(T[y],B[y]);if(f)if(m)for(T=T||Le(l),B=B||Le(tt),y=0,E=T.length;y<E;y++)ai(T[y],B[y]);else ai(l,tt);return B=Le(tt,"script"),B.length>0&&Xe(B,!W&&Le(l,"script")),tt},cleanData:function(l){for(var f,m,y,E=p.event.special,T=0;(m=l[T])!==void 0;T++)if(Ve(m)){if(f=m[Xt.expando]){if(f.events)for(y in f.events)E[y]?p.event.remove(m,y):p.removeEvent(m,y,f.handle);m[Xt.expando]=void 0}m[We.expando]&&(m[We.expando]=void 0)}}}),p.fn.extend({detach:function(l){return Ci(this,l,!0)},remove:function(l){return Ci(this,l)},text:function(l){return Ie(this,function(f){return f===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=f)})},null,l,arguments.length)},append:function(){return Di(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=Wi(this,l);f.appendChild(l)}})},prepend:function(){return Di(this,arguments,function(l){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=Wi(this,l);f.insertBefore(l,f.firstChild)}})},before:function(){return Di(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this)})},after:function(){return Di(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,f=0;(l=this[f])!=null;f++)l.nodeType===1&&(p.cleanData(Le(l,!1)),l.textContent="");return this},clone:function(l,f){return l=l??!1,f=f??l,this.map(function(){return p.clone(this,l,f)})},html:function(l){return Ie(this,function(f){var m=this[0]||{},y=0,E=this.length;if(f===void 0&&m.nodeType===1)return m.innerHTML;if(typeof f=="string"&&!Si.test(f)&&!Pe[(De.exec(f)||["",""])[1].toLowerCase()]){f=p.htmlPrefilter(f);try{for(;y<E;y++)m=this[y]||{},m.nodeType===1&&(p.cleanData(Le(m,!1)),m.innerHTML=f);m=0}catch{}}m&&this.empty().append(f)},null,l,arguments.length)},replaceWith:function(){var l=[];return Di(this,arguments,function(f){var m=this.parentNode;p.inArray(this,l)<0&&(p.cleanData(Le(this)),m&&m.replaceChild(f,this))},l)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,f){p.fn[l]=function(m){for(var y,E=[],T=p(m),B=T.length-1,tt=0;tt<=B;tt++)y=tt===B?this:this.clone(!0),p(T[tt])[f](y),P.apply(E,y.get());return this.pushStack(E)}});var wi=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),bn=/^--/,Ai=function(l){var f=l.ownerDocument.defaultView;return(!f||!f.opener)&&(f=Et),f.getComputedStyle(l)},Fi=function(l,f,m){var y,E,T={};for(E in f)T[E]=l.style[E],l.style[E]=f[E];y=m.call(l);for(E in f)l.style[E]=T[E];return y},$i=new RegExp(it.join("|"),"i"),Ln="[\\x20\\t\\r\\n\\f]",Jn=new RegExp("^"+Ln+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ln+"+$","g");(function(){function l(){if(rt){W.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",rt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",mt.appendChild(W).appendChild(rt);var ht=Et.getComputedStyle(rt);m=ht.top!=="1%",tt=f(ht.marginLeft)===12,rt.style.right="60%",T=f(ht.right)===36,y=f(ht.width)===36,rt.style.position="absolute",E=f(rt.offsetWidth/3)===12,mt.removeChild(W),rt=null}}function f(ht){return Math.round(parseFloat(ht))}var m,y,E,T,B,tt,W=S.createElement("div"),rt=S.createElement("div");rt.style&&(rt.style.backgroundClip="content-box",rt.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=rt.style.backgroundClip==="content-box",p.extend(b,{boxSizingReliable:function(){return l(),y},pixelBoxStyles:function(){return l(),T},pixelPosition:function(){return l(),m},reliableMarginLeft:function(){return l(),tt},scrollboxSize:function(){return l(),E},reliableTrDimensions:function(){var ht,Lt,ut,gt;return B==null&&(ht=S.createElement("table"),Lt=S.createElement("tr"),ut=S.createElement("div"),ht.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Lt.style.cssText="border:1px solid",Lt.style.height="1px",ut.style.height="9px",ut.style.display="block",mt.appendChild(ht).appendChild(Lt).appendChild(ut),gt=Et.getComputedStyle(Lt),B=parseInt(gt.height,10)+parseInt(gt.borderTopWidth,10)+parseInt(gt.borderBottomWidth,10)===Lt.offsetHeight,mt.removeChild(ht)),B}}))})();function fn(l,f,m){var y,E,T,B,tt=bn.test(f),W=l.style;return m=m||Ai(l),m&&(B=m.getPropertyValue(f)||m[f],tt&&B&&(B=B.replace(Jn,"$1")||void 0),B===""&&!_t(l)&&(B=p.style(l,f)),!b.pixelBoxStyles()&&wi.test(B)&&$i.test(f)&&(y=W.width,E=W.minWidth,T=W.maxWidth,W.minWidth=W.maxWidth=W.width=B,B=m.width,W.width=y,W.minWidth=E,W.maxWidth=T)),B!==void 0?B+"":B}function Rn(l,f){return{get:function(){if(l()){delete this.get;return}return(this.get=f).apply(this,arguments)}}}var xn=["Webkit","Moz","ms"],wn=S.createElement("div").style,kn={};function Mn(l){for(var f=l[0].toUpperCase()+l.slice(1),m=xn.length;m--;)if(l=xn[m]+f,l in wn)return l}function Ki(l){var f=p.cssProps[l]||kn[l];return f||(l in wn?l:kn[l]=Mn(l)||l)}var Yn=/^(none|table(?!-c[ea]).+)/,lr={position:"absolute",visibility:"hidden",display:"block"},Xi={letterSpacing:"0",fontWeight:"400"};function Qn(l,f,m){var y=Y.exec(f);return y?Math.max(0,y[2]-(m||0))+(y[3]||"px"):f}function Ji(l,f,m,y,E,T){var B=f==="width"?1:0,tt=0,W=0;if(m===(y?"border":"content"))return 0;for(;B<4;B+=2)m==="margin"&&(W+=p.css(l,m+it[B],!0,E)),y?(m==="content"&&(W-=p.css(l,"padding"+it[B],!0,E)),m!=="margin"&&(W-=p.css(l,"border"+it[B]+"Width",!0,E))):(W+=p.css(l,"padding"+it[B],!0,E),m!=="padding"?W+=p.css(l,"border"+it[B]+"Width",!0,E):tt+=p.css(l,"border"+it[B]+"Width",!0,E));return!y&&T>=0&&(W+=Math.max(0,Math.ceil(l["offset"+f[0].toUpperCase()+f.slice(1)]-T-W-tt-.5))||0),W}function Oi(l,f,m){var y=Ai(l),E=!b.boxSizingReliable()||m,T=E&&p.css(l,"boxSizing",!1,y)==="border-box",B=T,tt=fn(l,f,y),W="offset"+f[0].toUpperCase()+f.slice(1);if(wi.test(tt)){if(!m)return tt;tt="auto"}return(!b.boxSizingReliable()&&T||!b.reliableTrDimensions()&&Tt(l,"tr")||tt==="auto"||!parseFloat(tt)&&p.css(l,"display",!1,y)==="inline")&&l.getClientRects().length&&(T=p.css(l,"boxSizing",!1,y)==="border-box",B=W in l,B&&(tt=l[W])),tt=parseFloat(tt)||0,tt+Ji(l,f,m||(T?"border":"content"),B,y,tt)+"px"}p.extend({cssHooks:{opacity:{get:function(l,f){if(f){var m=fn(l,"opacity");return m===""?"1":m}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(l,f,m,y){if(!(!l||l.nodeType===3||l.nodeType===8||!l.style)){var E,T,B,tt=ii(f),W=bn.test(f),rt=l.style;if(W||(f=Ki(tt)),B=p.cssHooks[f]||p.cssHooks[tt],m!==void 0){if(T=typeof m,T==="string"&&(E=Y.exec(m))&&E[1]&&(m=ue(l,f,E),T="number"),m==null||m!==m)return;T==="number"&&!W&&(m+=E&&E[3]||(p.cssNumber[tt]?"":"px")),!b.clearCloneStyle&&m===""&&f.indexOf("background")===0&&(rt[f]="inherit"),(!B||!("set"in B)||(m=B.set(l,m,y))!==void 0)&&(W?rt.setProperty(f,m):rt[f]=m)}else return B&&"get"in B&&(E=B.get(l,!1,y))!==void 0?E:rt[f]}},css:function(l,f,m,y){var E,T,B,tt=ii(f),W=bn.test(f);return W||(f=Ki(tt)),B=p.cssHooks[f]||p.cssHooks[tt],B&&"get"in B&&(E=B.get(l,!0,m)),E===void 0&&(E=fn(l,f,y)),E==="normal"&&f in Xi&&(E=Xi[f]),m===""||m?(T=parseFloat(E),m===!0||isFinite(T)?T||0:E):E}}),p.each(["height","width"],function(l,f){p.cssHooks[f]={get:function(m,y,E){if(y)return Yn.test(p.css(m,"display"))&&(!m.getClientRects().length||!m.getBoundingClientRect().width)?Fi(m,lr,function(){return Oi(m,f,E)}):Oi(m,f,E)},set:function(m,y,E){var T,B=Ai(m),tt=!b.scrollboxSize()&&B.position==="absolute",W=tt||E,rt=W&&p.css(m,"boxSizing",!1,B)==="border-box",ht=E?Ji(m,f,E,rt,B):0;return rt&&tt&&(ht-=Math.ceil(m["offset"+f[0].toUpperCase()+f.slice(1)]-parseFloat(B[f])-Ji(m,f,"border",!1,B)-.5)),ht&&(T=Y.exec(y))&&(T[3]||"px")!=="px"&&(m.style[f]=y,y=p.css(m,f)),Qn(m,y,ht)}}}),p.cssHooks.marginLeft=Rn(b.reliableMarginLeft,function(l,f){if(f)return(parseFloat(fn(l,"marginLeft"))||l.getBoundingClientRect().left-Fi(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(l,f){p.cssHooks[l+f]={expand:function(m){for(var y=0,E={},T=typeof m=="string"?m.split(" "):[m];y<4;y++)E[l+it[y]+f]=T[y]||T[y-2]||T[0];return E}},l!=="margin"&&(p.cssHooks[l+f].set=Qn)}),p.fn.extend({css:function(l,f){return Ie(this,function(m,y,E){var T,B,tt={},W=0;if(Array.isArray(y)){for(T=Ai(m),B=y.length;W<B;W++)tt[y[W]]=p.css(m,y[W],!1,T);return tt}return E!==void 0?p.style(m,y,E):p.css(m,y)},l,f,arguments.length>1)}});function ri(l,f,m,y,E){return new ri.prototype.init(l,f,m,y,E)}p.Tween=ri,ri.prototype={constructor:ri,init:function(l,f,m,y,E,T){this.elem=l,this.prop=m,this.easing=E||p.easing._default,this.options=f,this.start=this.now=this.cur(),this.end=y,this.unit=T||(p.cssNumber[m]?"":"px")},cur:function(){var l=ri.propHooks[this.prop];return l&&l.get?l.get(this):ri.propHooks._default.get(this)},run:function(l){var f,m=ri.propHooks[this.prop];return this.options.duration?this.pos=f=p.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):this.pos=f=l,this.now=(this.end-this.start)*f+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),m&&m.set?m.set(this):ri.propHooks._default.set(this),this}},ri.prototype.init.prototype=ri.prototype,ri.propHooks={_default:{get:function(l){var f;return l.elem.nodeType!==1||l.elem[l.prop]!=null&&l.elem.style[l.prop]==null?l.elem[l.prop]:(f=p.css(l.elem,l.prop,""),!f||f==="auto"?0:f)},set:function(l){p.fx.step[l.prop]?p.fx.step[l.prop](l):l.elem.nodeType===1&&(p.cssHooks[l.prop]||l.elem.style[Ki(l.prop)]!=null)?p.style(l.elem,l.prop,l.now+l.unit):l.elem[l.prop]=l.now}}},ri.propHooks.scrollTop=ri.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}},p.easing={linear:function(l){return l},swing:function(l){return .5-Math.cos(l*Math.PI)/2},_default:"swing"},p.fx=ri.prototype.init,p.fx.step={};var ji,Ei,ve=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;function Ui(){Ei&&(S.hidden===!1&&Et.requestAnimationFrame?Et.requestAnimationFrame(Ui):Et.setTimeout(Ui,p.fx.interval),p.fx.tick())}function Bi(){return Et.setTimeout(function(){ji=void 0}),ji=Date.now()}function ki(l,f){var m,y=0,E={height:l};for(f=f?1:0;y<4;y+=2-f)m=it[y],E["margin"+m]=E["padding"+m]=l;return f&&(E.opacity=E.width=l),E}function dn(l,f,m){for(var y,E=(li.tweeners[f]||[]).concat(li.tweeners["*"]),T=0,B=E.length;T<B;T++)if(y=E[T].call(m,f,l))return y}function pe(l,f,m){var y,E,T,B,tt,W,rt,ht,Lt="width"in f||"height"in f,ut=this,gt={},qt=l.style,le=l.nodeType&&Yt(l),$t=Xt.get(l,"fxshow");m.queue||(B=p._queueHooks(l,"fx"),B.unqueued==null&&(B.unqueued=0,tt=B.empty.fire,B.empty.fire=function(){B.unqueued||tt()}),B.unqueued++,ut.always(function(){ut.always(function(){B.unqueued--,p.queue(l,"fx").length||B.empty.fire()})}));for(y in f)if(E=f[y],ve.test(E)){if(delete f[y],T=T||E==="toggle",E===(le?"hide":"show"))if(E==="show"&&$t&&$t[y]!==void 0)le=!0;else continue;gt[y]=$t&&$t[y]||p.style(l,y)}if(W=!p.isEmptyObject(f),!(!W&&p.isEmptyObject(gt))){Lt&&l.nodeType===1&&(m.overflow=[qt.overflow,qt.overflowX,qt.overflowY],rt=$t&&$t.display,rt==null&&(rt=Xt.get(l,"display")),ht=p.css(l,"display"),ht==="none"&&(rt?ht=rt:(ke([l],!0),rt=l.style.display||rt,ht=p.css(l,"display"),ke([l]))),(ht==="inline"||ht==="inline-block"&&rt!=null)&&p.css(l,"float")==="none"&&(W||(ut.done(function(){qt.display=rt}),rt==null&&(ht=qt.display,rt=ht==="none"?"":ht)),qt.display="inline-block")),m.overflow&&(qt.overflow="hidden",ut.always(function(){qt.overflow=m.overflow[0],qt.overflowX=m.overflow[1],qt.overflowY=m.overflow[2]})),W=!1;for(y in gt)W||($t?"hidden"in $t&&(le=$t.hidden):$t=Xt.access(l,"fxshow",{display:rt}),T&&($t.hidden=!le),le&&ke([l],!0),ut.done(function(){le||ke([l]),Xt.remove(l,"fxshow");for(y in gt)p.style(l,y,gt[y])})),W=dn(le?$t[y]:0,y,ut),y in $t||($t[y]=W.start,le&&(W.end=W.start,W.start=0))}}function Fe(l,f){var m,y,E,T,B;for(m in l)if(y=ii(m),E=f[y],T=l[m],Array.isArray(T)&&(E=T[1],T=l[m]=T[0]),m!==y&&(l[y]=T,delete l[m]),B=p.cssHooks[y],B&&"expand"in B){T=B.expand(T),delete l[y];for(m in T)m in l||(l[m]=T[m],f[m]=E)}else f[y]=E}function li(l,f,m){var y,E,T=0,B=li.prefilters.length,tt=p.Deferred().always(function(){delete W.elem}),W=function(){if(E)return!1;for(var Lt=ji||Bi(),ut=Math.max(0,rt.startTime+rt.duration-Lt),gt=ut/rt.duration||0,qt=1-gt,le=0,$t=rt.tweens.length;le<$t;le++)rt.tweens[le].run(qt);return tt.notifyWith(l,[rt,qt,ut]),qt<1&&$t?ut:($t||tt.notifyWith(l,[rt,1,0]),tt.resolveWith(l,[rt]),!1)},rt=tt.promise({elem:l,props:p.extend({},f),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},m),originalProperties:f,originalOptions:m,startTime:ji||Bi(),duration:m.duration,tweens:[],createTween:function(Lt,ut){var gt=p.Tween(l,rt.opts,Lt,ut,rt.opts.specialEasing[Lt]||rt.opts.easing);return rt.tweens.push(gt),gt},stop:function(Lt){var ut=0,gt=Lt?rt.tweens.length:0;if(E)return this;for(E=!0;ut<gt;ut++)rt.tweens[ut].run(1);return Lt?(tt.notifyWith(l,[rt,1,0]),tt.resolveWith(l,[rt,Lt])):tt.rejectWith(l,[rt,Lt]),this}}),ht=rt.props;for(Fe(ht,rt.opts.specialEasing);T<B;T++)if(y=li.prefilters[T].call(rt,l,ht,rt.opts),y)return x(y.stop)&&(p._queueHooks(rt.elem,rt.opts.queue).stop=y.stop.bind(y)),y;return p.map(ht,dn,rt),x(rt.opts.start)&&rt.opts.start.call(l,rt),rt.progress(rt.opts.progress).done(rt.opts.done,rt.opts.complete).fail(rt.opts.fail).always(rt.opts.always),p.fx.timer(p.extend(W,{elem:l,anim:rt,queue:rt.opts.queue})),rt}p.Animation=p.extend(li,{tweeners:{"*":[function(l,f){var m=this.createTween(l,f);return ue(m.elem,l,Y.exec(f),m),m}]},tweener:function(l,f){x(l)?(f=l,l=["*"]):l=l.match(Ot);for(var m,y=0,E=l.length;y<E;y++)m=l[y],li.tweeners[m]=li.tweeners[m]||[],li.tweeners[m].unshift(f)},prefilters:[pe],prefilter:function(l,f){f?li.prefilters.unshift(l):li.prefilters.push(l)}}),p.speed=function(l,f,m){var y=l&&typeof l=="object"?p.extend({},l):{complete:m||!m&&f||x(l)&&l,duration:l,easing:m&&f||f&&!x(f)&&f};return p.fx.off?y.duration=0:typeof y.duration!="number"&&(y.duration in p.fx.speeds?y.duration=p.fx.speeds[y.duration]:y.duration=p.fx.speeds._default),(y.queue==null||y.queue===!0)&&(y.queue="fx"),y.old=y.complete,y.complete=function(){x(y.old)&&y.old.call(this),y.queue&&p.dequeue(this,y.queue)},y},p.fn.extend({fadeTo:function(l,f,m,y){return this.filter(Yt).css("opacity",0).show().end().animate({opacity:f},l,m,y)},animate:function(l,f,m,y){var E=p.isEmptyObject(l),T=p.speed(f,m,y),B=function(){var tt=li(this,p.extend({},l),T);(E||Xt.get(this,"finish"))&&tt.stop(!0)};return B.finish=B,E||T.queue===!1?this.each(B):this.queue(T.queue,B)},stop:function(l,f,m){var y=function(E){var T=E.stop;delete E.stop,T(m)};return typeof l!="string"&&(m=f,f=l,l=void 0),f&&this.queue(l||"fx",[]),this.each(function(){var E=!0,T=l!=null&&l+"queueHooks",B=p.timers,tt=Xt.get(this);if(T)tt[T]&&tt[T].stop&&y(tt[T]);else for(T in tt)tt[T]&&tt[T].stop&&Oe.test(T)&&y(tt[T]);for(T=B.length;T--;)B[T].elem===this&&(l==null||B[T].queue===l)&&(B[T].anim.stop(m),E=!1,B.splice(T,1));(E||!m)&&p.dequeue(this,l)})},finish:function(l){return l!==!1&&(l=l||"fx"),this.each(function(){var f,m=Xt.get(this),y=m[l+"queue"],E=m[l+"queueHooks"],T=p.timers,B=y?y.length:0;for(m.finish=!0,p.queue(this,l,[]),E&&E.stop&&E.stop.call(this,!0),f=T.length;f--;)T[f].elem===this&&T[f].queue===l&&(T[f].anim.stop(!0),T.splice(f,1));for(f=0;f<B;f++)y[f]&&y[f].finish&&y[f].finish.call(this);delete m.finish})}}),p.each(["toggle","show","hide"],function(l,f){var m=p.fn[f];p.fn[f]=function(y,E,T){return y==null||typeof y=="boolean"?m.apply(this,arguments):this.animate(ki(f,!0),y,E,T)}}),p.each({slideDown:ki("show"),slideUp:ki("hide"),slideToggle:ki("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,f){p.fn[l]=function(m,y,E){return this.animate(f,m,y,E)}}),p.timers=[],p.fx.tick=function(){var l,f=0,m=p.timers;for(ji=Date.now();f<m.length;f++)l=m[f],!l()&&m[f]===l&&m.splice(f--,1);m.length||p.fx.stop(),ji=void 0},p.fx.timer=function(l){p.timers.push(l),p.fx.start()},p.fx.interval=13,p.fx.start=function(){Ei||(Ei=!0,Ui())},p.fx.stop=function(){Ei=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(l,f){return l=p.fx&&p.fx.speeds[l]||l,f=f||"fx",this.queue(f,function(m,y){var E=Et.setTimeout(m,l);y.stop=function(){Et.clearTimeout(E)}})},function(){var l=S.createElement("input"),f=S.createElement("select"),m=f.appendChild(S.createElement("option"));l.type="checkbox",b.checkOn=l.value!=="",b.optSelected=m.selected,l=S.createElement("input"),l.value="t",l.type="radio",b.radioValue=l.value==="t"}();var Yi,ti=p.expr.attrHandle;p.fn.extend({attr:function(l,f){return Ie(this,p.attr,l,f,arguments.length>1)},removeAttr:function(l){return this.each(function(){p.removeAttr(this,l)})}}),p.extend({attr:function(l,f,m){var y,E,T=l.nodeType;if(!(T===3||T===8||T===2)){if(typeof l.getAttribute>"u")return p.prop(l,f,m);if((T!==1||!p.isXMLDoc(l))&&(E=p.attrHooks[f.toLowerCase()]||(p.expr.match.bool.test(f)?Yi:void 0)),m!==void 0){if(m===null){p.removeAttr(l,f);return}return E&&"set"in E&&(y=E.set(l,m,f))!==void 0?y:(l.setAttribute(f,m+""),m)}return E&&"get"in E&&(y=E.get(l,f))!==null?y:(y=p.find.attr(l,f),y??void 0)}},attrHooks:{type:{set:function(l,f){if(!b.radioValue&&f==="radio"&&Tt(l,"input")){var m=l.value;return l.setAttribute("type",f),m&&(l.value=m),f}}}},removeAttr:function(l,f){var m,y=0,E=f&&f.match(Ot);if(E&&l.nodeType===1)for(;m=E[y++];)l.removeAttribute(m)}}),Yi={set:function(l,f,m){return f===!1?p.removeAttr(l,m):l.setAttribute(m,m),m}},p.each(p.expr.match.bool.source.match(/\w+/g),function(l,f){var m=ti[f]||p.find.attr;ti[f]=function(y,E,T){var B,tt,W=E.toLowerCase();return T||(tt=ti[W],ti[W]=B,B=m(y,E,T)!=null?W:null,ti[W]=tt),B}});var zn=/^(?:input|select|textarea|button)$/i,Pn=/^(?:a|area)$/i;p.fn.extend({prop:function(l,f){return Ie(this,p.prop,l,f,arguments.length>1)},removeProp:function(l){return this.each(function(){delete this[p.propFix[l]||l]})}}),p.extend({prop:function(l,f,m){var y,E,T=l.nodeType;if(!(T===3||T===8||T===2))return(T!==1||!p.isXMLDoc(l))&&(f=p.propFix[f]||f,E=p.propHooks[f]),m!==void 0?E&&"set"in E&&(y=E.set(l,m,f))!==void 0?y:l[f]=m:E&&"get"in E&&(y=E.get(l,f))!==null?y:l[f]},propHooks:{tabIndex:{get:function(l){var f=p.find.attr(l,"tabindex");return f?parseInt(f,10):zn.test(l.nodeName)||Pn.test(l.nodeName)&&l.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(p.propHooks.selected={get:function(l){var f=l.parentNode;return f&&f.parentNode&&f.parentNode.selectedIndex,null},set:function(l){var f=l.parentNode;f&&(f.selectedIndex,f.parentNode&&f.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function si(l){var f=l.match(Ot)||[];return f.join(" ")}function we(l){return l.getAttribute&&l.getAttribute("class")||""}function di(l){return Array.isArray(l)?l:typeof l=="string"?l.match(Ot)||[]:[]}p.fn.extend({addClass:function(l){var f,m,y,E,T,B;return x(l)?this.each(function(tt){p(this).addClass(l.call(this,tt,we(this)))}):(f=di(l),f.length?this.each(function(){if(y=we(this),m=this.nodeType===1&&" "+si(y)+" ",m){for(T=0;T<f.length;T++)E=f[T],m.indexOf(" "+E+" ")<0&&(m+=E+" ");B=si(m),y!==B&&this.setAttribute("class",B)}}):this)},removeClass:function(l){var f,m,y,E,T,B;return x(l)?this.each(function(tt){p(this).removeClass(l.call(this,tt,we(this)))}):arguments.length?(f=di(l),f.length?this.each(function(){if(y=we(this),m=this.nodeType===1&&" "+si(y)+" ",m){for(T=0;T<f.length;T++)for(E=f[T];m.indexOf(" "+E+" ")>-1;)m=m.replace(" "+E+" "," ");B=si(m),y!==B&&this.setAttribute("class",B)}}):this):this.attr("class","")},toggleClass:function(l,f){var m,y,E,T,B=typeof l,tt=B==="string"||Array.isArray(l);return x(l)?this.each(function(W){p(this).toggleClass(l.call(this,W,we(this),f),f)}):typeof f=="boolean"&&tt?f?this.addClass(l):this.removeClass(l):(m=di(l),this.each(function(){if(tt)for(T=p(this),E=0;E<m.length;E++)y=m[E],T.hasClass(y)?T.removeClass(y):T.addClass(y);else(l===void 0||B==="boolean")&&(y=we(this),y&&Xt.set(this,"__className__",y),this.setAttribute&&this.setAttribute("class",y||l===!1?"":Xt.get(this,"__className__")||""))}))},hasClass:function(l){var f,m,y=0;for(f=" "+l+" ";m=this[y++];)if(m.nodeType===1&&(" "+si(we(m))+" ").indexOf(f)>-1)return!0;return!1}});var pn=/\r/g;p.fn.extend({val:function(l){var f,m,y,E=this[0];return arguments.length?(y=x(l),this.each(function(T){var B;this.nodeType===1&&(y?B=l.call(this,T,p(this).val()):B=l,B==null?B="":typeof B=="number"?B+="":Array.isArray(B)&&(B=p.map(B,function(tt){return tt==null?"":tt+""})),f=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!f||!("set"in f)||f.set(this,B,"value")===void 0)&&(this.value=B))})):E?(f=p.valHooks[E.type]||p.valHooks[E.nodeName.toLowerCase()],f&&"get"in f&&(m=f.get(E,"value"))!==void 0?m:(m=E.value,typeof m=="string"?m.replace(pn,""):m??"")):void 0}}),p.extend({valHooks:{option:{get:function(l){var f=p.find.attr(l,"value");return f??si(p.text(l))}},select:{get:function(l){var f,m,y,E=l.options,T=l.selectedIndex,B=l.type==="select-one",tt=B?null:[],W=B?T+1:E.length;for(T<0?y=W:y=B?T:0;y<W;y++)if(m=E[y],(m.selected||y===T)&&!m.disabled&&(!m.parentNode.disabled||!Tt(m.parentNode,"optgroup"))){if(f=p(m).val(),B)return f;tt.push(f)}return tt},set:function(l,f){for(var m,y,E=l.options,T=p.makeArray(f),B=E.length;B--;)y=E[B],(y.selected=p.inArray(p.valHooks.option.get(y),T)>-1)&&(m=!0);return m||(l.selectedIndex=-1),T}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(l,f){if(Array.isArray(f))return l.checked=p.inArray(p(l).val(),f)>-1}},b.checkOn||(p.valHooks[this].get=function(l){return l.getAttribute("value")===null?"on":l.value})}),b.focusin="onfocusin"in Et;var Qi=/^(?:focusinfocus|focusoutblur)$/,je=function(l){l.stopPropagation()};p.extend(p.event,{trigger:function(l,f,m,y){var E,T,B,tt,W,rt,ht,Lt,ut=[m||S],gt=u.call(l,"type")?l.type:l,qt=u.call(l,"namespace")?l.namespace.split("."):[];if(T=Lt=B=m=m||S,!(m.nodeType===3||m.nodeType===8)&&!Qi.test(gt+p.event.triggered)&&(gt.indexOf(".")>-1&&(qt=gt.split("."),gt=qt.shift(),qt.sort()),W=gt.indexOf(":")<0&&"on"+gt,l=l[p.expando]?l:new p.Event(gt,typeof l=="object"&&l),l.isTrigger=y?2:3,l.namespace=qt.join("."),l.rnamespace=l.namespace?new RegExp("(^|\\.)"+qt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l.result=void 0,l.target||(l.target=m),f=f==null?[l]:p.makeArray(f,[l]),ht=p.event.special[gt]||{},!(!y&&ht.trigger&&ht.trigger.apply(m,f)===!1))){if(!y&&!ht.noBubble&&!A(m)){for(tt=ht.delegateType||gt,Qi.test(tt+gt)||(T=T.parentNode);T;T=T.parentNode)ut.push(T),B=T;B===(m.ownerDocument||S)&&ut.push(B.defaultView||B.parentWindow||Et)}for(E=0;(T=ut[E++])&&!l.isPropagationStopped();)Lt=T,l.type=E>1?tt:ht.bindType||gt,rt=(Xt.get(T,"events")||Object.create(null))[l.type]&&Xt.get(T,"handle"),rt&&rt.apply(T,f),rt=W&&T[W],rt&&rt.apply&&Ve(T)&&(l.result=rt.apply(T,f),l.result===!1&&l.preventDefault());return l.type=gt,!y&&!l.isDefaultPrevented()&&(!ht._default||ht._default.apply(ut.pop(),f)===!1)&&Ve(m)&&W&&x(m[gt])&&!A(m)&&(B=m[W],B&&(m[W]=null),p.event.triggered=gt,l.isPropagationStopped()&&Lt.addEventListener(gt,je),m[gt](),l.isPropagationStopped()&&Lt.removeEventListener(gt,je),p.event.triggered=void 0,B&&(m[W]=B)),l.result}},simulate:function(l,f,m){var y=p.extend(new p.Event,m,{type:l,isSimulated:!0});p.event.trigger(y,null,f)}}),p.fn.extend({trigger:function(l,f){return this.each(function(){p.event.trigger(l,f,this)})},triggerHandler:function(l,f){var m=this[0];if(m)return p.event.trigger(l,f,m,!0)}}),b.focusin||p.each({focus:"focusin",blur:"focusout"},function(l,f){var m=function(y){p.event.simulate(f,y.target,p.event.fix(y))};p.event.special[f]={setup:function(){var y=this.ownerDocument||this.document||this,E=Xt.access(y,f);E||y.addEventListener(l,m,!0),Xt.access(y,f,(E||0)+1)},teardown:function(){var y=this.ownerDocument||this.document||this,E=Xt.access(y,f)-1;E?Xt.access(y,f,E):(y.removeEventListener(l,m,!0),Xt.remove(y,f))}}});var pi=Et.location,tn={guid:Date.now()},gn=/\?/;p.parseXML=function(l){var f,m;if(!l||typeof l!="string")return null;try{f=new Et.DOMParser().parseFromString(l,"text/xml")}catch{}return m=f&&f.getElementsByTagName("parsererror")[0],(!f||m)&&p.error("Invalid XML: "+(m?p.map(m.childNodes,function(y){return y.textContent}).join(`
`):l)),f};var Cn=/\[\]$/,mn=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,en=/^(?:input|select|textarea|keygen)/i;function nn(l,f,m,y){var E;if(Array.isArray(f))p.each(f,function(T,B){m||Cn.test(l)?y(l,B):nn(l+"["+(typeof B=="object"&&B!=null?T:"")+"]",B,m,y)});else if(!m&&z(f)==="object")for(E in f)nn(l+"["+E+"]",f[E],m,y);else y(l,f)}p.param=function(l,f){var m,y=[],E=function(T,B){var tt=x(B)?B():B;y[y.length]=encodeURIComponent(T)+"="+encodeURIComponent(tt??"")};if(l==null)return"";if(Array.isArray(l)||l.jquery&&!p.isPlainObject(l))p.each(l,function(){E(this.name,this.value)});else for(m in l)nn(m,l[m],f,E);return y.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=p.prop(this,"elements");return l?p.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!p(this).is(":disabled")&&en.test(this.nodeName)&&!Nn.test(l)&&(this.checked||!se.test(l))}).map(function(l,f){var m=p(this).val();return m==null?null:Array.isArray(m)?p.map(m,function(y){return{name:f.name,value:y.replace(mn,`\r
`)}}):{name:f.name,value:m.replace(mn,`\r
`)}}).get()}});var Fn=/%20/g,ur=/#.*$/,he=/([?&])_=[^&]*/,i=/^(.*?):[ \t]*([^\r\n]*)$/mg,a=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,c=/^(?:GET|HEAD)$/,v=/^\/\//,M={},j={},G="*/".concat("*"),K=S.createElement("a");K.href=pi.href;function q(l){return function(f,m){typeof f!="string"&&(m=f,f="*");var y,E=0,T=f.toLowerCase().match(Ot)||[];if(x(m))for(;y=T[E++];)y[0]==="+"?(y=y.slice(1)||"*",(l[y]=l[y]||[]).unshift(m)):(l[y]=l[y]||[]).push(m)}}function X(l,f,m,y){var E={},T=l===j;function B(tt){var W;return E[tt]=!0,p.each(l[tt]||[],function(rt,ht){var Lt=ht(f,m,y);if(typeof Lt=="string"&&!T&&!E[Lt])return f.dataTypes.unshift(Lt),B(Lt),!1;if(T)return!(W=Lt)}),W}return B(f.dataTypes[0])||!E["*"]&&B("*")}function st(l,f){var m,y,E=p.ajaxSettings.flatOptions||{};for(m in f)f[m]!==void 0&&((E[m]?l:y||(y={}))[m]=f[m]);return y&&p.extend(!0,l,y),l}function yt(l,f,m){for(var y,E,T,B,tt=l.contents,W=l.dataTypes;W[0]==="*";)W.shift(),y===void 0&&(y=l.mimeType||f.getResponseHeader("Content-Type"));if(y){for(E in tt)if(tt[E]&&tt[E].test(y)){W.unshift(E);break}}if(W[0]in m)T=W[0];else{for(E in m){if(!W[0]||l.converters[E+" "+W[0]]){T=E;break}B||(B=E)}T=T||B}if(T)return T!==W[0]&&W.unshift(T),m[T]}function pt(l,f,m,y){var E,T,B,tt,W,rt={},ht=l.dataTypes.slice();if(ht[1])for(B in l.converters)rt[B.toLowerCase()]=l.converters[B];for(T=ht.shift();T;)if(l.responseFields[T]&&(m[l.responseFields[T]]=f),!W&&y&&l.dataFilter&&(f=l.dataFilter(f,l.dataType)),W=T,T=ht.shift(),T){if(T==="*")T=W;else if(W!=="*"&&W!==T){if(B=rt[W+" "+T]||rt["* "+T],!B){for(E in rt)if(tt=E.split(" "),tt[1]===T&&(B=rt[W+" "+tt[0]]||rt["* "+tt[0]],B)){B===!0?B=rt[E]:rt[E]!==!0&&(T=tt[0],ht.unshift(tt[1]));break}}if(B!==!0)if(B&&l.throws)f=B(f);else try{f=B(f)}catch(Lt){return{state:"parsererror",error:B?Lt:"No conversion from "+W+" to "+T}}}}return{state:"success",data:f}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pi.href,type:"GET",isLocal:a.test(pi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":G,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,f){return f?st(st(l,p.ajaxSettings),f):st(p.ajaxSettings,l)},ajaxPrefilter:q(M),ajaxTransport:q(j),ajax:function(l,f){typeof l=="object"&&(f=l,l=void 0),f=f||{};var m,y,E,T,B,tt,W,rt,ht,Lt,ut=p.ajaxSetup({},f),gt=ut.context||ut,qt=ut.context&&(gt.nodeType||gt.jquery)?p(gt):p.event,le=p.Deferred(),$t=p.Callbacks("once memory"),Ye=ut.statusCode||{},$e={},ui={},Be="canceled",ae={readyState:0,getResponseHeader:function(ye){var Ae;if(W){if(!T)for(T={};Ae=i.exec(E);)T[Ae[1].toLowerCase()+" "]=(T[Ae[1].toLowerCase()+" "]||[]).concat(Ae[2]);Ae=T[ye.toLowerCase()+" "]}return Ae==null?null:Ae.join(", ")},getAllResponseHeaders:function(){return W?E:null},setRequestHeader:function(ye,Ae){return W==null&&(ye=ui[ye.toLowerCase()]=ui[ye.toLowerCase()]||ye,$e[ye]=Ae),this},overrideMimeType:function(ye){return W==null&&(ut.mimeType=ye),this},statusCode:function(ye){var Ae;if(ye)if(W)ae.always(ye[ae.status]);else for(Ae in ye)Ye[Ae]=[Ye[Ae],ye[Ae]];return this},abort:function(ye){var Ae=ye||Be;return m&&m.abort(Ae),hi(0,Ae),this}};if(le.promise(ae),ut.url=((l||ut.url||pi.href)+"").replace(v,pi.protocol+"//"),ut.type=f.method||f.type||ut.method||ut.type,ut.dataTypes=(ut.dataType||"*").toLowerCase().match(Ot)||[""],ut.crossDomain==null){tt=S.createElement("a");try{tt.href=ut.url,tt.href=tt.href,ut.crossDomain=K.protocol+"//"+K.host!=tt.protocol+"//"+tt.host}catch{ut.crossDomain=!0}}if(ut.data&&ut.processData&&typeof ut.data!="string"&&(ut.data=p.param(ut.data,ut.traditional)),X(M,ut,f,ae),W)return ae;rt=p.event&&ut.global,rt&&p.active++===0&&p.event.trigger("ajaxStart"),ut.type=ut.type.toUpperCase(),ut.hasContent=!c.test(ut.type),y=ut.url.replace(ur,""),ut.hasContent?ut.data&&ut.processData&&(ut.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ut.data=ut.data.replace(Fn,"+")):(Lt=ut.url.slice(y.length),ut.data&&(ut.processData||typeof ut.data=="string")&&(y+=(gn.test(y)?"&":"?")+ut.data,delete ut.data),ut.cache===!1&&(y=y.replace(he,"$1"),Lt=(gn.test(y)?"&":"?")+"_="+tn.guid+++Lt),ut.url=y+Lt),ut.ifModified&&(p.lastModified[y]&&ae.setRequestHeader("If-Modified-Since",p.lastModified[y]),p.etag[y]&&ae.setRequestHeader("If-None-Match",p.etag[y])),(ut.data&&ut.hasContent&&ut.contentType!==!1||f.contentType)&&ae.setRequestHeader("Content-Type",ut.contentType),ae.setRequestHeader("Accept",ut.dataTypes[0]&&ut.accepts[ut.dataTypes[0]]?ut.accepts[ut.dataTypes[0]]+(ut.dataTypes[0]!=="*"?", "+G+"; q=0.01":""):ut.accepts["*"]);for(ht in ut.headers)ae.setRequestHeader(ht,ut.headers[ht]);if(ut.beforeSend&&(ut.beforeSend.call(gt,ae,ut)===!1||W))return ae.abort();if(Be="abort",$t.add(ut.complete),ae.done(ut.success),ae.fail(ut.error),m=X(j,ut,f,ae),!m)hi(-1,"No Transport");else{if(ae.readyState=1,rt&&qt.trigger("ajaxSend",[ae,ut]),W)return ae;ut.async&&ut.timeout>0&&(B=Et.setTimeout(function(){ae.abort("timeout")},ut.timeout));try{W=!1,m.send($e,hi)}catch(ye){if(W)throw ye;hi(-1,ye)}}function hi(ye,Ae,jn,rn){var Ne,on,sn,gi,Zi,yi=Ae;W||(W=!0,B&&Et.clearTimeout(B),m=void 0,E=rn||"",ae.readyState=ye>0?4:0,Ne=ye>=200&&ye<300||ye===304,jn&&(gi=yt(ut,ae,jn)),!Ne&&p.inArray("script",ut.dataTypes)>-1&&p.inArray("json",ut.dataTypes)<0&&(ut.converters["text script"]=function(){}),gi=pt(ut,gi,ae,Ne),Ne?(ut.ifModified&&(Zi=ae.getResponseHeader("Last-Modified"),Zi&&(p.lastModified[y]=Zi),Zi=ae.getResponseHeader("etag"),Zi&&(p.etag[y]=Zi)),ye===204||ut.type==="HEAD"?yi="nocontent":ye===304?yi="notmodified":(yi=gi.state,on=gi.data,sn=gi.error,Ne=!sn)):(sn=yi,(ye||!yi)&&(yi="error",ye<0&&(ye=0))),ae.status=ye,ae.statusText=(Ae||yi)+"",Ne?le.resolveWith(gt,[on,yi,ae]):le.rejectWith(gt,[ae,yi,sn]),ae.statusCode(Ye),Ye=void 0,rt&&qt.trigger(Ne?"ajaxSuccess":"ajaxError",[ae,ut,Ne?on:sn]),$t.fireWith(gt,[ae,yi]),rt&&(qt.trigger("ajaxComplete",[ae,ut]),--p.active||p.event.trigger("ajaxStop")))}return ae},getJSON:function(l,f,m){return p.get(l,f,m,"json")},getScript:function(l,f){return p.get(l,void 0,f,"script")}}),p.each(["get","post"],function(l,f){p[f]=function(m,y,E,T){return x(y)&&(T=T||E,E=y,y=void 0),p.ajax(p.extend({url:m,type:f,dataType:T,data:y,success:E},p.isPlainObject(m)&&m))}}),p.ajaxPrefilter(function(l){var f;for(f in l.headers)f.toLowerCase()==="content-type"&&(l.contentType=l.headers[f]||"")}),p._evalUrl=function(l,f,m){return p.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(y){p.globalEval(y,f,m)}})},p.fn.extend({wrapAll:function(l){var f;return this[0]&&(x(l)&&(l=l.call(this[0])),f=p(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&f.insertBefore(this[0]),f.map(function(){for(var m=this;m.firstElementChild;)m=m.firstElementChild;return m}).append(this)),this},wrapInner:function(l){return x(l)?this.each(function(f){p(this).wrapInner(l.call(this,f))}):this.each(function(){var f=p(this),m=f.contents();m.length?m.wrapAll(l):f.append(l)})},wrap:function(l){var f=x(l);return this.each(function(m){p(this).wrapAll(f?l.call(this,m):l)})},unwrap:function(l){return this.parent(l).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(l){return!p.expr.pseudos.visible(l)},p.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new Et.XMLHttpRequest}catch{}};var Dt={0:200,1223:204},zt=p.ajaxSettings.xhr();b.cors=!!zt&&"withCredentials"in zt,b.ajax=zt=!!zt,p.ajaxTransport(function(l){var f,m;if(b.cors||zt&&!l.crossDomain)return{send:function(y,E){var T,B=l.xhr();if(B.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(T in l.xhrFields)B[T]=l.xhrFields[T];l.mimeType&&B.overrideMimeType&&B.overrideMimeType(l.mimeType),!l.crossDomain&&!y["X-Requested-With"]&&(y["X-Requested-With"]="XMLHttpRequest");for(T in y)B.setRequestHeader(T,y[T]);f=function(tt){return function(){f&&(f=m=B.onload=B.onerror=B.onabort=B.ontimeout=B.onreadystatechange=null,tt==="abort"?B.abort():tt==="error"?typeof B.status!="number"?E(0,"error"):E(B.status,B.statusText):E(Dt[B.status]||B.status,B.statusText,(B.responseType||"text")!=="text"||typeof B.responseText!="string"?{binary:B.response}:{text:B.responseText},B.getAllResponseHeaders()))}},B.onload=f(),m=B.onerror=B.ontimeout=f("error"),B.onabort!==void 0?B.onabort=m:B.onreadystatechange=function(){B.readyState===4&&Et.setTimeout(function(){f&&m()})},f=f("abort");try{B.send(l.hasContent&&l.data||null)}catch(tt){if(f)throw tt}},abort:function(){f&&f()}}}),p.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){return p.globalEval(l),l}}}),p.ajaxPrefilter("script",function(l){l.cache===void 0&&(l.cache=!1),l.crossDomain&&(l.type="GET")}),p.ajaxTransport("script",function(l){if(l.crossDomain||l.scriptAttrs){var f,m;return{send:function(y,E){f=p("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",m=function(T){f.remove(),m=null,T&&E(T.type==="error"?404:200,T.type)}),S.head.appendChild(f[0])},abort:function(){m&&m()}}}});var ee=[],ce=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=ee.pop()||p.expando+"_"+tn.guid++;return this[l]=!0,l}}),p.ajaxPrefilter("json jsonp",function(l,f,m){var y,E,T,B=l.jsonp!==!1&&(ce.test(l.url)?"url":typeof l.data=="string"&&(l.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ce.test(l.data)&&"data");if(B||l.dataTypes[0]==="jsonp")return y=l.jsonpCallback=x(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback,B?l[B]=l[B].replace(ce,"$1"+y):l.jsonp!==!1&&(l.url+=(gn.test(l.url)?"&":"?")+l.jsonp+"="+y),l.converters["script json"]=function(){return T||p.error(y+" was not called"),T[0]},l.dataTypes[0]="json",E=Et[y],Et[y]=function(){T=arguments},m.always(function(){E===void 0?p(Et).removeProp(y):Et[y]=E,l[y]&&(l.jsonpCallback=f.jsonpCallback,ee.push(y)),T&&x(E)&&E(T[0]),T=E=void 0}),"script"}),b.createHTMLDocument=function(){var l=S.implementation.createHTMLDocument("").body;return l.innerHTML="<form></form><form></form>",l.childNodes.length===2}(),p.parseHTML=function(l,f,m){if(typeof l!="string")return[];typeof f=="boolean"&&(m=f,f=!1);var y,E,T;return f||(b.createHTMLDocument?(f=S.implementation.createHTMLDocument(""),y=f.createElement("base"),y.href=S.location.href,f.head.appendChild(y)):f=S),E=Nt.exec(l),T=!m&&[],E?[f.createElement(E[1])]:(E=vi([l],f,T),T&&T.length&&p(T).remove(),p.merge([],E.childNodes))},p.fn.load=function(l,f,m){var y,E,T,B=this,tt=l.indexOf(" ");return tt>-1&&(y=si(l.slice(tt)),l=l.slice(0,tt)),x(f)?(m=f,f=void 0):f&&typeof f=="object"&&(E="POST"),B.length>0&&p.ajax({url:l,type:E||"GET",dataType:"html",data:f}).done(function(W){T=arguments,B.html(y?p("<div>").append(p.parseHTML(W)).find(y):W)}).always(m&&function(W,rt){B.each(function(){m.apply(this,T||[W.responseText,rt,W])})}),this},p.expr.pseudos.animated=function(l){return p.grep(p.timers,function(f){return l===f.elem}).length},p.offset={setOffset:function(l,f,m){var y,E,T,B,tt,W,rt,ht=p.css(l,"position"),Lt=p(l),ut={};ht==="static"&&(l.style.position="relative"),tt=Lt.offset(),T=p.css(l,"top"),W=p.css(l,"left"),rt=(ht==="absolute"||ht==="fixed")&&(T+W).indexOf("auto")>-1,rt?(y=Lt.position(),B=y.top,E=y.left):(B=parseFloat(T)||0,E=parseFloat(W)||0),x(f)&&(f=f.call(l,m,p.extend({},tt))),f.top!=null&&(ut.top=f.top-tt.top+B),f.left!=null&&(ut.left=f.left-tt.left+E),"using"in f?f.using.call(l,ut):Lt.css(ut)}},p.fn.extend({offset:function(l){if(arguments.length)return l===void 0?this:this.each(function(E){p.offset.setOffset(this,l,E)});var f,m,y=this[0];if(y)return y.getClientRects().length?(f=y.getBoundingClientRect(),m=y.ownerDocument.defaultView,{top:f.top+m.pageYOffset,left:f.left+m.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var l,f,m,y=this[0],E={top:0,left:0};if(p.css(y,"position")==="fixed")f=y.getBoundingClientRect();else{for(f=this.offset(),m=y.ownerDocument,l=y.offsetParent||m.documentElement;l&&(l===m.body||l===m.documentElement)&&p.css(l,"position")==="static";)l=l.parentNode;l&&l!==y&&l.nodeType===1&&(E=p(l).offset(),E.top+=p.css(l,"borderTopWidth",!0),E.left+=p.css(l,"borderLeftWidth",!0))}return{top:f.top-E.top-p.css(y,"marginTop",!0),left:f.left-E.left-p.css(y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&p.css(l,"position")==="static";)l=l.offsetParent;return l||mt})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,f){var m=f==="pageYOffset";p.fn[l]=function(y){return Ie(this,function(E,T,B){var tt;if(A(E)?tt=E:E.nodeType===9&&(tt=E.defaultView),B===void 0)return tt?tt[f]:E[T];tt?tt.scrollTo(m?tt.pageXOffset:B,m?B:tt.pageYOffset):E[T]=B},l,y,arguments.length)}}),p.each(["top","left"],function(l,f){p.cssHooks[f]=Rn(b.pixelPosition,function(m,y){if(y)return y=fn(m,f),wi.test(y)?p(m).position()[f]+"px":y})}),p.each({Height:"height",Width:"width"},function(l,f){p.each({padding:"inner"+l,content:f,"":"outer"+l},function(m,y){p.fn[y]=function(E,T){var B=arguments.length&&(m||typeof E!="boolean"),tt=m||(E===!0||T===!0?"margin":"border");return Ie(this,function(W,rt,ht){var Lt;return A(W)?y.indexOf("outer")===0?W["inner"+l]:W.document.documentElement["client"+l]:W.nodeType===9?(Lt=W.documentElement,Math.max(W.body["scroll"+l],Lt["scroll"+l],W.body["offset"+l],Lt["offset"+l],Lt["client"+l])):ht===void 0?p.css(W,rt,tt):p.style(W,rt,ht,tt)},f,B?E:void 0,B)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(l,f){p.fn[f]=function(m){return this.on(f,m)}}),p.fn.extend({bind:function(l,f,m){return this.on(l,null,f,m)},unbind:function(l,f){return this.off(l,null,f)},delegate:function(l,f,m,y){return this.on(f,l,m,y)},undelegate:function(l,f,m){return arguments.length===1?this.off(l,"**"):this.off(f,l||"**",m)},hover:function(l,f){return this.mouseenter(l).mouseleave(f||l)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(l,f){p.fn[f]=function(m,y){return arguments.length>0?this.on(f,null,m,y):this.trigger(f)}});var Ce=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(l,f){var m,y,E;if(typeof f=="string"&&(m=l[f],f=l,l=m),!!x(l))return y=o.call(arguments,2),E=function(){return l.apply(f||this,y.concat(o.call(arguments)))},E.guid=l.guid=l.guid||p.guid++,E},p.holdReady=function(l){l?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=Tt,p.isFunction=x,p.isWindow=A,p.camelCase=ii,p.type=z,p.now=Date.now,p.isNumeric=function(l){var f=p.type(l);return(f==="number"||f==="string")&&!isNaN(l-parseFloat(l))},p.trim=function(l){return l==null?"":(l+"").replace(Ce,"$1")};var Jt=Et.jQuery,Ee=Et.$;return p.noConflict=function(l){return Et.$===p&&(Et.$=Ee),l&&Et.jQuery===p&&(Et.jQuery=Jt),p},typeof V>"u"&&(Et.jQuery=Et.$=p),p})})(eo);var Rr={},io={get exports(){return Rr},set exports(be){Rr=be}};(function(be){(function(Et,V,D){var I=Et.L,o={};o.version="0.6.4",be.exports=o,o.noConflict=function(){return Et.L=I,this},Et.L=o,o.Util={extend:function(e){var n=Array.prototype.slice.call(arguments,1),s,u,d,_;for(u=0,d=n.length;u<d;u++){_=n[u]||{};for(s in _)_.hasOwnProperty(s)&&(e[s]=_[s])}return e},bind:function(e,n){var s=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return e.apply(n,s||arguments)}},stamp:function(){var e=0,n="_leaflet_id";return function(s){return s[n]=s[n]||++e,s[n]}}(),invokeEach:function(e,n,s){var u,d;if(typeof e=="object"){d=Array.prototype.slice.call(arguments,3);for(u in e)n.apply(s,[u,e[u]].concat(d));return!0}return!1},limitExecByInterval:function(e,n,s){var u,d;return function _(){var b=arguments;if(u){d=!0;return}u=!0,setTimeout(function(){u=!1,d&&(_.apply(s,b),d=!1)},n),e.apply(s,b)}},falseFn:function(){return!1},formatNum:function(e,n){var s=Math.pow(10,n||5);return Math.round(e*s)/s},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},splitWords:function(e){return o.Util.trim(e).split(/\s+/)},setOptions:function(e,n){return e.options=o.extend({},e.options,n),e.options},getParamString:function(e,n,s){var u=[];for(var d in e)u.push(encodeURIComponent(s?d.toUpperCase():d)+"="+encodeURIComponent(e[d]));return(!n||n.indexOf("?")===-1?"?":"&")+u.join("&")},template:function(e,n){return e.replace(/\{ *([\w_]+) *\}/g,function(s,u){var d=n[u];if(d===D)throw new Error("No value provided for variable "+s);return typeof d=="function"&&(d=d(n)),d})},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(_){var b,x,A=["webkit","moz","o","ms"];for(b=0;b<A.length&&!x;b++)x=Et[A[b]+_];return x}var n=0;function s(_){var b=+new Date,x=Math.max(0,16-(b-n));return n=b+x,Et.setTimeout(_,x)}var u=Et.requestAnimationFrame||e("RequestAnimationFrame")||s,d=Et.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(_){Et.clearTimeout(_)};o.Util.requestAnimFrame=function(_,b,x,A){if(_=o.bind(_,b),x&&u===s)_();else return u.call(Et,_,A)},o.Util.cancelAnimFrame=function(_){_&&d.call(Et,_)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},s=function(){};s.prototype=this.prototype;var u=new s;u.constructor=n,n.prototype=u;for(var d in this)this.hasOwnProperty(d)&&d!=="prototype"&&(n[d]=this[d]);e.statics&&(o.extend(n,e.statics),delete e.statics),e.includes&&(o.Util.extend.apply(null,[u].concat(e.includes)),delete e.includes),e.options&&u.options&&(e.options=o.extend({},u.options,e.options)),o.extend(u,e),u._initHooks=[];var _=this;return n.__super__=_.prototype,u.callInitHooks=function(){if(!this._initHooksCalled){_.prototype.callInitHooks&&_.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,x=u._initHooks.length;b<x;b++)u._initHooks[b].call(this)}},n},o.Class.include=function(e){o.extend(this.prototype,e)},o.Class.mergeOptions=function(e){o.extend(this.prototype.options,e)},o.Class.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),s=typeof e=="function"?e:function(){this[e].apply(this,n)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s)};var k="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(e,n,s){if(o.Util.invokeEach(e,this.addEventListener,this,n,s))return this;var u=this[k]=this[k]||{},d=s&&o.stamp(s),_,b,x,A,S,F,H;for(e=o.Util.splitWords(e),_=0,b=e.length;_<b;_++)x={action:n,context:s||this},A=e[_],s?(S=A+"_idx",F=S+"_len",H=u[S]=u[S]||{},H[d]||(H[d]=[],u[F]=(u[F]||0)+1),H[d].push(x)):(u[A]=u[A]||[],u[A].push(x));return this},hasEventListeners:function(e){var n=this[k];return!!n&&(e in n&&n[e].length>0||e+"_idx"in n&&n[e+"_idx_len"]>0)},removeEventListener:function(e,n,s){if(!this[k])return this;if(!e)return this.clearAllEventListeners();if(o.Util.invokeEach(e,this.removeEventListener,this,n,s))return this;var u=this[k],d=s&&o.stamp(s),_,b,x,A,S,F,H,z,U;for(e=o.Util.splitWords(e),_=0,b=e.length;_<b;_++)if(x=e[_],F=x+"_idx",H=F+"_len",z=u[F],!n)delete u[x],delete u[F];else if(A=s&&z?z[d]:u[x],A){for(S=A.length-1;S>=0;S--)A[S].action===n&&(!s||A[S].context===s)&&(U=A.splice(S,1),U[0].action=o.Util.falseFn);s&&z&&A.length===0&&(delete z[d],u[H]--)}return this},clearAllEventListeners:function(){return delete this[k],this},fireEvent:function(e,n){if(!this.hasEventListeners(e))return this;var s=o.Util.extend({},n,{type:e,target:this}),u=this[k],d,_,b,x,A;if(u[e])for(d=u[e].slice(),_=0,b=d.length;_<b;_++)d[_].action.call(d[_].context||this,s);x=u[e+"_idx"];for(A in x)if(d=x[A].slice(),d)for(_=0,b=d.length;_<b;_++)d[_].action.call(d[_].context||this,s);return this},addOneTimeEventListener:function(e,n,s){if(o.Util.invokeEach(e,this.addOneTimeEventListener,this,n,s))return this;var u=o.bind(function(){this.removeEventListener(e,n,s).removeEventListener(e,u,s)},this);return this.addEventListener(e,n,s).addEventListener(e,u,s)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var e=!!Et.ActiveXObject,n=e&&!Et.XMLHttpRequest,s=e&&!V.querySelector,u=e&&!V.addEventListener,d=navigator.userAgent.toLowerCase(),_=d.indexOf("webkit")!==-1,b=d.indexOf("chrome")!==-1,x=d.indexOf("phantom")!==-1,A=d.indexOf("android")!==-1,S=d.search("android [23]")!==-1,F=typeof orientation!=D+"",H=Et.navigator&&Et.navigator.msPointerEnabled&&Et.navigator.msMaxTouchPoints,z="devicePixelRatio"in Et&&Et.devicePixelRatio>1||"matchMedia"in Et&&Et.matchMedia("(min-resolution:144dpi)")&&Et.matchMedia("(min-resolution:144dpi)").matches,U=V.documentElement,p=e&&"transition"in U.style,ft="WebKitCSSMatrix"in Et&&"m11"in new Et.WebKitCSSMatrix,xt="MozPerspective"in U.style,wt="OTransition"in U.style,St=!Et.L_DISABLE_3D&&(p||ft||xt||wt)&&!x,Bt=!Et.L_NO_TOUCH&&!x&&function(){var Tt="ontouchstart";if(H||Tt in U)return!0;var Nt=V.createElement("div"),lt=!1;return Nt.setAttribute?(Nt.setAttribute(Tt,"return;"),typeof Nt[Tt]=="function"&&(lt=!0),Nt.removeAttribute(Tt),Nt=null,lt):!1}();o.Browser={ie:e,ie6:n,ie7:s,ielt9:u,webkit:_,android:A,android23:S,chrome:b,ie3d:p,webkit3d:ft,gecko3d:xt,opera3d:wt,any3d:St,mobile:F,mobileWebkit:F&&_,mobileWebkit3d:F&&ft,mobileOpera:F&&Et.opera,touch:Bt,msTouch:H,retina:z}}(),o.Point=function(e,n,s){this.x=s?Math.round(e):e,this.y=s?Math.round(n):n},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(e){return this.clone()._add(o.point(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(o.point(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(e){e=o.point(e);var n=e.x-this.x,s=e.y-this.y;return Math.sqrt(n*n+s*s)},equals:function(e){return e=o.point(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=o.point(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(e,n,s){return e instanceof o.Point?e:o.Util.isArray(e)?new o.Point(e[0],e[1]):e===D||e===null?e:new o.Point(e,n,s)},o.Bounds=function(e,n){if(e)for(var s=n?[e,n]:e,u=0,d=s.length;u<d;u++)this.extend(s[u])},o.Bounds.prototype={extend:function(e){return e=o.point(e),!this.min&&!this.max?(this.min=e.clone(),this.max=e.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)),this},getCenter:function(e){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,s;return typeof e[0]=="number"||e instanceof o.Point?e=o.point(e):e=o.bounds(e),e instanceof o.Bounds?(n=e.min,s=e.max):n=s=e,n.x>=this.min.x&&s.x<=this.max.x&&n.y>=this.min.y&&s.y<=this.max.y},intersects:function(e){e=o.bounds(e);var n=this.min,s=this.max,u=e.min,d=e.max,_=d.x>=n.x&&u.x<=s.x,b=d.y>=n.y&&u.y<=s.y;return _&&b},isValid:function(){return!!(this.min&&this.max)}},o.bounds=function(e,n){return!e||e instanceof o.Bounds?e:new o.Bounds(e,n)},o.Transformation=function(e,n,s,u){this._a=e,this._b=n,this._c=s,this._d=u},o.Transformation.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new o.Point((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}},o.DomUtil={get:function(e){return typeof e=="string"?V.getElementById(e):e},getStyle:function(e,n){var s=e.style[n];if(!s&&e.currentStyle&&(s=e.currentStyle[n]),(!s||s==="auto")&&V.defaultView){var u=V.defaultView.getComputedStyle(e,null);s=u?u[n]:null}return s==="auto"?null:s},getViewportOffset:function(e){var n=0,s=0,u=e,d=V.body,_=V.documentElement,b,x=o.Browser.ie7;do{if(n+=u.offsetTop||0,s+=u.offsetLeft||0,n+=parseInt(o.DomUtil.getStyle(u,"borderTopWidth"),10)||0,s+=parseInt(o.DomUtil.getStyle(u,"borderLeftWidth"),10)||0,b=o.DomUtil.getStyle(u,"position"),u.offsetParent===d&&b==="absolute")break;if(b==="fixed"){n+=d.scrollTop||_.scrollTop||0,s+=d.scrollLeft||_.scrollLeft||0;break}if(b==="relative"&&!u.offsetLeft){var A=o.DomUtil.getStyle(u,"width"),S=o.DomUtil.getStyle(u,"max-width"),F=u.getBoundingClientRect();(A!=="none"||S!=="none")&&(s+=F.left+u.clientLeft),n+=F.top+(d.scrollTop||_.scrollTop||0);break}u=u.offsetParent}while(u);u=e;do{if(u===d)break;n-=u.scrollTop||0,s-=u.scrollLeft||0,!o.DomUtil.documentIsLtr()&&(o.Browser.webkit||x)&&(s+=u.scrollWidth-u.clientWidth,x&&o.DomUtil.getStyle(u,"overflow-y")!=="hidden"&&o.DomUtil.getStyle(u,"overflow")!=="hidden"&&(s+=17)),u=u.parentNode}while(u);return new o.Point(s,n)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr=o.DomUtil.getStyle(V.body,"direction")==="ltr"),o.DomUtil._docIsLtr},create:function(e,n,s){var u=V.createElement(e);return u.className=n,s&&s.appendChild(u),u},hasClass:function(e,n){return e.className.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(e.className)},addClass:function(e,n){o.DomUtil.hasClass(e,n)||(e.className+=(e.className?" ":"")+n)},removeClass:function(e,n){e.className=o.Util.trim((" "+e.className+" ").replace(" "+n+" "," "))},setOpacity:function(e,n){if("opacity"in e.style)e.style.opacity=n;else if("filter"in e.style){var s=!1,u="DXImageTransform.Microsoft.Alpha";try{s=e.filters.item(u)}catch{if(n===1)return}n=Math.round(n*100),s?(s.Enabled=n!==100,s.Opacity=n):e.style.filter+=" progid:"+u+"(opacity="+n+")"}},testProp:function(e){for(var n=V.documentElement.style,s=0;s<e.length;s++)if(e[s]in n)return e[s];return!1},getTranslateString:function(e){var n=o.Browser.webkit3d,s="translate"+(n?"3d":"")+"(",u=(n?",0":"")+")";return s+e.x+"px,"+e.y+"px"+u},getScaleString:function(e,n){var s=o.DomUtil.getTranslateString(n.add(n.multiplyBy(-1*e))),u=" scale("+e+") ";return s+u},setPosition:function(e,n,s){e._leaflet_pos=n,!s&&o.Browser.any3d?(e.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(n),o.Browser.mobileWebkit3d&&(e.style.WebkitBackfaceVisibility="hidden")):(e.style.left=n.x+"px",e.style.top=n.y+"px")},getPosition:function(e){return e._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END=o.DomUtil.TRANSITION==="webkitTransition"||o.DomUtil.TRANSITION==="OTransition"?o.DomUtil.TRANSITION+"End":"transitionend",function(){var e=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(o.DomEvent.on(Et,"selectstart",o.DomEvent.preventDefault),e){var n=V.documentElement.style;this._userSelect=n[e],n[e]="none"}},enableTextSelection:function(){o.DomEvent.off(Et,"selectstart",o.DomEvent.preventDefault),e&&(V.documentElement.style[e]=this._userSelect,delete this._userSelect)},disableImageDrag:function(){o.DomEvent.on(Et,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(Et,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(e,n){var s=parseFloat(e),u=parseFloat(n);if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=s,this.lng=u},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(e){if(!e)return!1;e=o.latLng(e);var n=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return n<=o.LatLng.MAX_MARGIN},toString:function(e){return"LatLng("+o.Util.formatNum(this.lat,e)+", "+o.Util.formatNum(this.lng,e)+")"},distanceTo:function(e){e=o.latLng(e);var n=6378137,s=o.LatLng.DEG_TO_RAD,u=(e.lat-this.lat)*s,d=(e.lng-this.lng)*s,_=this.lat*s,b=e.lat*s,x=Math.sin(u/2),A=Math.sin(d/2),S=x*x+A*A*Math.cos(_)*Math.cos(b);return n*2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S))},wrap:function(e,n){var s=this.lng;return e=e||-180,n=n||180,s=(s+n)%(n-e)+(s<e||s===n?n:e),new o.LatLng(this.lat,s)}},o.latLng=function(e,n){return e instanceof o.LatLng?e:o.Util.isArray(e)?new o.LatLng(e[0],e[1]):e===D||e===null?e:typeof e=="object"&&"lat"in e?new o.LatLng(e.lat,"lng"in e?e.lng:e.lon):new o.LatLng(e,n)},o.LatLngBounds=function(e,n){if(e)for(var s=n?[e,n]:e,u=0,d=s.length;u<d;u++)this.extend(s[u])},o.LatLngBounds.prototype={extend:function(e){return e?(typeof e[0]=="number"||typeof e[0]=="string"||e instanceof o.LatLng?e=o.latLng(e):e=o.latLngBounds(e),e instanceof o.LatLng?!this._southWest&&!this._northEast?(this._southWest=new o.LatLng(e.lat,e.lng),this._northEast=new o.LatLng(e.lat,e.lng)):(this._southWest.lat=Math.min(e.lat,this._southWest.lat),this._southWest.lng=Math.min(e.lng,this._southWest.lng),this._northEast.lat=Math.max(e.lat,this._northEast.lat),this._northEast.lng=Math.max(e.lng,this._northEast.lng)):e instanceof o.LatLngBounds&&(this.extend(e._southWest),this.extend(e._northEast)),this):this},pad:function(e){var n=this._southWest,s=this._northEast,u=Math.abs(n.lat-s.lat)*e,d=Math.abs(n.lng-s.lng)*e;return new o.LatLngBounds(new o.LatLng(n.lat-u,n.lng-d),new o.LatLng(s.lat+u,s.lng+d))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof o.LatLng?e=o.latLng(e):e=o.latLngBounds(e);var n=this._southWest,s=this._northEast,u,d;return e instanceof o.LatLngBounds?(u=e.getSouthWest(),d=e.getNorthEast()):u=d=e,u.lat>=n.lat&&d.lat<=s.lat&&u.lng>=n.lng&&d.lng<=s.lng},intersects:function(e){e=o.latLngBounds(e);var n=this._southWest,s=this._northEast,u=e.getSouthWest(),d=e.getNorthEast(),_=d.lat>=n.lat&&u.lat<=s.lat,b=d.lng>=n.lng&&u.lng<=s.lng;return _&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e){return e?(e=o.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast())):!1},isValid:function(){return!!(this._southWest&&this._northEast)}},o.latLngBounds=function(e,n){return!e||e instanceof o.LatLngBounds?e:new o.LatLngBounds(e,n)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(e){var n=o.LatLng.DEG_TO_RAD,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,e.lat),-s),d=e.lng*n,_=u*n;return _=Math.log(Math.tan(Math.PI/4+_/2)),new o.Point(d,_)},unproject:function(e){var n=o.LatLng.RAD_TO_DEG,s=e.x*n,u=(2*Math.atan(Math.exp(e.y))-Math.PI/2)*n;return new o.LatLng(u,s)}},o.Projection.LonLat={project:function(e){return new o.Point(e.lng,e.lat)},unproject:function(e){return new o.LatLng(e.y,e.x)}},o.CRS={latLngToPoint:function(e,n){var s=this.projection.project(e),u=this.scale(n);return this.transformation._transform(s,u)},pointToLatLng:function(e,n){var s=this.scale(n),u=this.transformation.untransform(e,s);return this.projection.unproject(u)},project:function(e){return this.projection.project(e)},scale:function(e){return 256*Math.pow(2,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(e){return Math.pow(2,e)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(e){var n=this.projection.project(e),s=6378137;return n.multiplyBy(s)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(e,n){n=o.setOptions(this,n),this._initContainer(e),this._initLayout(),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.center&&n.zoom!==D&&this.setView(o.latLng(n.center),n.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(n.layers)},setView:function(e,n){return this._resetView(o.latLng(e),this._limitZoom(n)),this},setZoom:function(e,n){return this.setView(this.getCenter(),e,{zoom:n})},zoomIn:function(e,n){return this.setZoom(this._zoom+(e||1),n)},zoomOut:function(e,n){return this.setZoom(this._zoom-(e||1),n)},setZoomAround:function(e,n,s){var u=this.getZoomScale(n),d=this.getSize().divideBy(2),_=e instanceof o.Point?e:this.latLngToContainerPoint(e),b=_.subtract(d).multiplyBy(1-1/u),x=this.containerPointToLatLng(d.add(b));return this.setView(x,n,{zoom:s})},fitBounds:function(e,n){n=n||{},e=e.getBounds?e.getBounds():o.latLngBounds(e);var s=o.point(n.paddingTopLeft||n.padding||[0,0]),u=o.point(n.paddingBottomRight||n.padding||[0,0]),d=this.getBoundsZoom(e,!1,s.add(u)),_=u.subtract(s).divideBy(2),b=this.project(e.getSouthWest(),d),x=this.project(e.getNorthEast(),d),A=this.unproject(b.add(x).divideBy(2).add(_),d);return this.setView(A,d,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e){return this.fire("movestart"),this._rawPanBy(o.point(e)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(e,n){if(e=o.latLngBounds(e),this.options.maxBounds=e,!e)return this._boundsMinZoom=null,this.off("moveend",this._panInsideMaxBounds,this),this;var s=this.getBoundsZoom(e,!0);return this._boundsMinZoom=s,this._loaded&&(this._zoom<s?this.setView(e.getCenter(),s,n):this.panInsideBounds(e)),this.on("moveend",this._panInsideMaxBounds,this),this},panInsideBounds:function(e){e=o.latLngBounds(e);var n=this.getPixelBounds(),s=n.getBottomLeft(),u=n.getTopRight(),d=this.project(e.getSouthWest()),_=this.project(e.getNorthEast()),b=0,x=0;return u.y<_.y&&(x=Math.ceil(_.y-u.y)),u.x>_.x&&(b=Math.floor(_.x-u.x)),s.y>d.y&&(x=Math.floor(d.y-s.y)),s.x<d.x&&(b=Math.ceil(d.x-s.x)),b||x?this.panBy([b,x]):this},addLayer:function(e){var n=o.stamp(e);return this._layers[n]?this:(this._layers[n]=e,e.options&&(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[n]=e,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&e instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,e.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(e),this)},removeLayer:function(e){var n=o.stamp(e);if(this._layers[n])return this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&this.fire("layerremove",{layer:e}),this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&e instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,e.off("load",this._onTileLayerLoad,this)),this},hasLayer:function(e){return e?o.stamp(e)in this._layers:!1},eachLayer:function(e,n){for(var s in this._layers)e.call(n,this._layers[s]);return this},invalidateSize:function(e){e=o.extend({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var s=this.getSize(),u=n.subtract(s).divideBy(2).round();return!u.x&&!u.y?this:(e.animate&&e.pan?this.panBy(u):(e.pan&&this._rawPanBy(u),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)),this.fire("resize",{oldSize:n,newSize:s}))},addHandler:function(e,n){if(n){var s=this[e]=new n(this);return this._handlers.push(s),this.options[e]&&s.enable(),this}},remove:function(){return this._loaded&&this.fire("unload"),this._initEvents("off"),delete this._container._leaflet,this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._moved()?this.layerPointToLatLng(this._getCenterLayerPoint()):this._initialCenter},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),s=this.unproject(e.getTopRight());return new o.LatLngBounds(n,s)},getMinZoom:function(){var e=this._layersMinZoom===D?0:this._layersMinZoom,n=this._boundsMinZoom===D?0:this._boundsMinZoom;return this.options.minZoom===D?Math.max(e,n):this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===D?this._layersMaxZoom===D?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,s){e=o.latLngBounds(e);var u=this.getMinZoom()-(n?1:0),d=this.getMaxZoom(),_=this.getSize(),b=e.getNorthWest(),x=e.getSouthEast(),A=!0,S;s=o.point(s||[0,0]);do u++,S=this.project(x,u).subtract(this.project(b,u)).add(s),A=n?S.x<_.x||S.y<_.y:_.contains(S);while(A&&u<=d);return A&&n?null:n?u:u-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var e=this._getTopLeftPoint();return new o.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e){var n=this.options.crs;return n.scale(e)/n.scale(this._zoom)},getScaleZoom:function(e){return this._zoom+Math.log(e)/Math.LN2},project:function(e,n){return n=n===D?this._zoom:n,this.options.crs.latLngToPoint(o.latLng(e),n)},unproject:function(e,n){return n=n===D?this._zoom:n,this.options.crs.pointToLatLng(o.point(e),n)},layerPointToLatLng:function(e){var n=o.point(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(o.latLng(e))._round();return n._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(e){return o.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return o.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(o.point(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(e)))},mouseEventToContainerPoint:function(e){return o.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=o.DomUtil.get(e);if(n){if(n._leaflet)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");n._leaflet=!0},_initLayout:function(){var e=this._container;o.DomUtil.addClass(e,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var n=o.DomUtil.getStyle(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._mapPane=e.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=e.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),e.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),e.shadowPane=this._createPane("leaflet-shadow-pane"),e.overlayPane=this._createPane("leaflet-overlay-pane"),e.markerPane=this._createPane("leaflet-marker-pane"),e.popupPane=this._createPane("leaflet-popup-pane");var n=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(e.markerPane,n),o.DomUtil.addClass(e.shadowPane,n),o.DomUtil.addClass(e.popupPane,n))},_createPane:function(e,n){return o.DomUtil.create("div",e,n||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(e){e=e?o.Util.isArray(e)?e:[e]:[];for(var n=0,s=e.length;n<s;n++)this.addLayer(e[n])},_resetView:function(e,n,s,u){var d=this._zoom!==n;u||(this.fire("movestart"),d&&this.fire("zoomstart")),this._zoom=n,this._initialCenter=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(e),s?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var _=!this._loaded;this._loaded=!0,_&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!s}),this.fire("move"),(d||u)&&this.fire("zoomend"),this.fire("moveend",{hard:!s})},_rawPanBy:function(e){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var e,n=1/0,s=-1/0,u=this._getZoomSpan();for(e in this._zoomBoundLayers){var d=this._zoomBoundLayers[e];isNaN(d.options.minZoom)||(n=Math.min(n,d.options.minZoom)),isNaN(d.options.maxZoom)||(s=Math.max(s,d.options.maxZoom))}e===D?this._layersMaxZoom=this._layersMinZoom=D:(this._layersMaxZoom=s,this._layersMinZoom=n),u!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var n=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],s,u;for(s=0,u=n.length;s<u;s++)o.DomEvent[e](this._container,n[s],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](Et,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(e){!this._loaded||!e._simulated&&this.dragging&&this.dragging.moved()||o.DomEvent._skipped(e)||(this.fire("preclick"),this._fireMouseEvent(e))},_fireMouseEvent:function(e){if(!(!this._loaded||o.DomEvent._skipped(e))){var n=e.type;if(n=n==="mouseenter"?"mouseover":n==="mouseleave"?"mouseout":n,!!this.hasEventListeners(n)){n==="contextmenu"&&o.DomEvent.preventDefault(e);var s=this.mouseEventToContainerPoint(e),u=this.containerPointToLayerPoint(s),d=this.layerPointToLatLng(u);this.fire(n,{latlng:d,layerPoint:u,containerPoint:s,originalEvent:e})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,this):this.on("load",e,n),this},_layerAdd:function(e){e.onAdd(this),this.fire("layeradd",{layer:e})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(e,n){var s=this.getSize()._divideBy(2);return this.project(e,n)._subtract(s)._round()},_latLngToNewLayerPoint:function(e,n,s){var u=this._getNewTopLeftPoint(s,n).add(this._getMapPanePos());return this.project(e,n)._subtract(u)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitZoom:function(e){var n=this.getMinZoom(),s=this.getMaxZoom();return Math.max(n,Math.min(s,e))}}),o.map=function(e,n){return new o.Map(e,n)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752314245179e-9,R_MAJOR:6378137,project:function(e){var n=o.LatLng.DEG_TO_RAD,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,e.lat),-s),d=this.R_MAJOR,_=this.R_MINOR,b=e.lng*n*d,x=u*n,A=_/d,S=Math.sqrt(1-A*A),F=S*Math.sin(x);F=Math.pow((1-F)/(1+F),S*.5);var H=Math.tan(.5*(Math.PI*.5-x))/F;return x=-d*Math.log(H),new o.Point(b,x)},unproject:function(e){for(var n=o.LatLng.RAD_TO_DEG,s=this.R_MAJOR,u=this.R_MINOR,d=e.x*n/s,_=u/s,b=Math.sqrt(1-_*_),x=Math.exp(-e.y/s),A=Math.PI/2-2*Math.atan(x),S=15,F=1e-7,H=S,z=.1,U;Math.abs(z)>F&&--H>0;)U=b*Math.sin(A),z=Math.PI/2-2*Math.atan(x*Math.pow((1-U)/(1+U),.5*b))-A,A+=z;return new o.LatLng(A*n,d)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var e=o.Projection.Mercator,n=e.R_MAJOR,s=e.R_MINOR;return new o.Transformation(.5/(Math.PI*n),.5,-.5/(Math.PI*s),.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(e,n){n=o.setOptions(this,n),n.detectRetina&&o.Browser.retina&&n.maxZoom>0&&(n.tileSize=Math.floor(n.tileSize/2),n.zoomOffset++,n.minZoom>0&&n.minZoom--,this.options.maxZoom--),n.bounds&&(n.bounds=o.latLngBounds(n.bounds)),this._url=e;var s=this.options.subdomains;typeof s=="string"&&(this.options.subdomains=s.split(""))},onAdd:function(e){this._map=e,this._animated=e._zoomAnimated,this._initContainer(),this._createTileProto(),e.on({viewreset:this._reset,moveend:this._update},this),this._animated&&e.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),e.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this._container.parentNode.removeChild(this._container),e.off({viewreset:this._reset,moveend:this._update},this),this._animated&&e.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||e.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var e=this._map._panes.tilePane;return this._container&&(e.appendChild(this._container),this._setAutoZIndex(e,Math.max)),this},bringToBack:function(){var e=this._map._panes.tilePane;return this._container&&(e.insertBefore(this._container,e.firstChild),this._setAutoZIndex(e,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},setUrl:function(e,n){return this._url=e,n||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==D&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e,n){var s=e.children,u=-n(1/0,-1/0),d,_,b;for(_=0,b=s.length;_<b;_++)s[_]!==this._container&&(d=parseInt(s[_].style.zIndex,10),isNaN(d)||(u=n(u,d)));this.options.zIndex=this._container.style.zIndex=(isFinite(u)?u:0)+n(1,-1)},_updateOpacity:function(){var e,n=this._tiles;if(o.Browser.ielt9)for(e in n)o.DomUtil.setOpacity(n[e],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var e=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var n="leaflet-tile-container leaflet-zoom-animated";this._bgBuffer=o.DomUtil.create("div",n,this._container),this._tileContainer=o.DomUtil.create("div",n,this._container)}else this._tileContainer=this._container;e.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(e){for(var n in this._tiles)this.fire("tileunload",{tile:this._tiles[n]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&e&&e.hard&&this._clearBgBuffer(),this._initContainer()},_update:function(){if(this._map){var e=this._map.getPixelBounds(),n=this._map.getZoom(),s=this.options.tileSize;if(!(n>this.options.maxZoom||n<this.options.minZoom)){var u=o.bounds(e.min.divideBy(s)._floor(),e.max.divideBy(s)._floor());this._addTilesFromCenterOut(u),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(u)}}},_addTilesFromCenterOut:function(e){var n=[],s=e.getCenter(),u,d,_;for(u=e.min.y;u<=e.max.y;u++)for(d=e.min.x;d<=e.max.x;d++)_=new o.Point(d,u),this._tileShouldBeLoaded(_)&&n.push(_);var b=n.length;if(b!==0){n.sort(function(A,S){return A.distanceTo(s)-S.distanceTo(s)});var x=V.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=b,d=0;d<b;d++)this._addTile(n[d],x);this._tileContainer.appendChild(x)}},_tileShouldBeLoaded:function(e){if(e.x+":"+e.y in this._tiles)return!1;var n=this.options;if(!n.continuousWorld){var s=this._getWrapTileNum();if(n.noWrap&&(e.x<0||e.x>=s)||e.y<0||e.y>=s)return!1}if(n.bounds){var u=n.tileSize,d=e.multiplyBy(u),_=d.add([u,u]),b=this._map.unproject(d),x=this._map.unproject(_);if(!n.continuousWorld&&!n.noWrap&&(b=b.wrap(),x=x.wrap()),!n.bounds.intersects([b,x]))return!1}return!0},_removeOtherTiles:function(e){var n,s,u,d;for(d in this._tiles)n=d.split(":"),s=parseInt(n[0],10),u=parseInt(n[1],10),(s<e.min.x||s>e.max.x||u<e.min.y||u>e.max.y)&&this._removeTile(d)},_removeTile:function(e){var n=this._tiles[e];this.fire("tileunload",{tile:n,url:n.src}),this.options.reuseTiles?(o.DomUtil.removeClass(n,"leaflet-tile-loaded"),this._unusedTiles.push(n)):n.parentNode===this._tileContainer&&this._tileContainer.removeChild(n),o.Browser.android||(n.onload=null,n.src=o.Util.emptyImageUrl),delete this._tiles[e]},_addTile:function(e,n){var s=this._getTilePos(e),u=this._getTile();o.DomUtil.setPosition(u,s,o.Browser.chrome||o.Browser.android23),this._tiles[e.x+":"+e.y]=u,this._loadTile(u,e),u.parentNode!==this._tileContainer&&n.appendChild(u)},_getZoomForUrl:function(){var e=this.options,n=this._map.getZoom();return e.zoomReverse&&(n=e.maxZoom-n),n+e.zoomOffset},_getTilePos:function(e){var n=this._map.getPixelOrigin(),s=this.options.tileSize;return e.multiplyBy(s).subtract(n)},getTileUrl:function(e){return o.Util.template(this._url,o.extend({s:this._getSubdomain(e),z:e.z,x:e.x,y:e.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(e){var n=this._getWrapTileNum();!this.options.continuousWorld&&!this.options.noWrap&&(e.x=(e.x%n+n)%n),this.options.tms&&(e.y=n-e.y-1),e.z=this._getZoomForUrl()},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_createTileProto:function(){var e=this._tileImg=o.DomUtil.create("img","leaflet-tile");e.style.width=e.style.height=this.options.tileSize+"px",e.galleryimg="no"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var e=this._unusedTiles.pop();return this._resetTile(e),e}return this._createTile()},_resetTile:function(){},_createTile:function(){var e=this._tileImg.cloneNode(!1);return e.onselectstart=e.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==D&&o.DomUtil.setOpacity(e,this.options.opacity),e},_loadTile:function(e,n){e._layer=this,e.onload=this._tileOnLoad,e.onerror=this._tileOnError,this._adjustTilePoint(n),e.src=this.getTileUrl(n)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var e=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),e.fire("tileload",{tile:this,url:this.src})),e._tileLoaded()},_tileOnError:function(){var e=this._layer;e.fire("tileerror",{tile:this,url:this.src});var n=e.options.errorTileUrl;n&&(this.src=n),e._tileLoaded()}}),o.tileLayer=function(e,n){return new o.TileLayer(e,n)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,n){this._url=e;var s=o.extend({},this.defaultWmsParams),u=n.tileSize||this.options.tileSize;n.detectRetina&&o.Browser.retina?s.width=s.height=u*2:s.width=s.height=u;for(var d in n)!this.options.hasOwnProperty(d)&&d!=="crs"&&(s[d]=n[d]);this.wmsParams=s,o.setOptions(this,n)},onAdd:function(e){this._crs=this.options.crs||e.options.crs;var n=parseFloat(this.wmsParams.version)>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e,n){var s=this._map,u=this.options.tileSize,d=e.multiplyBy(u),_=d.add([u,u]),b=this._crs.project(s.unproject(d,n)),x=this._crs.project(s.unproject(_,n)),A=[b.x,x.y,x.x,b.y].join(","),S=o.Util.template(this._url,{s:this._getSubdomain(e)});return S+o.Util.getParamString(this.wmsParams,S,!0)+"&BBOX="+A},setParams:function(e,n){return o.extend(this.wmsParams,e),n||this.redraw(),this}}),o.tileLayer.wms=function(e,n){return new o.TileLayer.WMS(e,n)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(e){o.setOptions(this,e)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var e in this._tiles)this._redrawTile(this._tiles[e]);return this},_redrawTile:function(e){this.drawTile(e,e._tilePoint,this._map._zoom)},_createTileProto:function(){var e=this._canvasProto=o.DomUtil.create("canvas","leaflet-tile");e.width=e.height=this.options.tileSize},_createTile:function(){var e=this._canvasProto.cloneNode(!1);return e.onselectstart=e.onmousemove=o.Util.falseFn,e},_loadTile:function(e,n){e._layer=this,e._tilePoint=n,this._redrawTile(e),this.options.async||this.tileDrawn(e)},drawTile:function(){},tileDrawn:function(e){this._tileOnLoad.call(e)}}),o.tileLayer.canvas=function(e){return new o.TileLayer.Canvas(e)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(e,n,s){this._url=e,this._bounds=o.latLngBounds(n),o.setOptions(this,s)},onAdd:function(e){this._map=e,this._image||this._initImage(),e._panes.overlayPane.appendChild(this._image),e.on("viewreset",this._reset,this),e.options.zoomAnimation&&o.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._image),e.off("viewreset",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var e=this._map._panes.overlayPane;return this._image&&e.insertBefore(this._image,e.firstChild),this},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var n=this._map,s=this._image,u=n.getZoomScale(e.zoom),d=this._bounds.getNorthWest(),_=this._bounds.getSouthEast(),b=n._latLngToNewLayerPoint(d,e.zoom,e.center),x=n._latLngToNewLayerPoint(_,e.zoom,e.center)._subtract(b),A=b._add(x._multiplyBy(1/2*(1-1/u)));s.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(A)+" scale("+u+") "},_reset:function(){var e=this._image,n=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),s=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(n);o.DomUtil.setPosition(e,n),e.style.width=s.x+"px",e.style.height=s.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(e,n,s){return new o.ImageOverlay(e,n,s)},o.Icon=o.Class.extend({options:{className:""},initialize:function(e){o.setOptions(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var s=this._getIconUrl(e);if(!s){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u;return!n||n.tagName!=="IMG"?u=this._createImg(s):u=this._createImg(s,n),this._setIconStyles(u,e),u},_setIconStyles:function(e,n){var s=this.options,u=o.point(s[n+"Size"]),d;n==="shadow"?d=o.point(s.shadowAnchor||s.iconAnchor):d=o.point(s.iconAnchor),!d&&u&&(d=u.divideBy(2,!0)),e.className="leaflet-marker-"+n+" "+s.className,d&&(e.style.marginLeft=-d.x+"px",e.style.marginTop=-d.y+"px"),u&&(e.style.width=u.x+"px",e.style.height=u.y+"px")},_createImg:function(e,n){return o.Browser.ie6?(n||(n=V.createElement("div")),n.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+e+'")'):(n||(n=V.createElement("img")),n.src=e),n},_getIconUrl:function(e){return o.Browser.retina&&this.options[e+"RetinaUrl"]?this.options[e+"RetinaUrl"]:this.options[e+"Url"]}}),o.icon=function(e){return new o.Icon(e)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(e){var n=e+"Url";if(this.options[n])return this.options[n];o.Browser.retina&&e==="icon"&&(e+="-2x");var s=o.Icon.Default.imagePath;if(!s)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return s+"/marker-"+e+".png"}}),o.Icon.Default.imagePath=function(){var e=V.getElementsByTagName("script"),n=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,s,u,d,_,b;for(s=0,u=e.length;s<u;s++)if(d=e[s].src,_=d.match(n),_)return b=d.split(n)[0],(b?b+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(e,n){o.setOptions(this,n),this._latlng=o.latLng(e)},onAdd:function(e){this._map=e,e.on("viewreset",this.update,this),this._initIcon(),this.update(),e.options.zoomAnimation&&e.options.markerZoomAnimation&&e.on("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),e.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=o.latLng(e),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update(),this},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this},update:function(){if(this._icon){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n=this._map,s=n.options.zoomAnimation&&n.options.markerZoomAnimation,u=s?"leaflet-zoom-animated":"leaflet-zoom-hide",d=e.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,e.title&&(d.title=e.title)),o.DomUtil.addClass(d,u),e.keyboard&&(d.tabIndex="0"),this._icon=d,this._initInteraction(),e.riseOnHover&&o.DomEvent.on(d,"mouseover",this._bringToFront,this).on(d,"mouseout",this._resetZIndex,this);var b=e.icon.createShadow(this._shadow),x=!1;b!==this._shadow&&(this._removeShadow(),x=!0),b&&o.DomUtil.addClass(b,u),this._shadow=b,e.opacity<1&&this._updateOpacity();var A=this._map._panes;_&&A.markerPane.appendChild(this._icon),b&&x&&A.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(e){o.DomUtil.setPosition(this._icon,e),this._shadow&&o.DomUtil.setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPos(n)},_initInteraction:function(){if(this.options.clickable){var e=this._icon,n=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(e,"leaflet-clickable"),o.DomEvent.on(e,"click",this._onMouseClick,this),o.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var s=0;s<n.length;s++)o.DomEvent.on(e,n[s],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(e){var n=this.dragging&&this.dragging.moved();(this.hasEventListeners(e.type)||n)&&o.DomEvent.stopPropagation(e),!n&&((!this.dragging||!this.dragging._enabled)&&this._map.dragging&&this._map.dragging.moved()||this.fire(e.type,{originalEvent:e,latlng:this._latlng}))},_onKeyPress:function(e){e.keyCode===13&&this.fire("click",{originalEvent:e,latlng:this._latlng})},_fireMouseEvent:function(e){this.fire(e.type,{originalEvent:e,latlng:this._latlng}),e.type==="contextmenu"&&this.hasEventListeners(e.type)&&o.DomEvent.preventDefault(e),e.type!=="mousedown"?o.DomEvent.stopPropagation(e):o.DomEvent.preventDefault(e)},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(e,n){return new o.Marker(e,n)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:V.createElement("div"),s=this.options;return s.html!==!1?n.innerHTML=s.html:n.innerHTML="",s.bgPos&&(n.style.backgroundPosition=-s.bgPos.x+"px "+-s.bgPos.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),o.divIcon=function(e){return new o.DivIcon(e)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(e,n){o.setOptions(this,e),this._source=n,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(e){this._map=e,this._container||this._initLayout(),this._updateContent();var n=e.options.fadeAnimation;n&&o.DomUtil.setOpacity(this._container,0),e._panes.popupPane.appendChild(this._container),e.on(this._getEvents(),this),this._update(),n&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),e.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(e){return e.addLayer(this),this},openOn:function(e){return e.openPopup(this),this},onRemove:function(e){e._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),e.off(this._getEvents(),this),e.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),e.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},setLatLng:function(e){return this._latlng=o.latLng(e),this._update(),this},setContent:function(e){return this._content=e,this._update(),this},_getEvents:function(){var e={viewreset:this._updatePosition};return this._animated&&(e.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),s=this._container=o.DomUtil.create("div",n),u;this.options.closeButton&&(u=this._closeButton=o.DomUtil.create("a",e+"-close-button",s),u.href="#close",u.innerHTML="&#215;",o.DomEvent.disableClickPropagation(u),o.DomEvent.on(u,"click",this._onCloseButtonClick,this));var d=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",s);o.DomEvent.disableClickPropagation(d),this._contentNode=o.DomUtil.create("div",e+"-content",d),o.DomEvent.on(this._contentNode,"mousewheel",o.DomEvent.stopPropagation),o.DomEvent.on(this._contentNode,"MozMousePixelScroll",o.DomEvent.stopPropagation),o.DomEvent.on(d,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",s),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_updateContent:function(){if(this._content){if(typeof this._content=="string")this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var s=e.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),n.width=s+1+"px",n.whiteSpace="",n.height="";var u=e.offsetHeight,d=this.options.maxHeight,_="leaflet-popup-scrolled";d&&u>d?(n.height=d+"px",o.DomUtil.addClass(e,_)):o.DomUtil.removeClass(e,_),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=this._animated,s=o.point(this.options.offset);n&&o.DomUtil.setPosition(this._container,e),this._containerBottom=-s.y-(n?0:e.y),this._containerLeft=-Math.round(this._containerWidth/2)+s.x+(n?0:e.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);o.DomUtil.setPosition(this._container,n)},_adjustPan:function(){if(this.options.autoPan){var e=this._map,n=this._container.offsetHeight,s=this._containerWidth,u=new o.Point(this._containerLeft,-n-this._containerBottom);this._animated&&u._add(o.DomUtil.getPosition(this._container));var d=e.layerPointToContainerPoint(u),_=o.point(this.options.autoPanPadding),b=e.getSize(),x=0,A=0;d.x+s>b.x&&(x=d.x+s-b.x+_.x),d.x-x<0&&(x=d.x-_.x),d.y+n>b.y&&(A=d.y+n-b.y+_.y),d.y-A<0&&(A=d.y-_.y),(x||A)&&e.fire("autopanstart").panBy([x,A])}},_onCloseButtonClick:function(e){this._close(),o.DomEvent.stop(e)}}),o.popup=function(e,n){return new o.Popup(e,n)},o.Map.include({openPopup:function(e,n,s){if(this.closePopup(),!(e instanceof o.Popup)){var u=e;e=new o.Popup(s).setLatLng(n).setContent(u)}return e._isOpen=!0,this._popup=e,this.addLayer(e)},closePopup:function(e){return(!e||e===this._popup)&&(e=this._popup,this._popup=null),e&&(this.removeLayer(e),e._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(e,n){var s=o.point(this.options.icon.options.popupAnchor||[0,0]);return s=s.add(o.Popup.prototype.options.offset),n&&n.offset&&(s=s.add(n.offset)),n=o.extend({offset:s},n),this._popup||this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),e instanceof o.Popup?(o.setOptions(e,n),this._popup=e):this._popup=new o.Popup(n,this).setContent(e),this},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup).off("remove",this.closePopup).off("move",this._movePopup)),this},_movePopup:function(e){this._popup.setLatLng(e.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(e){this._layers={};var n,s;if(e)for(n=0,s=e.length;n<s;n++)this.addLayer(e[n])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){return e?e in this._layers||this.getLayerId(e)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),s,u;for(s in this._layers)u=this._layers[s],u[e]&&u[e].apply(u,n);return this},onAdd:function(e){this._map=e,this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e),this._map=null},addTo:function(e){return e.addLayer(this),this},eachLayer:function(e,n){for(var s in this._layers)e.call(n,this._layers[s]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var n in this._layers)e.push(this._layers[n]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o.stamp(e)}}),o.layerGroup=function(e){return new o.LayerGroup(e)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(e){return this.hasLayer(e)?this:(e.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,e),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:e})):this},bindPopup:function(e,n){return this._popupContent=e,this._popupOptions=n,this.invoke("bindPopup",e,n)},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new o.LatLngBounds;return this.eachLayer(function(n){e.extend(n instanceof o.Marker?n.getLatLng():n.getBounds())}),e},_propagateEvent:function(e){e.layer||(e.layer=e.target),e.target=this,this.fire(e.type,e)}}),o.featureGroup=function(e){return new o.FeatureGroup(e)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,n=(e/Math.max(Et.outerWidth,Et.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(e){o.setOptions(this,e)},onAdd:function(e){this._map=e,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),e.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){e._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),e.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(e){return o.setOptions(this,e),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var e=o.Path.CLIP_PADDING,n=this.getSize(),s=o.DomUtil.getPosition(this._mapPane),u=s.multiplyBy(-1)._subtract(n.multiplyBy(e)._round()),d=u.add(n.multiplyBy(1+e*2)._round());this._pathViewport=new o.Bounds(u,d)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!!(V.createElementNS&&V.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var e=this._map._pathRoot,n=this._container;return n&&e.lastChild!==n&&e.appendChild(n),this},bringToBack:function(){var e=this._map._pathRoot,n=this._container,s=e.firstChild;return n&&s!==n&&e.insertBefore(n,s),this},getPathString:function(){},_createElement:function(e){return V.createElementNS(o.Path.SVG_NS,e)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),!this.options.clickable&&!this.options.pointerEvents&&this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var e=this.getPathString();e||(e="M0 0"),this._path.setAttribute("d",e)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&this._path.setAttribute("class","leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var e=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],n=0;n<e.length;n++)o.DomEvent.on(this._container,e[n],this._fireMouseEvent,this)}},_onMouseClick:function(e){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(e)},_fireMouseEvent:function(e){if(this.hasEventListeners(e.type)){var n=this._map,s=n.mouseEventToContainerPoint(e),u=n.containerPointToLayerPoint(s),d=n.layerPointToLatLng(u);this.fire(e.type,{latlng:d,layerPoint:u,containerPoint:s,originalEvent:e}),e.type==="contextmenu"&&o.DomEvent.preventDefault(e),e.type!=="mousemove"&&o.DomEvent.stopPropagation(e)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(e){var n=this.getZoomScale(e.zoom),s=this._getCenterOffset(e.center)._multiplyBy(-n)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(s)+" scale("+n+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,n=e.min,s=e.max,u=s.x-n.x,d=s.y-n.y,_=this._pathRoot,b=this._panes.overlayPane;o.Browser.mobileWebkit&&b.removeChild(_),o.DomUtil.setPosition(_,n),_.setAttribute("width",u),_.setAttribute("height",d),_.setAttribute("viewBox",[n.x,n.y,u,d].join(" ")),o.Browser.mobileWebkit&&b.appendChild(_)}}}),o.Path.include({bindPopup:function(e,n){return e instanceof o.Popup?this._popup=e:((!this._popup||n)&&(this._popup=new o.Popup(n,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(e){return this._popup&&(e=e||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:e})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(e){this._popup.setLatLng(e.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var e=V.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return V.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return V.createElement("<lvml:"+e+' class="lvml">')}}catch{return function(n){return V.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var e=this._container=this._createElement("shape");o.DomUtil.addClass(e,"leaflet-vml-shape"),this.options.clickable&&o.DomUtil.addClass(e,"leaflet-clickable"),e.coordsize="1 1",this._path=this._createElement("path"),e.appendChild(this._path),this._map._pathRoot.appendChild(e)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var e=this._stroke,n=this._fill,s=this.options,u=this._container;u.stroked=s.stroke,u.filled=s.fill,s.stroke?(e||(e=this._stroke=this._createElement("stroke"),e.endcap="round",u.appendChild(e)),e.weight=s.weight+"px",e.color=s.color,e.opacity=s.opacity,s.dashArray?e.dashStyle=s.dashArray instanceof Array?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):e.dashStyle=""):e&&(u.removeChild(e),this._stroke=null),s.fill?(n||(n=this._fill=this._createElement("fill"),u.appendChild(n)),n.color=s.fillColor||s.color,n.opacity=s.fillOpacity):n&&(u.removeChild(n),this._fill=null)},_updatePath:function(){var e=this._container.style;e.display="none",this._path.v=this.getPathString()+" ",e.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var e=this._pathRoot=V.createElement("div");e.className="leaflet-vml-container",this._panes.overlayPane.appendChild(e),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!V.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!Et.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(e){return o.setOptions(this,e),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(e){e.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var e=this.options;e.stroke&&(this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color),e.fill&&(this._ctx.fillStyle=e.fillColor||e.color)},_drawPath:function(){var e,n,s,u,d,_;for(this._ctx.beginPath(),e=0,s=this._parts.length;e<s;e++){for(n=0,u=this._parts[e].length;n<u;n++)d=this._parts[e][n],_=(n===0?"move":"line")+"To",this._ctx[_](d.x,d.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var e=this._ctx,n=this.options;this._drawPath(),e.save(),this._updateStyle(),n.fill&&(e.globalAlpha=n.fillOpacity,e.fill()),n.stroke&&(e.globalAlpha=n.opacity,e.stroke()),e.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(e){this._containsPoint(e.layerPoint)&&this.fire("click",e)},_onMouseMove:function(e){!this._map||this._map._animatingZoom||(this._containsPoint(e.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",e)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",e)))}}),o.Map.include(o.Path.SVG&&!Et.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var e=this._pathRoot,n;e||(e=this._pathRoot=V.createElement("canvas"),e.style.position="absolute",n=this._canvasCtx=e.getContext("2d"),n.lineCap="round",n.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,n=e.min,s=e.max.subtract(n),u=this._pathRoot;o.DomUtil.setPosition(u,n),u.width=s.x,u.height=s.y,u.getContext("2d").translate(-n.x,-n.y)}}}),o.LineUtil={simplify:function(e,n){if(!n||!e.length)return e.slice();var s=n*n;return e=this._reducePoints(e,s),e=this._simplifyDP(e,s),e},pointToSegmentDistance:function(e,n,s){return Math.sqrt(this._sqClosestPointOnSegment(e,n,s,!0))},closestPointOnSegment:function(e,n,s){return this._sqClosestPointOnSegment(e,n,s)},_simplifyDP:function(e,n){var s=e.length,u=typeof Uint8Array!=D+""?Uint8Array:Array,d=new u(s);d[0]=d[s-1]=1,this._simplifyDPStep(e,d,n,0,s-1);var _,b=[];for(_=0;_<s;_++)d[_]&&b.push(e[_]);return b},_simplifyDPStep:function(e,n,s,u,d){var _=0,b,x,A;for(x=u+1;x<=d-1;x++)A=this._sqClosestPointOnSegment(e[x],e[u],e[d],!0),A>_&&(b=x,_=A);_>s&&(n[b]=1,this._simplifyDPStep(e,n,s,u,b),this._simplifyDPStep(e,n,s,b,d))},_reducePoints:function(e,n){for(var s=[e[0]],u=1,d=0,_=e.length;u<_;u++)this._sqDist(e[u],e[d])>n&&(s.push(e[u]),d=u);return d<_-1&&s.push(e[_-1]),s},clipSegment:function(e,n,s,u){var d=u?this._lastCode:this._getBitCode(e,s),_=this._getBitCode(n,s),b,x,A;for(this._lastCode=_;;)if(d|_){if(d&_)return!1;b=d||_,x=this._getEdgeIntersection(e,n,b,s),A=this._getBitCode(x,s),b===d?(e=x,d=A):(n=x,_=A)}else return[e,n]},_getEdgeIntersection:function(e,n,s,u){var d=n.x-e.x,_=n.y-e.y,b=u.min,x=u.max;if(s&8)return new o.Point(e.x+d*(x.y-e.y)/_,x.y);if(s&4)return new o.Point(e.x+d*(b.y-e.y)/_,b.y);if(s&2)return new o.Point(x.x,e.y+_*(x.x-e.x)/d);if(s&1)return new o.Point(b.x,e.y+_*(b.x-e.x)/d)},_getBitCode:function(e,n){var s=0;return e.x<n.min.x?s|=1:e.x>n.max.x&&(s|=2),e.y<n.min.y?s|=4:e.y>n.max.y&&(s|=8),s},_sqDist:function(e,n){var s=n.x-e.x,u=n.y-e.y;return s*s+u*u},_sqClosestPointOnSegment:function(e,n,s,u){var d=n.x,_=n.y,b=s.x-d,x=s.y-_,A=b*b+x*x,S;return A>0&&(S=((e.x-d)*b+(e.y-_)*x)/A,S>1?(d=s.x,_=s.y):S>0&&(d+=b*S,_+=x*S)),b=e.x-d,x=e.y-_,u?b*b+x*x:new o.Point(d,_)}},o.Polyline=o.Path.extend({initialize:function(e,n){o.Path.prototype.initialize.call(this,n),this._latlngs=this._convertLatLngs(e)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var e=0,n=this._latlngs.length;e<n;e++)this._originalPoints[e]=this._map.latLngToLayerPoint(this._latlngs[e])},getPathString:function(){for(var e=0,n=this._parts.length,s="";e<n;e++)s+=this._getPathPartStr(this._parts[e]);return s},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._latlngs=this._convertLatLngs(e),this.redraw()},addLatLng:function(e){return this._latlngs.push(o.latLng(e)),this.redraw()},spliceLatLngs:function(){var e=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),e},closestLayerPoint:function(e){for(var n=1/0,s=this._parts,u,d,_=null,b=0,x=s.length;b<x;b++)for(var A=s[b],S=1,F=A.length;S<F;S++){u=A[S-1],d=A[S];var H=o.LineUtil._sqClosestPointOnSegment(e,u,d,!0);H<n&&(n=H,_=o.LineUtil._sqClosestPointOnSegment(e,u,d))}return _&&(_.distance=Math.sqrt(n)),_},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(e,n){var s,u,d=n?e:[];for(s=0,u=e.length;s<u;s++){if(o.Util.isArray(e[s])&&typeof e[s][0]!="number")return;d[s]=o.latLng(e[s])}return d},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(e){for(var n=o.Path.VML,s=0,u=e.length,d="",_;s<u;s++)_=e[s],n&&_._round(),d+=(s?"L":"M")+_.x+" "+_.y;return d},_clipPoints:function(){var e=this._originalPoints,n=e.length,s,u,d;if(this.options.noClip){this._parts=[e];return}this._parts=[];var _=this._parts,b=this._map._pathViewport,x=o.LineUtil;for(s=0,u=0;s<n-1;s++)d=x.clipSegment(e[s],e[s+1],b,s),d&&(_[u]=_[u]||[],_[u].push(d[0]),(d[1]!==e[s+1]||s===n-2)&&(_[u].push(d[1]),u++))},_simplifyPoints:function(){for(var e=this._parts,n=o.LineUtil,s=0,u=e.length;s<u;s++)e[s]=n.simplify(e[s],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(e,n){return new o.Polyline(e,n)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(e,n){var s,u=[1,4,2,8],d,_,b,x,A,S,F,H,z=o.LineUtil;for(d=0,S=e.length;d<S;d++)e[d]._code=z._getBitCode(e[d],n);for(b=0;b<4;b++){for(F=u[b],s=[],d=0,S=e.length,_=S-1;d<S;_=d++)x=e[d],A=e[_],x._code&F?A._code&F||(H=z._getEdgeIntersection(A,x,F,n),H._code=z._getBitCode(H,n),s.push(H)):(A._code&F&&(H=z._getEdgeIntersection(A,x,F,n),H._code=z._getBitCode(H,n),s.push(H)),s.push(x));e=s}return e},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(e,n){var s,u,d;if(o.Polyline.prototype.initialize.call(this,e,n),e&&o.Util.isArray(e[0])&&typeof e[0][0]!="number")for(this._latlngs=this._convertLatLngs(e[0]),this._holes=e.slice(1),s=0,u=this._holes.length;s<u;s++)d=this._holes[s]=this._convertLatLngs(this._holes[s]),d[0].equals(d[d.length-1])&&d.pop();e=this._latlngs,e.length>=2&&e[0].equals(e[e.length-1])&&e.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],!!this._holes){var e,n,s,u;for(e=0,s=this._holes.length;e<s;e++)for(this._holePoints[e]=[],n=0,u=this._holes[e].length;n<u;n++)this._holePoints[e][n]=this._map.latLngToLayerPoint(this._holes[e][n])}},_clipPoints:function(){var e=this._originalPoints,n=[];if(this._parts=[e].concat(this._holePoints),!this.options.noClip){for(var s=0,u=this._parts.length;s<u;s++){var d=o.PolyUtil.clipPolygon(this._parts[s],this._map._pathViewport);d.length&&n.push(d)}this._parts=n}},_getPathPartStr:function(e){var n=o.Polyline.prototype._getPathPartStr.call(this,e);return n+(o.Browser.svg?"z":"x")}}),o.polygon=function(e,n){return new o.Polygon(e,n)},function(){function e(n){return o.FeatureGroup.extend({initialize:function(s,u){this._layers={},this._options=u,this.setLatLngs(s)},setLatLngs:function(s){var u=0,d=s.length;for(this.eachLayer(function(_){u<d?_.setLatLngs(s[u++]):this.removeLayer(_)},this);u<d;)this.addLayer(new n(s[u++],this._options));return this},getLatLngs:function(){var s=[];return this.eachLayer(function(u){s.push(u.getLatLngs())}),s}})}o.MultiPolyline=e(o.Polyline),o.MultiPolygon=e(o.Polygon),o.multiPolyline=function(n,s){return new o.MultiPolyline(n,s)},o.multiPolygon=function(n,s){return new o.MultiPolygon(n,s)}}(),o.Rectangle=o.Polygon.extend({initialize:function(e,n){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=o.latLngBounds(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}}),o.rectangle=function(e,n){return new o.Rectangle(e,n)},o.Circle=o.Path.extend({initialize:function(e,n,s){o.Path.prototype.initialize.call(this,s),this._latlng=o.latLng(e),this._mRadius=n},options:{fill:!0},setLatLng:function(e){return this._latlng=o.latLng(e),this.redraw()},setRadius:function(e){return this._mRadius=e,this.redraw()},projectLatlngs:function(){var e=this._getLngRadius(),n=this._latlng,s=this._map.latLngToLayerPoint([n.lat,n.lng-e]);this._point=this._map.latLngToLayerPoint(n),this._radius=Math.max(this._point.x-s.x,1)},getBounds:function(){var e=this._getLngRadius(),n=this._mRadius/40075017*360,s=this._latlng;return new o.LatLngBounds([s.lat-n,s.lng-e],[s.lat+n,s.lng+e])},getLatLng:function(){return this._latlng},getPathString:function(){var e=this._point,n=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+e.x+","+(e.y-n)+"A"+n+","+n+",0,1,1,"+(e.x-.1)+","+(e.y-n)+" z":(e._round(),n=Math.round(n),"AL "+e.x+","+e.y+" "+n+","+n+" 0,"+65535*360)},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var e=this._map._pathViewport,n=this._radius,s=this._point;return s.x-n>e.max.x||s.y-n>e.max.y||s.x+n<e.min.x||s.y+n<e.min.y}}),o.circle=function(e,n,s){return new o.Circle(e,n,s)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(e,n){o.Circle.prototype.initialize.call(this,e,null,n),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()}}),o.circleMarker=function(e,n){return new o.CircleMarker(e,n)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(e,n){var s,u,d,_,b,x,A,S=this.options.weight/2;for(o.Browser.touch&&(S+=10),s=0,_=this._parts.length;s<_;s++)for(A=this._parts[s],u=0,b=A.length,d=b-1;u<b;d=u++)if(!(!n&&u===0)&&(x=o.LineUtil.pointToSegmentDistance(e,A[d],A[u]),x<=S))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(e){var n=!1,s,u,d,_,b,x,A,S;if(o.Polyline.prototype._containsPoint.call(this,e,!0))return!0;for(_=0,A=this._parts.length;_<A;_++)for(s=this._parts[_],b=0,S=s.length,x=S-1;b<S;x=b++)u=s[b],d=s[x],u.y>e.y!=d.y>e.y&&e.x<(d.x-u.x)*(e.y-u.y)/(d.y-u.y)+u.x&&(n=!n);return n}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var e=this._point;this._ctx.beginPath(),this._ctx.arc(e.x,e.y,this._radius,0,Math.PI*2,!1)},_containsPoint:function(e){var n=this._point,s=this.options.stroke?this.options.weight/2:0;return e.distanceTo(n)<=this._radius+s}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(e,n){o.setOptions(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=o.Util.isArray(e)?e:e.features,s,u,d;if(n){for(s=0,u=n.length;s<u;s++)d=n[s],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(n[s]);return this}var _=this.options;if(!(_.filter&&!_.filter(e))){var b=o.GeoJSON.geometryToLayer(e,_.pointToLayer,_.coordsToLatLng);return b.feature=o.GeoJSON.asFeature(e),b.defaultOptions=b.options,this.resetStyle(b),_.onEachFeature&&_.onEachFeature(e,b),this.addLayer(b)}},resetStyle:function(e){var n=this.options.style;n&&(o.Util.extend(e.options,e.defaultOptions),this._setLayerStyle(e,n))},setStyle:function(e){this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){typeof n=="function"&&(n=n(e.feature)),e.setStyle&&e.setStyle(n)}}),o.extend(o.GeoJSON,{geometryToLayer:function(e,n,s){var u=e.type==="Feature"?e.geometry:e,d=u.coordinates,_=[],b,x,A,S,F;switch(s=s||this.coordsToLatLng,u.type){case"Point":return b=s(d),n?n(e,b):new o.Marker(b);case"MultiPoint":for(A=0,S=d.length;A<S;A++)b=s(d[A]),F=n?n(e,b):new o.Marker(b),_.push(F);return new o.FeatureGroup(_);case"LineString":return x=this.coordsToLatLngs(d,0,s),new o.Polyline(x);case"Polygon":return x=this.coordsToLatLngs(d,1,s),new o.Polygon(x);case"MultiLineString":return x=this.coordsToLatLngs(d,1,s),new o.MultiPolyline(x);case"MultiPolygon":return x=this.coordsToLatLngs(d,2,s),new o.MultiPolygon(x);case"GeometryCollection":for(A=0,S=u.geometries.length;A<S;A++)F=this.geometryToLayer({geometry:u.geometries[A],type:"Feature",properties:e.properties},n,s),_.push(F);return new o.FeatureGroup(_);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e){return new o.LatLng(e[1],e[0])},coordsToLatLngs:function(e,n,s){var u,d,_,b=[];for(d=0,_=e.length;d<_;d++)u=n?this.coordsToLatLngs(e[d],n-1,s):(s||this.coordsToLatLng)(e[d]),b.push(u);return b},latLngToCoords:function(e){return[e.lng,e.lat]},latLngsToCoords:function(e){for(var n=[],s=0,u=e.length;s<u;s++)n.push(o.GeoJSON.latLngToCoords(e[s]));return n},getFeature:function(e,n){return e.feature?o.extend({},e.feature,{geometry:n}):o.GeoJSON.asFeature(n)},asFeature:function(e){return e.type==="Feature"?e:{type:"Feature",properties:{},geometry:e}}});var P={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(P),o.Circle.include(P),o.CircleMarker.include(P),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var e=[o.GeoJSON.latLngsToCoords(this.getLatLngs())],n,s,u;if(e[0].push(e[0][0]),this._holes)for(n=0,s=this._holes.length;n<s;n++)u=o.GeoJSON.latLngsToCoords(this._holes[n]),u.push(u[0]),e.push(u);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:e})}}),function(){function e(n,s){n.include({toGeoJSON:function(){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:s,coordinates:u})}})}e(o.MultiPolyline,"MultiLineString"),e(o.MultiPolygon,"MultiPolygon")}(),o.LayerGroup.include({toGeoJSON:function(){var e=[];return this.eachLayer(function(n){n.toGeoJSON&&e.push(o.GeoJSON.asFeature(n.toGeoJSON()))}),{type:"FeatureCollection",features:e}}}),o.geoJson=function(e,n){return new o.GeoJSON(e,n)},o.DomEvent={addListener:function(e,n,s,u){var d=o.stamp(s),_="_leaflet_"+n+d,b,x,A;return e[_]?this:(b=function(S){return s.call(u||e,S||o.DomEvent._getEvent())},o.Browser.msTouch&&n.indexOf("touch")===0?this.addMsTouchListener(e,n,b,d):(o.Browser.touch&&n==="dblclick"&&this.addDoubleTapListener&&this.addDoubleTapListener(e,b,d),"addEventListener"in e?n==="mousewheel"?(e.addEventListener("DOMMouseScroll",b,!1),e.addEventListener(n,b,!1)):n==="mouseenter"||n==="mouseleave"?(x=b,A=n==="mouseenter"?"mouseover":"mouseout",b=function(S){if(o.DomEvent._checkMouse(e,S))return x(S)},e.addEventListener(A,b,!1)):(n==="click"&&o.Browser.android&&(x=b,b=function(S){return o.DomEvent._filterClick(S,x)}),e.addEventListener(n,b,!1)):"attachEvent"in e&&e.attachEvent("on"+n,b),e[_]=b,this))},removeListener:function(e,n,s){var u=o.stamp(s),d="_leaflet_"+n+u,_=e[d];return _?(o.Browser.msTouch&&n.indexOf("touch")===0?this.removeMsTouchListener(e,n,u):o.Browser.touch&&n==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,u):"removeEventListener"in e?n==="mousewheel"?(e.removeEventListener("DOMMouseScroll",_,!1),e.removeEventListener(n,_,!1)):n==="mouseenter"||n==="mouseleave"?e.removeEventListener(n==="mouseenter"?"mouseover":"mouseout",_,!1):e.removeEventListener(n,_,!1):"detachEvent"in e&&e.detachEvent("on"+n,_),e[d]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this},disableClickPropagation:function(e){for(var n=o.DomEvent.stopPropagation,s=o.Draggable.START.length-1;s>=0;s--)o.DomEvent.addListener(e,o.Draggable.START[s],n);return o.DomEvent.addListener(e,"click",o.DomEvent._fakeStop).addListener(e,"dblclick",n)},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return o.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,n){var s=o.Browser.ie7,u=V.body,d=V.documentElement,_=e.pageX?e.pageX-u.scrollLeft-d.scrollLeft:e.clientX,b=e.pageY?e.pageY-u.scrollTop-d.scrollTop:e.clientY,x=new o.Point(_,b),A=n.getBoundingClientRect(),S=A.left-n.clientLeft,F=A.top-n.clientTop;return!o.DomUtil.documentIsLtr()&&(o.Browser.webkit||s)&&(S+=n.scrollWidth-n.clientWidth,s&&o.DomUtil.getStyle(n,"overflow-y")!=="hidden"&&o.DomUtil.getStyle(n,"overflow")!=="hidden"&&(S+=17)),x._subtract(new o.Point(S,F))},getWheelDelta:function(e){var n=0;return e.wheelDelta&&(n=e.wheelDelta/120),e.detail&&(n=-e.detail/3),n},_skipEvents:{},_fakeStop:function(e){o.DomEvent._skipEvents[e.type]=!0},_skipped:function(e){var n=this._skipEvents[e.type];return this._skipEvents[e.type]=!1,n},_checkMouse:function(e,n){var s=n.relatedTarget;if(!s)return!0;try{for(;s&&s!==e;)s=s.parentNode}catch{return!1}return s!==e},_getEvent:function(){var e=Et.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!(e&&Et.Event===e.constructor));)n=n.caller;return e},_filterClick:function(e,n){var s=e.timeStamp||e.originalEvent.timeStamp,u=o.DomEvent._lastClick&&s-o.DomEvent._lastClick;if(u&&u>100&&u<1e3||e.target._simulatedClick&&!e._simulated){o.DomEvent.stop(e);return}return o.DomEvent._lastClick=s,n(e)}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",MSPointerDown:"touchmove"}},initialize:function(e,n){this._element=e,this._dragStartTarget=n||e},enable:function(){if(!this._enabled){for(var e=o.Draggable.START.length-1;e>=0;e--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[e],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var e=o.Draggable.START.length-1;e>=0;e--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[e],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(e){if(!(e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(o.DomEvent.stopPropagation(e),!o.Draggable._disabled)){o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection();var n=e.touches?e.touches[0]:e,s=n.target;o.Browser.touch&&s.tagName.toLowerCase()==="a"&&o.DomUtil.addClass(s,"leaflet-active"),this._moved=!1,!this._moving&&(this._startPoint=new o.Point(n.clientX,n.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(V,o.Draggable.MOVE[e.type],this._onMove,this).on(V,o.Draggable.END[e.type],this._onUp,this))}},_onMove:function(e){if(!(e.touches&&e.touches.length>1)){var n=e.touches&&e.touches.length===1?e.touches[0]:e,s=new o.Point(n.clientX,n.clientY),u=s.subtract(this._startPoint);!u.x&&!u.y||(o.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(u),o.Browser.touch||o.DomUtil.addClass(V.body,"leaflet-dragging")),this._newPos=this._startPos.add(u),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.Browser.touch||o.DomUtil.removeClass(V.body,"leaflet-dragging");for(var e in o.Draggable.MOVE)o.DomEvent.off(V,o.Draggable.MOVE[e],this._onMove).off(V,o.Draggable.END[e],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend")),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(e){this._map=e},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new o.Draggable(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),e.on("viewreset",this._onViewReset,this),this._onViewReset())}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var e=this._map;e._panAnim&&e._panAnim.stop(),e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var e=this._map.getSize()._divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var e=this._worldWidth,n=Math.round(e/2),s=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-n+s)%e+n-s,_=(u+n+s)%e-n-s,b=Math.abs(d+s)<Math.abs(_+s)?d:_;this._draggable._newPos.x=b},_onDragEnd:function(){var e=this._map,n=e.options,s=+new Date-this._lastTime,u=!n.inertia||s>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend"),u)e.fire("moveend");else{var d=this._lastPos.subtract(this._positions[0]),_=(this._lastTime+s-this._times[0])/1e3,b=n.easeLinearity,x=d.multiplyBy(b/_),A=x.distanceTo([0,0]),S=Math.min(n.inertiaMaxSpeed,A),F=x.multiplyBy(S/A),H=S/(n.inertiaDeceleration*b),z=F.multiplyBy(-H/2).round();!z.x||!z.y?e.fire("moveend"):o.Util.requestAnimFrame(function(){e.panBy(z,{duration:H,easeLinearity:b,noMoveStart:!0})})}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(e){this.setZoomAround(e.containerPoint,this._zoom+1)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(e){var n=o.DomEvent.getWheelDelta(e);this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var s=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),s),o.DomEvent.preventDefault(e),o.DomEvent.stopPropagation(e)},_performZoom:function(){var e=this._map,n=this._delta,s=e.getZoom();n=n>0?Math.ceil(n):Math.floor(n),n=Math.max(Math.min(n,4),-4),n=e._limitZoom(s+n)-s,this._delta=0,this._startTime=null,n&&e.setZoomAround(this._lastMousePos,s+n)}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msTouch?"MSPointerDown":"touchstart",_touchend:o.Browser.msTouch?"MSPointerUp":"touchend",addDoubleTapListener:function(e,n,s){var u,d=!1,_=250,b,x="_leaflet_",A=this._touchstart,S=this._touchend,F=[];function H(p){var ft;if(o.Browser.msTouch?(F.push(p.pointerId),ft=F.length):ft=p.touches.length,!(ft>1)){var xt=Date.now(),wt=xt-(u||xt);b=p.touches?p.touches[0]:p,d=wt>0&&wt<=_,u=xt}}function z(p){if(o.Browser.msTouch){var ft=F.indexOf(p.pointerId);if(ft===-1)return;F.splice(ft,1)}if(d){if(o.Browser.msTouch){var xt={},wt;for(var St in b)wt=b[St],typeof wt=="function"?xt[St]=wt.bind(b):xt[St]=wt;b=xt}b.type="dblclick",n(b),u=null}}e[x+A+s]=H,e[x+S+s]=z;var U=o.Browser.msTouch?V.documentElement:e;return e.addEventListener(A,H,!1),U.addEventListener(S,z,!1),o.Browser.msTouch&&U.addEventListener("MSPointerCancel",z,!1),this},removeDoubleTapListener:function(e,n){var s="_leaflet_";return e.removeEventListener(this._touchstart,e[s+this._touchstart+n],!1),(o.Browser.msTouch?V.documentElement:e).removeEventListener(this._touchend,e[s+this._touchend+n],!1),o.Browser.msTouch&&V.documentElement.removeEventListener("MSPointerCancel",e[s+this._touchend+n],!1),this}}),o.extend(o.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(e,n,s,u){switch(n){case"touchstart":return this.addMsTouchListenerStart(e,n,s,u);case"touchend":return this.addMsTouchListenerEnd(e,n,s,u);case"touchmove":return this.addMsTouchListenerMove(e,n,s,u);default:throw"Unknown touch event type"}},addMsTouchListenerStart:function(e,n,s,u){var d="_leaflet_",_=this._msTouches,b=function(A){for(var S=!1,F=0;F<_.length;F++)if(_[F].pointerId===A.pointerId){S=!0;break}S||_.push(A),A.touches=_.slice(),A.changedTouches=[A],s(A)};if(e[d+"touchstart"+u]=b,e.addEventListener("MSPointerDown",b,!1),!this._msDocumentListener){var x=function(A){for(var S=0;S<_.length;S++)if(_[S].pointerId===A.pointerId){_.splice(S,1);break}};V.documentElement.addEventListener("MSPointerUp",x,!1),V.documentElement.addEventListener("MSPointerCancel",x,!1),this._msDocumentListener=!0}return this},addMsTouchListenerMove:function(e,n,s,u){var d="_leaflet_",_=this._msTouches;function b(x){if(!(x.pointerType===x.MSPOINTER_TYPE_MOUSE&&x.buttons===0)){for(var A=0;A<_.length;A++)if(_[A].pointerId===x.pointerId){_[A]=x;break}x.touches=_.slice(),x.changedTouches=[x],s(x)}}return e[d+"touchmove"+u]=b,e.addEventListener("MSPointerMove",b,!1),this},addMsTouchListenerEnd:function(e,n,s,u){var d="_leaflet_",_=this._msTouches,b=function(x){for(var A=0;A<_.length;A++)if(_[A].pointerId===x.pointerId){_.splice(A,1);break}x.touches=_.slice(),x.changedTouches=[x],s(x)};return e[d+"touchend"+u]=b,e.addEventListener("MSPointerUp",b,!1),e.addEventListener("MSPointerCancel",b,!1),this},removeMsTouchListener:function(e,n,s){var u="_leaflet_",d=e[u+n+s];switch(n){case"touchstart":e.removeEventListener("MSPointerDown",d,!1);break;case"touchmove":e.removeEventListener("MSPointerMove",d,!1);break;case"touchend":e.removeEventListener("MSPointerUp",d,!1),e.removeEventListener("MSPointerCancel",d,!1);break}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var s=n.mouseEventToLayerPoint(e.touches[0]),u=n.mouseEventToLayerPoint(e.touches[1]),d=n._getCenterLayerPoint();this._startCenter=s.add(u)._divideBy(2),this._startDist=s.distanceTo(u),this._moved=!1,this._zooming=!0,this._centerOffset=d.subtract(this._startCenter),n._panAnim&&n._panAnim.stop(),o.DomEvent.on(V,"touchmove",this._onTouchMove,this).on(V,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(e)}},_onTouchMove:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||!this._zooming)){var s=n.mouseEventToLayerPoint(e.touches[0]),u=n.mouseEventToLayerPoint(e.touches[1]);this._scale=s.distanceTo(u)/this._startDist,this._delta=s._add(u)._divideBy(2)._subtract(this._startCenter),this._scale!==1&&(this._moved||(o.DomUtil.addClass(n._mapPane,"leaflet-touching"),n.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(e))}},_updateOnMove:function(){var e=this._map,n=this._getScaleOrigin(),s=e.layerPointToLatLng(n),u=e.getScaleZoom(this._scale);e._animateZoom(s,u,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}var e=this._map;this._zooming=!1,o.DomUtil.removeClass(e._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(V,"touchmove",this._onTouchMove).off(V,"touchend",this._onTouchEnd);var n=this._getScaleOrigin(),s=e.layerPointToLatLng(n),u=e.getZoom(),d=e.getScaleZoom(this._scale)-u,_=d>0?Math.ceil(d):Math.floor(d),b=e._limitZoom(u+_),x=e.getZoomScale(b)/this._scale;e._animateZoom(s,b,n,x)},_getScaleOrigin:function(){var e=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(e)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(o.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1){this._fireClick=!1,clearTimeout(this._holdTimeout);return}var n=e.touches[0],s=n.target;this._startPos=this._newPos=new o.Point(n.clientX,n.clientY),s.tagName.toLowerCase()==="a"&&o.DomUtil.addClass(s,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),o.DomEvent.on(V,"touchmove",this._onMove,this).on(V,"touchend",this._onUp,this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),o.DomEvent.off(V,"touchmove",this._onMove,this).off(V,"touchend",this._onUp,this),this._fireClick&&e&&e.changedTouches){var n=e.changedTouches[0],s=n.target;s.tagName.toLowerCase()==="a"&&o.DomUtil.removeClass(s,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var n=e.touches[0];this._newPos=new o.Point(n.clientX,n.clientY)},_simulateEvent:function(e,n){var s=V.createEvent("MouseEvents");s._simulated=!0,n.target._simulatedClick=!0,s.initMouseEvent(e,!0,!0,Et,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(s)}}),o.Browser.touch&&!o.Browser.msTouch&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(e),this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",o.DomEvent.on(V,"mousemove",this._onMouseMove,this).on(V,"mouseup",this._onMouseUp,this).on(V,"keydown",this._onKeyDown,this),this._map.fire("boxzoomstart")},_onMouseMove:function(e){var n=this._startLayerPoint,s=this._box,u=this._map.mouseEventToLayerPoint(e),d=u.subtract(n),_=new o.Point(Math.min(u.x,n.x),Math.min(u.y,n.y));o.DomUtil.setPosition(s,_),s.style.width=Math.max(0,Math.abs(d.x)-4)+"px",s.style.height=Math.max(0,Math.abs(d.y)-4)+"px"},_finish:function(){this._pane.removeChild(this._box),this._container.style.cursor="",o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(V,"mousemove",this._onMouseMove).off(V,"mouseup",this._onMouseUp).off(V,"keydown",this._onKeyDown)},_onMouseUp:function(e){this._finish();var n=this._map,s=n.mouseEventToLayerPoint(e);if(!this._startLayerPoint.equals(s)){var u=new o.LatLngBounds(n.layerPointToLatLng(this._startLayerPoint),n.layerPointToLatLng(s));n.fitBounds(u),n.fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(e){e.keyCode===27&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109,173]},initialize:function(e){this._map=e,this._setPanOffset(e.options.keyboardPanOffset),this._setZoomOffset(e.options.keyboardZoomOffset)},addHooks:function(){var e=this._map._container;e.tabIndex===-1&&(e.tabIndex="0"),o.DomEvent.on(e,"focus",this._onFocus,this).on(e,"blur",this._onBlur,this).on(e,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var e=this._map._container;o.DomEvent.off(e,"focus",this._onFocus,this).off(e,"blur",this._onBlur,this).off(e,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=V.body,n=V.documentElement,s=e.scrollTop||n.scrollTop,u=e.scrollLeft||n.scrollLeft;this._map._container.focus(),Et.scrollTo(u,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(e){var n=this._panKeys={},s=this.keyCodes,u,d;for(u=0,d=s.left.length;u<d;u++)n[s.left[u]]=[-1*e,0];for(u=0,d=s.right.length;u<d;u++)n[s.right[u]]=[e,0];for(u=0,d=s.down.length;u<d;u++)n[s.down[u]]=[0,e];for(u=0,d=s.up.length;u<d;u++)n[s.up[u]]=[0,-1*e]},_setZoomOffset:function(e){var n=this._zoomKeys={},s=this.keyCodes,u,d;for(u=0,d=s.zoomIn.length;u<d;u++)n[s.zoomIn[u]]=e;for(u=0,d=s.zoomOut.length;u<d;u++)n[s.zoomOut[u]]=-e},_addHooks:function(){o.DomEvent.on(V,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(V,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){var n=e.keyCode,s=this._map;if(n in this._panKeys){if(s._panAnim&&s._panAnim._inProgress)return;s.panBy(this._panKeys[n]),s.options.maxBounds&&s.panInsideBounds(s.options.maxBounds)}else if(n in this._zoomKeys)s.setZoom(s.getZoom()+this._zoomKeys[n]);else return;o.DomEvent.stop(e)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(e,e)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable()},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var e=this._marker,n=e._shadow,s=o.DomUtil.getPosition(e._icon),u=e._map.layerPointToLatLng(s);n&&o.DomUtil.setPosition(n,s),e._latlng=u,e.fire("move",{latlng:u}).fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(e){o.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this._map=e;var n=this._container=this.onAdd(e),s=this.getPosition(),u=e._controlCorners[s];return o.DomUtil.addClass(n,"leaflet-control"),s.indexOf("bottom")!==-1?u.insertBefore(n,u.firstChild):u.appendChild(n),this},removeFrom:function(e){var n=this.getPosition(),s=e._controlCorners[n];return s.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(e),this}}),o.control=function(e){return new o.Control(e)},o.Map.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.removeFrom(this),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",s=this._controlContainer=o.DomUtil.create("div",n+"control-container",this._container);function u(d,_){var b=n+d+" "+n+_;e[d+_]=o.DomUtil.create("div",b,s)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft"},onAdd:function(e){var n="leaflet-control-zoom",s=o.DomUtil.create("div",n+" leaflet-bar");return this._map=e,this._zoomInButton=this._createButton("+","Zoom in",n+"-in",s,this._zoomIn,this),this._zoomOutButton=this._createButton("-","Zoom out",n+"-out",s,this._zoomOut,this),e.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(e){this._map.zoomIn(e.shiftKey?3:1)},_zoomOut:function(e){this._map.zoomOut(e.shiftKey?3:1)},_createButton:function(e,n,s,u,d,_){var b=o.DomUtil.create("a",s,u);b.innerHTML=e,b.href="#",b.title=n;var x=o.DomEvent.stopPropagation;return o.DomEvent.on(b,"click",x).on(b,"mousedown",x).on(b,"dblclick",x).on(b,"click",o.DomEvent.preventDefault).on(b,"click",d,_),b},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,n),o.DomUtil.removeClass(this._zoomOutButton,n),e._zoom===e.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,n),e._zoom===e.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,n)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(e){return new o.Control.Zoom(e)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){o.setOptions(this,e),this._attributions={}},onAdd:function(e){return this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container),e.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(e){e.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){if(e)return this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this},removeAttribution:function(e){if(e)return this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var s=[];this.options.prefix&&s.push(this.options.prefix),e.length&&s.push(e.join(", ")),this._container.innerHTML=s.join(" | ")}},_onLayerAdd:function(e){e.layer.getAttribution&&this.addAttribution(e.layer.getAttribution())},_onLayerRemove:function(e){e.layer.getAttribution&&this.removeAttribution(e.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=new o.Control.Attribution().addTo(this))}),o.control.attribution=function(e){return new o.Control.Attribution(e)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(e){this._map=e;var n="leaflet-control-scale",s=o.DomUtil.create("div",n),u=this.options;return this._addScales(u,n,s),e.on(u.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),s},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,s){e.metric&&(this._mScale=o.DomUtil.create("div",n+"-line",s)),e.imperial&&(this._iScale=o.DomUtil.create("div",n+"-line",s))},_update:function(){var e=this._map.getBounds(),n=e.getCenter().lat,s=6378137*Math.PI*Math.cos(n*Math.PI/180),u=s*(e.getNorthEast().lng-e.getSouthWest().lng)/180,d=this._map.getSize(),_=this.options,b=0;d.x>0&&(b=u*(_.maxWidth/d.x)),this._updateScales(_,b)},_updateScales:function(e,n){e.metric&&n&&this._updateMetric(n),e.imperial&&n&&this._updateImperial(n)},_updateMetric:function(e){var n=this._getRoundNum(e);this._mScale.style.width=this._getScaleWidth(n/e)+"px",this._mScale.innerHTML=n<1e3?n+" m":n/1e3+" km"},_updateImperial:function(e){var n=e*3.2808399,s=this._iScale,u,d,_;n>5280?(u=n/5280,d=this._getRoundNum(u),s.style.width=this._getScaleWidth(d/u)+"px",s.innerHTML=d+" mi"):(_=this._getRoundNum(n),s.style.width=this._getScaleWidth(_/n)+"px",s.innerHTML=_+" ft")},_getScaleWidth:function(e){return Math.round(this.options.maxWidth*e)-10},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),s=e/n;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,n*s}}),o.control.scale=function(e){return new o.Control.Scale(e)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(e,n,s){o.setOptions(this,s),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var u in e)this._addLayer(e[u],u);for(u in n)this._addLayer(n[u],u,!0)},onAdd:function(e){return this._initLayout(),this._update(),e.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(e){e.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._update(),this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._update(),this},removeLayer:function(e){var n=o.stamp(e);return delete this._layers[n],this._update(),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=o.DomUtil.create("div",e);n.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stopPropagation):(o.DomEvent.disableClickPropagation(n),o.DomEvent.on(n,"mousewheel",o.DomEvent.stopPropagation));var s=this._form=o.DomUtil.create("form",e+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(n,"mouseover",this._expand,this).on(n,"mouseout",this._collapse,this);var u=this._layersLink=o.DomUtil.create("a",e+"-toggle",n);u.href="#",u.title="Layers",o.Browser.touch?o.DomEvent.on(u,"click",o.DomEvent.stop).on(u,"click",this._expand,this):o.DomEvent.on(u,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",e+"-base",s),this._separator=o.DomUtil.create("div",e+"-separator",s),this._overlaysList=o.DomUtil.create("div",e+"-overlays",s),n.appendChild(s)},_addLayer:function(e,n,s){var u=o.stamp(e);this._layers[u]={layer:e,name:n,overlay:s},this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var e=!1,n=!1,s,u;for(s in this._layers)u=this._layers[s],this._addItem(u),n=n||u.overlay,e=e||!u.overlay;this._separator.style.display=n&&e?"":"none"}},_onLayerChange:function(e){var n=this._layers[o.stamp(e.layer)];if(n){this._handlingClick||this._update();var s=n.overlay?e.type==="layeradd"?"overlayadd":"overlayremove":e.type==="layeradd"?"baselayerchange":null;s&&this._map.fire(s,n)}},_createRadioElement:function(e,n){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';n&&(s+=' checked="checked"'),s+="/>";var u=V.createElement("div");return u.innerHTML=s,u.firstChild},_addItem:function(e){var n=V.createElement("label"),s,u=this._map.hasLayer(e.layer);e.overlay?(s=V.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=u):s=this._createRadioElement("leaflet-base-layers",u),s.layerId=o.stamp(e.layer),o.DomEvent.on(s,"click",this._onInputClick,this);var d=V.createElement("span");d.innerHTML=" "+e.name,n.appendChild(s),n.appendChild(d);var _=e.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(n),n},_onInputClick:function(){var e,n,s,u=this._form.getElementsByTagName("input"),d=u.length;for(this._handlingClick=!0,e=0;e<d;e++)n=u[e],s=this._layers[n.layerId],n.checked&&!this._map.hasLayer(s.layer)?this._map.addLayer(s.layer):!n.checked&&this._map.hasLayer(s.layer)&&this._map.removeLayer(s.layer);this._handlingClick=!1},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(e,n,s){return new o.Control.Layers(e,n,s)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(e,n,s,u){this.stop(),this._el=e,this._inProgress=!0,this._newPos=n,this.fire("start"),e.style[o.DomUtil.TRANSITION]="all "+(s||.25)+"s cubic-bezier(0,0,"+(u||.5)+",1)",o.DomEvent.on(e,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(e,n),o.Util.falseFn(e.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var e=this._getPos();if(!e){this._onTransitionEnd();return}this._el._leaflet_pos=e,this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,s,u=this._el,d=Et.getComputedStyle(u);if(o.Browser.any3d){if(s=d[o.DomUtil.TRANSFORM].match(this._transformRe),!s)return;e=parseFloat(s[1]),n=parseFloat(s[2])}else e=parseFloat(d.left),n=parseFloat(d.top);return new o.Point(e,n,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(e,n,s){if(n=this._limitZoom(n),e=o.latLng(e),s=s||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==D&&(s.zoom=o.extend({animate:s.animate},s.zoom),s.pan=o.extend({animate:s.animate},s.pan));var u=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,s.zoom):this._tryAnimatedPan(e,s.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n),this},panBy:function(e,n){if(e=o.point(e).round(),n=n||{},!e.x&&!e.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(e);this._panAnim.run(this._mapPane,s,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var s=this._getCenterOffset(e)._floor();return(n&&n.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,n),!0)}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(e,n,s,u){this.stop(),this._el=e,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=o.DomUtil.getPosition(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var e=+new Date-this._startTime,n=this._duration*1e3;e<n?this._runFrame(this._easeOut(e/n)):(this._runFrame(1),this._complete())},_runFrame:function(e){var n=this._startPos.add(this._offset.multiplyBy(e));o.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(n),d=this._getCenterOffset(e)._divideBy(1-1/u),_=this._getCenterLayerPoint()._add(d);return s.animate!==!0&&!this.getSize().contains(d)?!1:(this.fire("movestart").fire("zoomstart"),this._animateZoom(e,n,_,u,null,!0),!0)},_animateZoom:function(e,n,s,u,d,_){this._animatingZoom=!0,o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=e,this._animateToZoom=n,o.Draggable&&(o.Draggable._disabled=!0),this.fire("zoomanim",{center:e,zoom:n,origin:s,scale:u,delta:d,backwards:_})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)}}:{}),o.TileLayer.include({_animateZoom:function(e){this._animating||(this._animating=!0,this._prepareBgBuffer());var n=this._bgBuffer,s=o.DomUtil.TRANSFORM,u=e.delta?o.DomUtil.getTranslateString(e.delta):n.style[s],d=o.DomUtil.getScaleString(e.scale,e.origin);n.style[s]=e.backwards?d+" "+u:u+" "+d},_endZoomAnim:function(){var e=this._tileContainer,n=this._bgBuffer;e.style.visibility="",e.parentNode.appendChild(e),o.Util.falseFn(n.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var e=this._map;e&&!e._animatingZoom&&!e.touchZoom._zooming&&(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var e=this._tileContainer,n=this._bgBuffer,s=this._getLoadedTilesPercentage(n),u=this._getLoadedTilesPercentage(e);if(n&&s>.5&&u<.5){e.style.visibility="hidden",this._stopLoadingImages(e);return}n.style.visibility="hidden",n.style[o.DomUtil.TRANSFORM]="",this._tileContainer=n,n=this._bgBuffer=e,this._stopLoadingImages(n),clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(e){var n=e.getElementsByTagName("img"),s,u,d=0;for(s=0,u=n.length;s<u;s++)n[s].complete&&d++;return d/u},_stopLoadingImages:function(e){var n=Array.prototype.slice.call(e.getElementsByTagName("img")),s,u,d;for(s=0,u=n.length;s<u;s++)d=n[s],d.complete||(d.onload=o.Util.falseFn,d.onerror=o.Util.falseFn,d.src=o.Util.emptyImageUrl,d.parentNode.removeChild(d))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(e){if(e=this._locateOptions=o.extend(this._defaultLocateOptions,e),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=o.bind(this._handleGeolocationResponse,this),s=o.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,s,e):navigator.geolocation.getCurrentPosition(n,s,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var n=e.code,s=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+s+"."})},_handleGeolocationResponse:function(e){var n=e.coords.latitude,s=e.coords.longitude,u=new o.LatLng(n,s),d=180*e.coords.accuracy/40075017,_=d/Math.cos(o.LatLng.DEG_TO_RAD*n),b=o.latLngBounds([n-d,s-_],[n+d,s+_]),x=this._locateOptions;if(x.setView){var A=Math.min(this.getBoundsZoom(b),x.maxZoom);this.setView(u,A)}var S={latlng:u,bounds:b};for(var F in e.coords)typeof e.coords[F]=="number"&&(S[F]=e.coords[F]);this.fire("locationfound",S)}})})(window,document),function(Et){function V(D){if(!(this instanceof V))return new V(D);var I=Et.Icon.Default.imagePath;D[0]=D[0].replace("url(images","url("+I),this.addStyle(D)}V.prototype.addStyle=function(D){var I,o,k;document.createStyleSheet?(I=document.createStyleSheet(),Et.Browser.vml?I.cssText=D.join(`
`):I.cssText=D[0]):(o=document.getElementsByTagName("head")[0],k=document.createElement("style"),o.appendChild(k),k.innerHTML=D[0])},Et.css=V,V([`.leaflet-map-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-pane,.leaflet-tile-container,.leaflet-overlay-pane,.leaflet-shadow-pane,.leaflet-marker-pane,.leaflet-popup-pane,.leaflet-overlay-pane svg,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden;-ms-touch-action:none}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container img{max-width:none!important}.leaflet-container img.leaflet-image-layer{max-width:15000px!important}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-tile-pane{z-index:2}.leaflet-objects-pane{z-index:3}.leaflet-overlay-pane{z-index:4}.leaflet-shadow-pane{z-index:5}.leaflet-marker-pane{z-index:6}.leaflet-popup-pane{z-index:7}.leaflet-control{position:relative;z-index:7;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile,.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-tile-loaded,.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile,.leaflet-touching .leaflet-zoom-animated{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-clickable{cursor:pointer}.leaflet-container{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging,.leaflet-dragging .leaflet-clickable,.leaflet-dragging .leaflet-container{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078A8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #05f;background:#fff;opacity:.5}.leaflet-container{font:12px/1.5 "Helvetica Neue",Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 7px rgba(0,0,0,.65);-webkit-border-radius:4px;border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{-webkit-border-top-left-radius:4px;border-top-left-radius:4px;-webkit-border-top-right-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{-webkit-border-bottom-left-radius:4px;border-bottom-left-radius:4px;-webkit-border-bottom-right-radius:4px;border-bottom-right-radius:4px;border-bottom:0}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar{-webkit-border-radius:10px;border-radius:10px}.leaflet-touch .leaflet-bar a{width:30px;height:30px}.leaflet-touch .leaflet-bar a:first-child{-webkit-border-top-left-radius:7px;border-top-left-radius:7px;-webkit-border-top-right-radius:7px;border-top-right-radius:7px}.leaflet-touch .leaflet-bar a:last-child{-webkit-border-bottom-left-radius:7px;border-bottom-left-radius:7px;-webkit-border-bottom-right-radius:7px;border-bottom-right-radius:7px;border-bottom:0}.leaflet-control-zoom-in{font:700 18px 'Lucida Console',Monaco,monospace}.leaflet-control-zoom-out{font:700 22px 'Lucida Console',Monaco,monospace}.leaflet-touch .leaflet-control-zoom-in{font-size:22px;line-height:30px}.leaflet-touch .leaflet-control-zoom-out{font-size:28px;line-height:30px}.leaflet-control-layers{box-shadow:0 1px 7px rgba(0,0,0,.4);background:#f8f8f9;-webkit-border-radius:5px;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(images/layers.png);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(images/layers-2x.png);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background-color:rgba(255,255,255,.7);box-shadow:0 0 5px #bbb;margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:0;color:#000;line-height:1.1;padding:2px 5px 1px;font-size:11px;text-shadow:1px 1px 1px #fff;background-color:rgba(255,255,255,.5);box-shadow:0 -1px 5px rgba(0,0,0,.2);white-space:nowrap;overflow:hidden}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:0;margin-top:-2px;box-shadow:0 2px 5px rgba(0,0,0,.2)}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:4px solid rgba(0,0,0,.3)}.leaflet-popup{position:absolute;text-align:center}.leaflet-popup-content-wrapper{padding:1px;text-align:left;-webkit-border-radius:12px;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{margin:0 auto;width:40px;height:20px;position:relative;overflow:hidden}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-editing-icon{-webkit-border-radius:2px;border-radius:2px}`,'.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{display:inline}.leaflet-popup-tip{width:21px;_width:27px;margin:0 auto;_margin-top:-3px;filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678, M12=.70710678, M21=-.70710678, M22=.70710678);-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)"}.leaflet-popup-tip-container{margin-top:-1px}.leaflet-popup-content-wrapper,.leaflet-popup-tip{border:1px solid #999}.leaflet-popup-content-wrapper{zoom:1}.leaflet-control-zoom,.leaflet-control-layers{border:3px solid #999}.leaflet-control-layers-toggle{}.leaflet-control-attribution,.leaflet-control-layers,.leaflet-control-scale-line{background:#fff}.leaflet-zoom-box{filter:alpha(opacity=50)}.leaflet-control-attribution{border-top:1px solid #bbb;border-left:1px solid #bbb}'])}(L)})(io);var He={},no={get exports(){return He},set exports(be){He=be}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(be,Et){(function(V,D){D(Et)})(Ur,function(V){var D="1.9.3";function I(t){var r,h,g,w;for(h=1,g=arguments.length;h<g;h++){w=arguments[h];for(r in w)t[r]=w[r]}return t}var o=Object.create||function(){function t(){}return function(r){return t.prototype=r,new t}}();function k(t,r){var h=Array.prototype.slice;if(t.bind)return t.bind.apply(t,h.call(arguments,1));var g=h.call(arguments,2);return function(){return t.apply(r,g.length?g.concat(h.call(arguments)):arguments)}}var P=0;function e(t){return"_leaflet_id"in t||(t._leaflet_id=++P),t._leaflet_id}function n(t,r,h){var g,w,R,et;return et=function(){g=!1,w&&(R.apply(h,w),w=!1)},R=function(){g?w=arguments:(t.apply(h,arguments),setTimeout(et,r),g=!0)},R}function s(t,r,h){var g=r[1],w=r[0],R=g-w;return t===g&&h?t:((t-w)%R+R)%R+w}function u(){return!1}function d(t,r){if(r===!1)return t;var h=Math.pow(10,r===void 0?6:r);return Math.round(t*h)/h}function _(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function b(t){return _(t).split(/\s+/)}function x(t,r){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{});for(var h in r)t.options[h]=r[h];return t.options}function A(t,r,h){var g=[];for(var w in t)g.push(encodeURIComponent(h?w.toUpperCase():w)+"="+encodeURIComponent(t[w]));return(!r||r.indexOf("?")===-1?"?":"&")+g.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function F(t,r){return t.replace(S,function(h,g){var w=r[g];if(w===void 0)throw new Error("No value provided for variable "+h);return typeof w=="function"&&(w=w(r)),w})}var H=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function z(t,r){for(var h=0;h<t.length;h++)if(t[h]===r)return h;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ft=0;function xt(t){var r=+new Date,h=Math.max(0,16-(r-ft));return ft=r+h,window.setTimeout(t,h)}var wt=window.requestAnimationFrame||p("RequestAnimationFrame")||xt,St=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Bt(t,r,h){if(h&&wt===xt)t.call(r);else return wt.call(window,k(t,r))}function Tt(t){t&&St.call(window,t)}var Nt={__proto__:null,extend:I,create:o,bind:k,get lastId(){return P},stamp:e,throttle:n,wrapNum:s,falseFn:u,formatNum:d,trim:_,splitWords:b,setOptions:x,getParamString:A,template:F,isArray:H,indexOf:z,emptyImageUrl:U,requestFn:wt,cancelFn:St,requestAnimFrame:Bt,cancelAnimFrame:Tt};function lt(){}lt.extend=function(t){var r=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=r.__super__=this.prototype,g=o(h);g.constructor=r,r.prototype=g;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(r[w]=this[w]);return t.statics&&I(r,t.statics),t.includes&&(Mt(t.includes),I.apply(null,[g].concat(t.includes))),I(g,t),delete g.statics,delete g.includes,g.options&&(g.options=h.options?o(h.options):{},I(g.options,t.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,et=g._initHooks.length;R<et;R++)g._initHooks[R].call(this)}},r},lt.include=function(t){var r=this.prototype.options;return I(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},lt.mergeOptions=function(t){return I(this.prototype.options,t),this},lt.addInitHook=function(t){var r=Array.prototype.slice.call(arguments,1),h=typeof t=="function"?t:function(){this[t].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Mt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=H(t)?t:[t];for(var r=0;r<t.length;r++)t[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var At={on:function(t,r,h){if(typeof t=="object")for(var g in t)this._on(g,t[g],r);else{t=b(t);for(var w=0,R=t.length;w<R;w++)this._on(t[w],r,h)}return this},off:function(t,r,h){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var g in t)this._off(g,t[g],r);else{t=b(t);for(var w=arguments.length===1,R=0,et=t.length;R<et;R++)w?this._off(t[R]):this._off(t[R],r,h)}return this},_on:function(t,r,h,g){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(t,r,h)===!1){h===this&&(h=void 0);var w={fn:r,ctx:h};g&&(w.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(w)}},_off:function(t,r,h){var g,w,R;if(this._events&&(g=this._events[t],!!g)){if(arguments.length===1){if(this._firingCount)for(w=0,R=g.length;w<R;w++)g[w].fn=u;delete this._events[t];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var et=this._listens(t,r,h);if(et!==!1){var at=g[et];this._firingCount&&(at.fn=u,this._events[t]=g=g.slice()),g.splice(et,1)}}},fire:function(t,r,h){if(!this.listens(t,h))return this;var g=I({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var w=this._events[t];if(w){this._firingCount=this._firingCount+1||1;for(var R=0,et=w.length;R<et;R++){var at=w[R],ct=at.fn;at.once&&this.off(t,ct,at.ctx),ct.call(at.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(t,r,h,g){typeof t!="string"&&console.warn('"string" type argument expected');var w=r;typeof r!="function"&&(g=!!r,w=void 0,h=void 0);var R=this._events&&this._events[t];if(R&&R.length&&this._listens(t,w,h)!==!1)return!0;if(g){for(var et in this._eventParents)if(this._eventParents[et].listens(t,r,h,g))return!0}return!1},_listens:function(t,r,h){if(!this._events)return!1;var g=this._events[t]||[];if(!r)return!!g.length;h===this&&(h=void 0);for(var w=0,R=g.length;w<R;w++)if(g[w].fn===r&&g[w].ctx===h)return w;return!1},once:function(t,r,h){if(typeof t=="object")for(var g in t)this._on(g,t[g],r,!0);else{t=b(t);for(var w=0,R=t.length;w<R;w++)this._on(t[w],r,h,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[e(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[e(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,I({layer:t.target,propagatedFrom:t.target},t),!0)}};At.addEventListener=At.on,At.removeEventListener=At.clearAllEventListeners=At.off,At.addOneTimeEventListener=At.once,At.fireEvent=At.fire,At.hasEventListeners=At.listens;var Qt=lt.extend(At);function Pt(t,r,h){this.x=h?Math.round(t):t,this.y=h?Math.round(r):r}var te=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Pt.prototype={clone:function(){return new Pt(this.x,this.y)},add:function(t){return this.clone()._add(Gt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Gt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Pt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Pt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(t){t=Gt(t);var r=t.x-this.x,h=t.y-this.y;return Math.sqrt(r*r+h*h)},equals:function(t){return t=Gt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Gt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function Gt(t,r,h){return t instanceof Pt?t:H(t)?new Pt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Pt(t.x,t.y):new Pt(t,r,h)}function Ot(t,r){if(t)for(var h=r?[t,r]:t,g=0,w=h.length;g<w;g++)this.extend(h[g])}Ot.prototype={extend:function(t){var r,h;if(!t)return this;if(t instanceof Pt||typeof t[0]=="number"||"x"in t)r=h=Gt(t);else if(t=Kt(t),r=t.min,h=t.max,!r||!h)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=h.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(t){return Gt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Gt(this.min.x,this.max.y)},getTopRight:function(){return Gt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var r,h;return typeof t[0]=="number"||t instanceof Pt?t=Gt(t):t=Kt(t),t instanceof Ot?(r=t.min,h=t.max):r=h=t,r.x>=this.min.x&&h.x<=this.max.x&&r.y>=this.min.y&&h.y<=this.max.y},intersects:function(t){t=Kt(t);var r=this.min,h=this.max,g=t.min,w=t.max,R=w.x>=r.x&&g.x<=h.x,et=w.y>=r.y&&g.y<=h.y;return R&&et},overlaps:function(t){t=Kt(t);var r=this.min,h=this.max,g=t.min,w=t.max,R=w.x>r.x&&g.x<h.x,et=w.y>r.y&&g.y<h.y;return R&&et},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var r=this.min,h=this.max,g=Math.abs(r.x-h.x)*t,w=Math.abs(r.y-h.y)*t;return Kt(Gt(r.x-g,r.y-w),Gt(h.x+g,h.y+w))},equals:function(t){return t?(t=Kt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Kt(t,r){return!t||t instanceof Ot?t:new Ot(t,r)}function dt(t,r){if(t)for(var h=r?[t,r]:t,g=0,w=h.length;g<w;g++)this.extend(h[g])}dt.prototype={extend:function(t){var r=this._southWest,h=this._northEast,g,w;if(t instanceof Zt)g=t,w=t;else if(t instanceof dt){if(g=t._southWest,w=t._northEast,!g||!w)return this}else return t?this.extend(jt(t)||Ft(t)):this;return!r&&!h?(this._southWest=new Zt(g.lat,g.lng),this._northEast=new Zt(w.lat,w.lng)):(r.lat=Math.min(g.lat,r.lat),r.lng=Math.min(g.lng,r.lng),h.lat=Math.max(w.lat,h.lat),h.lng=Math.max(w.lng,h.lng)),this},pad:function(t){var r=this._southWest,h=this._northEast,g=Math.abs(r.lat-h.lat)*t,w=Math.abs(r.lng-h.lng)*t;return new dt(new Zt(r.lat-g,r.lng-w),new Zt(h.lat+g,h.lng+w))},getCenter:function(){return new Zt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Zt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Zt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Zt||"lat"in t?t=jt(t):t=Ft(t);var r=this._southWest,h=this._northEast,g,w;return t instanceof dt?(g=t.getSouthWest(),w=t.getNorthEast()):g=w=t,g.lat>=r.lat&&w.lat<=h.lat&&g.lng>=r.lng&&w.lng<=h.lng},intersects:function(t){t=Ft(t);var r=this._southWest,h=this._northEast,g=t.getSouthWest(),w=t.getNorthEast(),R=w.lat>=r.lat&&g.lat<=h.lat,et=w.lng>=r.lng&&g.lng<=h.lng;return R&&et},overlaps:function(t){t=Ft(t);var r=this._southWest,h=this._northEast,g=t.getSouthWest(),w=t.getNorthEast(),R=w.lat>r.lat&&g.lat<h.lat,et=w.lng>r.lng&&g.lng<h.lng;return R&&et},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,r){return t?(t=Ft(t),this._southWest.equals(t.getSouthWest(),r)&&this._northEast.equals(t.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ft(t,r){return t instanceof dt?t:new dt(t,r)}function Zt(t,r,h){if(isNaN(t)||isNaN(r))throw new Error("Invalid LatLng object: ("+t+", "+r+")");this.lat=+t,this.lng=+r,h!==void 0&&(this.alt=+h)}Zt.prototype={equals:function(t,r){if(!t)return!1;t=jt(t);var h=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return h<=(r===void 0?1e-9:r)},toString:function(t){return"LatLng("+d(this.lat,t)+", "+d(this.lng,t)+")"},distanceTo:function(t){return oe.distance(this,jt(t))},wrap:function(){return oe.wrapLatLng(this)},toBounds:function(t){var r=180*t/40075017,h=r/Math.cos(Math.PI/180*this.lat);return Ft([this.lat-r,this.lng-h],[this.lat+r,this.lng+h])},clone:function(){return new Zt(this.lat,this.lng,this.alt)}};function jt(t,r,h){return t instanceof Zt?t:H(t)&&typeof t[0]!="object"?t.length===3?new Zt(t[0],t[1],t[2]):t.length===2?new Zt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Zt(t.lat,"lng"in t?t.lng:t.lon,t.alt):r===void 0?null:new Zt(t,r,h)}var de={latLngToPoint:function(t,r){var h=this.projection.project(t),g=this.scale(r);return this.transformation._transform(h,g)},pointToLatLng:function(t,r){var h=this.scale(r),g=this.transformation.untransform(t,h);return this.projection.unproject(g)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var r=this.projection.bounds,h=this.scale(t),g=this.transformation.transform(r.min,h),w=this.transformation.transform(r.max,h);return new Ot(g,w)},infinite:!1,wrapLatLng:function(t){var r=this.wrapLng?s(t.lng,this.wrapLng,!0):t.lng,h=this.wrapLat?s(t.lat,this.wrapLat,!0):t.lat,g=t.alt;return new Zt(h,r,g)},wrapLatLngBounds:function(t){var r=t.getCenter(),h=this.wrapLatLng(r),g=r.lat-h.lat,w=r.lng-h.lng;if(g===0&&w===0)return t;var R=t.getSouthWest(),et=t.getNorthEast(),at=new Zt(R.lat-g,R.lng-w),ct=new Zt(et.lat-g,et.lng-w);return new dt(at,ct)}},oe=I({},de,{wrapLng:[-180,180],R:6371e3,distance:function(t,r){var h=Math.PI/180,g=t.lat*h,w=r.lat*h,R=Math.sin((r.lat-t.lat)*h/2),et=Math.sin((r.lng-t.lng)*h/2),at=R*R+Math.cos(g)*Math.cos(w)*et*et,ct=2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at));return this.R*ct}}),Ie=6378137,qe={R:Ie,MAX_LATITUDE:85.0511287798,project:function(t){var r=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,t.lat),-h),w=Math.sin(g*r);return new Pt(this.R*t.lng*r,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(t){var r=180/Math.PI;return new Zt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*r,t.x*r/this.R)},bounds:function(){var t=Ie*Math.PI;return new Ot([-t,-t],[t,t])}()};function Ri(t,r,h,g){if(H(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=r,this._c=h,this._d=g}Ri.prototype={transform:function(t,r){return this._transform(t.clone(),r)},_transform:function(t,r){return r=r||1,t.x=r*(this._a*t.x+this._b),t.y=r*(this._c*t.y+this._d),t},untransform:function(t,r){return r=r||1,new Pt((t.x/r-this._b)/this._a,(t.y/r-this._d)/this._c)}};function xi(t,r,h,g){return new Ri(t,r,h,g)}var ii=I({},oe,{code:"EPSG:3857",projection:qe,transformation:function(){var t=.5/(Math.PI*qe.R);return xi(t,.5,-t,.5)}()}),Ve=I({},ii,{code:"EPSG:900913"});function Ti(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Xt(t,r){var h="",g,w,R,et,at,ct;for(g=0,R=t.length;g<R;g++){for(at=t[g],w=0,et=at.length;w<et;w++)ct=at[w],h+=(w?"L":"M")+ct.x+" "+ct.y;h+=r?Wt.svg?"z":"x":""}return h||"M0 0"}var We=document.documentElement.style,zi="ActiveXObject"in window,Q=zi&&!document.addEventListener,C="msLaunchUri"in navigator&&!("documentMode"in document),O=ai("webkit"),Z=ai("android"),Y=ai("android 2")||ai("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mt=Z&&ai("Google")&&it<537&&!("AudioNode"in window),_t=!!window.opera,It=!C&&ai("chrome"),Yt=ai("gecko")&&!O&&!_t&&!zi,ue=!It&&ai("safari"),_e=ai("phantom"),ge="OTransition"in We,ke=navigator.platform.indexOf("Win")===0,se=zi&&"transition"in We,De="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Y,ze="MozPerspective"in We,Pe=!window.L_DISABLE_3D&&(se||De||ze)&&!ge&&!_e,Le=typeof orientation<"u"||ai("mobile"),Xe=Le&&O,ni=Le&&De,vi=!window.PointerEvent&&window.MSPointerEvent,fi=!!(window.PointerEvent||vi),Ge="ontouchstart"in window||!!window.TouchEvent,Qe=!window.L_NO_TOUCH&&(Ge||fi),Pi=Le&&_t,Ni=Le&&Yt,Je=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ue=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,r),window.removeEventListener("testPassiveEventSupport",u,r)}catch{}return t}(),Si=function(){return!!document.createElement("canvas").getContext}(),yn=!!(document.createElementNS&&Ti("svg").createSVGRect),Bn=!!yn&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wi=!yn&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var r=t.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),ar=navigator.platform.indexOf("Mac")===0,In=navigator.platform.indexOf("Linux")===0;function ai(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Wt={ie:zi,ielt9:Q,edge:C,webkit:O,android:Z,android23:Y,androidStock:mt,opera:_t,chrome:It,gecko:Yt,safari:ue,phantom:_e,opera12:ge,win:ke,ie3d:se,webkit3d:De,gecko3d:ze,any3d:Pe,mobile:Le,mobileWebkit:Xe,mobileWebkit3d:ni,msPointer:vi,pointer:fi,touch:Qe,touchNative:Ge,mobileOpera:Pi,mobileGecko:Ni,retina:Je,passiveEvents:Ue,canvas:Si,svg:yn,vml:Wi,inlineSvg:Bn,mac:ar,linux:In},Di=Wt.msPointer?"MSPointerDown":"pointerdown",Ci=Wt.msPointer?"MSPointerMove":"pointermove",wi=Wt.msPointer?"MSPointerUp":"pointerup",bn=Wt.msPointer?"MSPointerCancel":"pointercancel",Ai={touchstart:Di,touchmove:Ci,touchend:wi,touchcancel:bn},Fi={touchstart:Ki,touchmove:Mn,touchend:Mn,touchcancel:Mn},$i={},Ln=!1;function Jn(t,r,h){return r==="touchstart"&&kn(),Fi[r]?(h=Fi[r].bind(this,h),t.addEventListener(Ai[r],h,!1),h):(console.warn("wrong event specified:",r),u)}function fn(t,r,h){if(!Ai[r]){console.warn("wrong event specified:",r);return}t.removeEventListener(Ai[r],h,!1)}function Rn(t){$i[t.pointerId]=t}function xn(t){$i[t.pointerId]&&($i[t.pointerId]=t)}function wn(t){delete $i[t.pointerId]}function kn(){Ln||(document.addEventListener(Di,Rn,!0),document.addEventListener(Ci,xn,!0),document.addEventListener(wi,wn,!0),document.addEventListener(bn,wn,!0),Ln=!0)}function Mn(t,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var h in $i)r.touches.push($i[h]);r.changedTouches=[r],t(r)}}function Ki(t,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&X(r),Mn(t,r)}function Yn(t){var r={},h,g;for(g in t)h=t[g],r[g]=h&&h.bind?h.bind(t):h;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var lr=200;function Xi(t,r){t.addEventListener("dblclick",r);var h=0,g;function w(R){if(R.detail!==1){g=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var et=yt(R);if(!(et.some(function(ct){return ct instanceof HTMLLabelElement&&ct.attributes.for})&&!et.some(function(ct){return ct instanceof HTMLInputElement||ct instanceof HTMLSelectElement}))){var at=Date.now();at-h<=lr?(g++,g===2&&r(Yn(R))):g=1,h=at}}}return t.addEventListener("click",w),{dblclick:r,simDblclick:w}}function Qn(t,r){t.removeEventListener("dblclick",r.dblclick),t.removeEventListener("click",r.simDblclick)}var Ji=Pn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Oi=Pn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ri=Oi==="webkitTransition"||Oi==="OTransition"?Oi+"End":"transitionend";function ji(t){return typeof t=="string"?document.getElementById(t):t}function Ei(t,r){var h=t.style[r]||t.currentStyle&&t.currentStyle[r];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(t,null);h=g?g[r]:null}return h==="auto"?null:h}function ve(t,r,h){var g=document.createElement(t);return g.className=r||"",h&&h.appendChild(g),g}function Oe(t){var r=t.parentNode;r&&r.removeChild(t)}function Ui(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Bi(t){var r=t.parentNode;r&&r.lastChild!==t&&r.appendChild(t)}function ki(t){var r=t.parentNode;r&&r.firstChild!==t&&r.insertBefore(t,r.firstChild)}function dn(t,r){if(t.classList!==void 0)return t.classList.contains(r);var h=Yi(t);return h.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(h)}function pe(t,r){if(t.classList!==void 0)for(var h=b(r),g=0,w=h.length;g<w;g++)t.classList.add(h[g]);else if(!dn(t,r)){var R=Yi(t);li(t,(R?R+" ":"")+r)}}function Fe(t,r){t.classList!==void 0?t.classList.remove(r):li(t,_((" "+Yi(t)+" ").replace(" "+r+" "," ")))}function li(t,r){t.className.baseVal===void 0?t.className=r:t.className.baseVal=r}function Yi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function ti(t,r){"opacity"in t.style?t.style.opacity=r:"filter"in t.style&&zn(t,r)}function zn(t,r){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=t.filters.item(g)}catch{if(r===1)return}r=Math.round(r*100),h?(h.Enabled=r!==100,h.Opacity=r):t.style.filter+=" progid:"+g+"(opacity="+r+")"}function Pn(t){for(var r=document.documentElement.style,h=0;h<t.length;h++)if(t[h]in r)return t[h];return!1}function si(t,r,h){var g=r||new Pt(0,0);t.style[Ji]=(Wt.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function we(t,r){t._leaflet_pos=r,Wt.any3d?si(t,r):(t.style.left=r.x+"px",t.style.top=r.y+"px")}function di(t){return t._leaflet_pos||new Pt(0,0)}var pn,Qi,je;if("onselectstart"in document)pn=function(){he(window,"selectstart",X)},Qi=function(){a(window,"selectstart",X)};else{var pi=Pn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pn=function(){if(pi){var t=document.documentElement.style;je=t[pi],t[pi]="none"}},Qi=function(){pi&&(document.documentElement.style[pi]=je,je=void 0)}}function tn(){he(window,"dragstart",X)}function gn(){a(window,"dragstart",X)}var Cn,mn;function Nn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(en(),Cn=t,mn=t.style.outline,t.style.outline="none",he(window,"keydown",en))}function en(){Cn&&(Cn.style.outline=mn,Cn=void 0,mn=void 0,a(window,"keydown",en))}function nn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Fn(t){var r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth||1,y:r.height/t.offsetHeight||1,boundingClientRect:r}}var ur={__proto__:null,TRANSFORM:Ji,TRANSITION:Oi,TRANSITION_END:ri,get:ji,getStyle:Ei,create:ve,remove:Oe,empty:Ui,toFront:Bi,toBack:ki,hasClass:dn,addClass:pe,removeClass:Fe,setClass:li,getClass:Yi,setOpacity:ti,testProp:Pn,setTransform:si,setPosition:we,getPosition:di,get disableTextSelection(){return pn},get enableTextSelection(){return Qi},disableImageDrag:tn,enableImageDrag:gn,preventOutline:Nn,restoreOutline:en,getSizedParentNode:nn,getScale:Fn};function he(t,r,h,g){if(r&&typeof r=="object")for(var w in r)M(t,w,r[w],h);else{r=b(r);for(var R=0,et=r.length;R<et;R++)M(t,r[R],h,g)}return this}var i="_leaflet_events";function a(t,r,h,g){if(arguments.length===1)c(t),delete t[i];else if(r&&typeof r=="object")for(var w in r)j(t,w,r[w],h);else if(r=b(r),arguments.length===2)c(t,function(at){return z(r,at)!==-1});else for(var R=0,et=r.length;R<et;R++)j(t,r[R],h,g);return this}function c(t,r){for(var h in t[i]){var g=h.split(/\d/)[0];(!r||r(g))&&j(t,g,null,null,h)}}var v={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function M(t,r,h,g){var w=r+e(h)+(g?"_"+e(g):"");if(t[i]&&t[i][w])return this;var R=function(at){return h.call(g||t,at||window.event)},et=R;!Wt.touchNative&&Wt.pointer&&r.indexOf("touch")===0?R=Jn(t,r,R):Wt.touch&&r==="dblclick"?R=Xi(t,R):"addEventListener"in t?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?t.addEventListener(v[r]||r,R,Wt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(R=function(at){at=at||window.event,ee(t,at)&&et(at)},t.addEventListener(v[r],R,!1)):t.addEventListener(r,et,!1):t.attachEvent("on"+r,R),t[i]=t[i]||{},t[i][w]=R}function j(t,r,h,g,w){w=w||r+e(h)+(g?"_"+e(g):"");var R=t[i]&&t[i][w];if(!R)return this;!Wt.touchNative&&Wt.pointer&&r.indexOf("touch")===0?fn(t,r,R):Wt.touch&&r==="dblclick"?Qn(t,R):"removeEventListener"in t?t.removeEventListener(v[r]||r,R,!1):t.detachEvent("on"+r,R),t[i][w]=null}function G(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function K(t){return M(t,"wheel",G),this}function q(t){return he(t,"mousedown touchstart dblclick contextmenu",G),t._leaflet_disable_click=!0,this}function X(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function st(t){return X(t),G(t),this}function yt(t){if(t.composedPath)return t.composedPath();for(var r=[],h=t.target;h;)r.push(h),h=h.parentNode;return r}function pt(t,r){if(!r)return new Pt(t.clientX,t.clientY);var h=Fn(r),g=h.boundingClientRect;return new Pt((t.clientX-g.left)/h.x-r.clientLeft,(t.clientY-g.top)/h.y-r.clientTop)}var Dt=Wt.linux&&Wt.chrome?window.devicePixelRatio:Wt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function zt(t){return Wt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Dt:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ee(t,r){var h=r.relatedTarget;if(!h)return!0;try{for(;h&&h!==t;)h=h.parentNode}catch{return!1}return h!==t}var ce={__proto__:null,on:he,off:a,stopPropagation:G,disableScrollPropagation:K,disableClickPropagation:q,preventDefault:X,stop:st,getPropagationPath:yt,getMousePosition:pt,getWheelDelta:zt,isExternalTarget:ee,addListener:he,removeListener:a},Ce=Qt.extend({run:function(t,r,h,g){this.stop(),this._el=t,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=di(t),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Bt(this._animate,this),this._step()},_step:function(t){var r=+new Date-this._startTime,h=this._duration*1e3;r<h?this._runFrame(this._easeOut(r/h),t):(this._runFrame(1),this._complete())},_runFrame:function(t,r){var h=this._startPos.add(this._offset.multiplyBy(t));r&&h._round(),we(this._el,h),this.fire("step")},_complete:function(){Tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Jt=Qt.extend({options:{crs:ii,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,r){r=x(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=k(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(jt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Oi&&Wt.any3d&&!Wt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,ri,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,h){if(r=r===void 0?this._zoom:this._limitZoom(r),t=this._limitCenter(jt(t),r,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=I({animate:h.animate},h.zoom),h.pan=I({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,h.zoom):this._tryAnimatedPan(t,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(t,r,h.pan&&h.pan.noMoveStart),this},setZoom:function(t,r){return this._loaded?this.setView(this.getCenter(),t,{zoom:r}):(this._zoom=t,this)},zoomIn:function(t,r){return t=t||(Wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,r)},zoomOut:function(t,r){return t=t||(Wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,r)},setZoomAround:function(t,r,h){var g=this.getZoomScale(r),w=this.getSize().divideBy(2),R=t instanceof Pt?t:this.latLngToContainerPoint(t),et=R.subtract(w).multiplyBy(1-1/g),at=this.containerPointToLatLng(w.add(et));return this.setView(at,r,{zoom:h})},_getBoundsCenterZoom:function(t,r){r=r||{},t=t.getBounds?t.getBounds():Ft(t);var h=Gt(r.paddingTopLeft||r.padding||[0,0]),g=Gt(r.paddingBottomRight||r.padding||[0,0]),w=this.getBoundsZoom(t,!1,h.add(g));if(w=typeof r.maxZoom=="number"?Math.min(r.maxZoom,w):w,w===1/0)return{center:t.getCenter(),zoom:w};var R=g.subtract(h).divideBy(2),et=this.project(t.getSouthWest(),w),at=this.project(t.getNorthEast(),w),ct=this.unproject(et.add(at).divideBy(2).add(R),w);return{center:ct,zoom:w}},fitBounds:function(t,r){if(t=Ft(t),!t.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(t,r);return this.setView(h.center,h.zoom,r)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,r){return this.setView(t,this._zoom,{pan:r})},panBy:function(t,r){if(t=Gt(t).round(),r=r||{},!t.x&&!t.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ce,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){pe(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,h,r.duration||.25,r.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,r,h){if(h=h||{},h.animate===!1||!Wt.any3d)return this.setView(t,r,h);this._stop();var g=this.project(this.getCenter()),w=this.project(t),R=this.getSize(),et=this._zoom;t=jt(t),r=r===void 0?et:r;var at=Math.max(R.x,R.y),ct=at*this.getZoomScale(et,r),Ct=w.distanceTo(g)||1,Ht=1.42,fe=Ht*Ht;function xe(ei){var yr=ei?-1:1,Jr=ei?ct:at,Yr=ct*ct-at*at+yr*fe*fe*Ct*Ct,Qr=2*Jr*fe*Ct,Cr=Yr/Qr,Ir=Math.sqrt(Cr*Cr+1)-Cr,to=Ir<1e-9?-18:Math.log(Ir);return to}function Ii(ei){return(Math.exp(ei)-Math.exp(-ei))/2}function Xn(ei){return(Math.exp(ei)+Math.exp(-ei))/2}function vr(ei){return Ii(ei)/Xn(ei)}var On=xe(0);function Pr(ei){return at*(Xn(On)/Xn(On+Ht*ei))}function Wr(ei){return at*(Xn(On)*vr(On+Ht*ei)-Ii(On))/fe}function $r(ei){return 1-Math.pow(1-ei,1.5)}var Kr=Date.now(),Or=(xe(1)-On)/Ht,Xr=h.duration?1e3*h.duration:1e3*Or*.8;function Br(){var ei=(Date.now()-Kr)/Xr,yr=$r(ei)*Or;ei<=1?(this._flyToFrame=Bt(Br,this),this._move(this.unproject(g.add(w.subtract(g).multiplyBy(Wr(yr)/Ct)),et),this.getScaleZoom(at/Pr(yr),et),{flyTo:!0})):this._move(t,r)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Br.call(this),this},flyToBounds:function(t,r){var h=this._getBoundsCenterZoom(t,r);return this.flyTo(h.center,h.zoom,r)},setMaxBounds:function(t){return t=Ft(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var r=this.options.minZoom;return this.options.minZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var r=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,r){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,Ft(t));return h.equals(g)||this.panTo(g,r),this._enforcingBounds=!1,this},panInside:function(t,r){r=r||{};var h=Gt(r.paddingTopLeft||r.padding||[0,0]),g=Gt(r.paddingBottomRight||r.padding||[0,0]),w=this.project(this.getCenter()),R=this.project(t),et=this.getPixelBounds(),at=Kt([et.min.add(h),et.max.subtract(g)]),ct=at.getSize();if(!at.contains(R)){this._enforcingBounds=!0;var Ct=R.subtract(at.getCenter()),Ht=at.extend(R).getSize().subtract(ct);w.x+=Ct.x<0?-Ht.x:Ht.x,w.y+=Ct.y<0?-Ht.y:Ht.y,this.panTo(this.unproject(w),r),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=I({animate:!1,pan:!0},t===!0?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=r.divideBy(2).round(),w=h.divideBy(2).round(),R=g.subtract(w);return!R.x&&!R.y?this:(t.animate&&t.pan?this.panBy(R):(t.pan&&this._rawPanBy(R),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(k(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=I({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=k(this._handleGeolocationResponse,this),h=k(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,h,t):navigator.geolocation.getCurrentPosition(r,h,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var r=t.code,h=t.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var r=t.coords.latitude,h=t.coords.longitude,g=new Zt(r,h),w=g.toBounds(t.coords.accuracy*2),R=this._locateOptions;if(R.setView){var et=this.getBoundsZoom(w);this.setView(g,R.maxZoom?Math.min(et,R.maxZoom):et)}var at={latlng:g,bounds:w,timestamp:t.timestamp};for(var ct in t.coords)typeof t.coords[ct]=="number"&&(at[ct]=t.coords[ct]);this.fire("locationfound",at)}},addHandler:function(t,r){if(!r)return this;var h=this[t]=new r(this);return this._handlers.push(h),this.options[t]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Oe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Oe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,r){var h="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),g=ve("div",h,r||this._mapPane);return t&&(this._panes[t]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),r=this.unproject(t.getBottomLeft()),h=this.unproject(t.getTopRight());return new dt(r,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,r,h){t=Ft(t),h=Gt(h||[0,0]);var g=this.getZoom()||0,w=this.getMinZoom(),R=this.getMaxZoom(),et=t.getNorthWest(),at=t.getSouthEast(),ct=this.getSize().subtract(h),Ct=Kt(this.project(at,g),this.project(et,g)).getSize(),Ht=Wt.any3d?this.options.zoomSnap:1,fe=ct.x/Ct.x,xe=ct.y/Ct.y,Ii=r?Math.max(fe,xe):Math.min(fe,xe);return g=this.getScaleZoom(Ii,g),Ht&&(g=Math.round(g/(Ht/100))*(Ht/100),g=r?Math.ceil(g/Ht)*Ht:Math.floor(g/Ht)*Ht),Math.max(w,Math.min(R,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,r){var h=this._getTopLeftPoint(t,r);return new Ot(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,r){var h=this.options.crs;return r=r===void 0?this._zoom:r,h.scale(t)/h.scale(r)},getScaleZoom:function(t,r){var h=this.options.crs;r=r===void 0?this._zoom:r;var g=h.zoom(t*h.scale(r));return isNaN(g)?1/0:g},project:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(jt(t),r)},unproject:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(Gt(t),r)},layerPointToLatLng:function(t){var r=Gt(t).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(t){var r=this.project(jt(t))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(jt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Ft(t))},distance:function(t,r){return this.options.crs.distance(jt(t),jt(r))},containerPointToLayerPoint:function(t){return Gt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Gt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var r=this.containerPointToLayerPoint(Gt(t));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(jt(t)))},mouseEventToContainerPoint:function(t){return pt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var r=this._container=ji(t);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(r,"scroll",this._onScroll,this),this._containerId=e(r)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Wt.any3d,pe(t,"leaflet-container"+(Wt.touch?" leaflet-touch":"")+(Wt.retina?" leaflet-retina":"")+(Wt.ielt9?" leaflet-oldie":"")+(Wt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Ei(t,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),we(this._mapPane,new Pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pe(t.markerPane,"leaflet-zoom-hide"),pe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,r,h){we(this._mapPane,new Pt(0,0));var g=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var w=this._zoom!==r;this._moveStart(w,h)._move(t,r)._moveEnd(w),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(t,r){return t&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(t,r,h,g){r===void 0&&(r=this._zoom);var w=this._zoom!==r;return this._zoom=r,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),g?h&&h.pinch&&this.fire("zoom",h):((w||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){we(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[e(this._container)]=this;var r=t?a:he;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),Wt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Tt(this._resizeRequest),this._resizeRequest=Bt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,r){for(var h=[],g,w=r==="mouseout"||r==="mouseover",R=t.target||t.srcElement,et=!1;R;){if(g=this._targets[e(R)],g&&(r==="click"||r==="preclick")&&this._draggableMoved(g)){et=!0;break}if(g&&g.listens(r,!0)&&(w&&!ee(R,t)||(h.push(g),w))||R===this._container)break;R=R.parentNode}return!h.length&&!et&&!w&&this.listens(r,!0)&&(h=[this]),h},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var r=t.target||t.srcElement;if(!(!this._loaded||r._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(r))){var h=t.type;h==="mousedown"&&Nn(r),this._fireDOMEvent(t,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,h){if(t.type==="click"){var g=I({},t);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var w=this._findEventTargets(t,r);if(h){for(var R=[],et=0;et<h.length;et++)h[et].listens(r,!0)&&R.push(h[et]);w=R.concat(w)}if(w.length){r==="contextmenu"&&X(t);var at=w[0],ct={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Ct=at.getLatLng&&(!at._radius||at._radius<=10);ct.containerPoint=Ct?this.latLngToContainerPoint(at.getLatLng()):this.mouseEventToContainerPoint(t),ct.layerPoint=this.containerPointToLayerPoint(ct.containerPoint),ct.latlng=Ct?at.getLatLng():this.layerPointToLatLng(ct.layerPoint)}for(et=0;et<w.length;et++)if(w[et].fire(r,ct,!0),ct.originalEvent._stopped||w[et].options.bubblingMouseEvents===!1&&z(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,r=this._handlers.length;t<r;t++)this._handlers[t].disable()},whenReady:function(t,r){return this._loaded?t.call(r||this,{target:this}):this.on("load",t,r),this},_getMapPanePos:function(){return di(this._mapPane)||new Pt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,r){var h=t&&r!==void 0?this._getNewPixelOrigin(t,r):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,r){var h=this.getSize()._divideBy(2);return this.project(t,r)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,r,h){var g=this._getNewPixelOrigin(h,r);return this.project(t,r)._subtract(g)},_latLngBoundsToNewLayerBounds:function(t,r,h){var g=this._getNewPixelOrigin(h,r);return Kt([this.project(t.getSouthWest(),r)._subtract(g),this.project(t.getNorthWest(),r)._subtract(g),this.project(t.getSouthEast(),r)._subtract(g),this.project(t.getNorthEast(),r)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,r,h){if(!h)return t;var g=this.project(t,r),w=this.getSize().divideBy(2),R=new Ot(g.subtract(w),g.add(w)),et=this._getBoundsOffset(R,h,r);return Math.abs(et.x)<=1&&Math.abs(et.y)<=1?t:this.unproject(g.add(et),r)},_limitOffset:function(t,r){if(!r)return t;var h=this.getPixelBounds(),g=new Ot(h.min.add(t),h.max.add(t));return t.add(this._getBoundsOffset(g,r))},_getBoundsOffset:function(t,r,h){var g=Kt(this.project(r.getNorthEast(),h),this.project(r.getSouthWest(),h)),w=g.min.subtract(t.min),R=g.max.subtract(t.max),et=this._rebound(w.x,-R.x),at=this._rebound(w.y,-R.y);return new Pt(et,at)},_rebound:function(t,r){return t+r>0?Math.round(t-r)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(r))},_limitZoom:function(t){var r=this.getMinZoom(),h=this.getMaxZoom(),g=Wt.any3d?this.options.zoomSnap:1;return g&&(t=Math.round(t/g)*g),Math.max(r,Math.min(h,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,r){var h=this._getCenterOffset(t)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,r),!0)},_createAnimProxy:function(){var t=this._proxy=ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(r){var h=Ji,g=this._proxy.style[h];si(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Oe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),r=this.getZoom();si(this._proxy,this.project(t,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,r,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(r),w=this._getCenterOffset(t)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(w)?!1:(Bt(function(){this._moveStart(!0,!1)._animateZoom(t,r,!0)},this),!0)},_animateZoom:function(t,r,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=r,pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:r,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(k(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ee(t,r){return new Jt(t,r)}var l=lt.extend({options:{position:"topright"},initialize:function(t){x(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var r=this._map;return r&&r.removeControl(this),this.options.position=t,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var r=this._container=this.onAdd(t),h=this.getPosition(),g=t._controlCorners[h];return pe(r,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(r,g.firstChild):g.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Oe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),f=function(t){return new l(t)};Jt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},r="leaflet-",h=this._controlContainer=ve("div",r+"control-container",this._container);function g(w,R){var et=r+w+" "+r+R;t[w+R]=ve("div",et,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Oe(this._controlCorners[t]);Oe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var m=l.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,r,h,g){return h<g?-1:g<h?1:0}},initialize:function(t,r,h){x(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var g in t)this._addLayer(t[g],g);for(g in r)this._addLayer(r[g],g,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return l.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,r){return this._addLayer(t,r),this._map?this._update():this},addOverlay:function(t,r){return this._addLayer(t,r,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var r=this._getLayer(e(t));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",r=this._container=ve("div",t),h=this.options.collapsed;r.setAttribute("aria-haspopup",!0),q(r),K(r);var g=this._section=ve("section",t+"-list");h&&(this._map.on("click",this.collapse,this),he(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=ve("a",t+"-toggle",r);w.href="#",w.title="Layers",w.setAttribute("role","button"),he(w,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){X(R),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ve("div",t+"-base",g),this._separator=ve("div",t+"-separator",g),this._overlaysList=ve("div",t+"-overlays",g),r.appendChild(g)},_getLayer:function(t){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&e(this._layers[r].layer)===t)return this._layers[r]},_addLayer:function(t,r,h){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:r,overlay:h}),this.options.sortLayers&&this._layers.sort(k(function(g,w){return this.options.sortFunction(g.layer,w.layer,g.name,w.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ui(this._baseLayersList),Ui(this._overlaysList),this._layerControlInputs=[];var t,r,h,g,w=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),r=r||g.overlay,t=t||!g.overlay,w+=g.overlay?0:1;return this.options.hideSingleBase&&(t=t&&w>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=r&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var r=this._getLayer(e(t.target)),h=r.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;h&&this._map.fire(h,r)},_createRadioElement:function(t,r){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(r?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(t){var r=document.createElement("label"),h=this._map.hasLayer(t.layer),g;t.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+e(this),h),this._layerControlInputs.push(g),g.layerId=e(t.layer),he(g,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+t.name;var R=document.createElement("span");r.appendChild(R),R.appendChild(g),R.appendChild(w);var et=t.overlay?this._overlaysList:this._baseLayersList;return et.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){var t=this._layerControlInputs,r,h,g=[],w=[];this._handlingClick=!0;for(var R=t.length-1;R>=0;R--)r=t[R],h=this._getLayer(r.layerId).layer,r.checked?g.push(h):r.checked||w.push(h);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])&&this._map.removeLayer(w[R]);for(R=0;R<g.length;R++)this._map.hasLayer(g[R])||this._map.addLayer(g[R]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,r,h,g=this._map.getZoom(),w=t.length-1;w>=0;w--)r=t[w],h=this._getLayer(r.layerId).layer,r.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;he(t,"click",X),this.expand(),setTimeout(function(){a(t,"click",X)})}}),y=function(t,r,h){return new m(t,r,h)},E=l.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var r="leaflet-control-zoom",h=ve("div",r+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,r+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,r+"-out",h,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,r,h,g,w){var R=ve("a",h,g);return R.innerHTML=t,R.href="#",R.title=r,R.setAttribute("role","button"),R.setAttribute("aria-label",r),q(R),he(R,"click",st),he(R,"click",w,this),he(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var t=this._map,r="leaflet-disabled";Fe(this._zoomInButton,r),Fe(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(pe(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(pe(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new E,this.addControl(this.zoomControl))});var T=function(t){return new E(t)},B=l.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var r="leaflet-control-scale",h=ve("div",r),g=this.options;return this._addScales(g,r+"-line",h),t.on(g.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),h},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,r,h){t.metric&&(this._mScale=ve("div",r,h)),t.imperial&&(this._iScale=ve("div",r,h))},_update:function(){var t=this._map,r=t.getSize().y/2,h=t.distance(t.containerPointToLatLng([0,r]),t.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(h)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var r=this._getRoundNum(t),h=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,h,r/t)},_updateImperial:function(t){var r=t*3.2808399,h,g,w;r>5280?(h=r/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(w=this._getRoundNum(r),this._updateScale(this._iScale,w+" ft",w/r))},_updateScale:function(t,r,h){t.style.width=Math.round(this.options.maxWidth*h)+"px",t.innerHTML=r},_getRoundNum:function(t){var r=Math.pow(10,(Math.floor(t)+"").length-1),h=t/r;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,r*h}}),tt=function(t){return new B(t)},W='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rt=l.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Wt.inlineSvg?W+" ":"")+"Leaflet</a>"},initialize:function(t){x(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ve("div","leaflet-control-attribution"),q(this._container);for(var r in t._layers)t._layers[r].getAttribution&&this.addAttribution(t._layers[r].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var r in this._attributions)this._attributions[r]&&t.push(r);var h=[];this.options.prefix&&h.push(this.options.prefix),t.length&&h.push(t.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&new rt().addTo(this)});var ht=function(t){return new rt(t)};l.Layers=m,l.Zoom=E,l.Scale=B,l.Attribution=rt,f.layers=y,f.zoom=T,f.scale=tt,f.attribution=ht;var Lt=lt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Lt.addTo=function(t,r){return t.addHandler(r,this),this};var ut={Events:At},gt=Wt.touch?"touchstart mousedown":"mousedown",qt=Qt.extend({options:{clickTolerance:3},initialize:function(t,r,h,g){x(this,g),this._element=t,this._dragStartTarget=r||t,this._preventOutline=h},enable:function(){this._enabled||(he(this._dragStartTarget,gt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qt._dragging===this&&this.finishDrag(!0),a(this._dragStartTarget,gt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!dn(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){qt._dragging===this&&this.finishDrag();return}if(!(qt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(qt._dragging=this,this._preventOutline&&Nn(this._element),tn(),pn(),!this._moving)){this.fire("down");var r=t.touches?t.touches[0]:t,h=nn(this._element);this._startPoint=new Pt(r.clientX,r.clientY),this._startPos=di(this._element),this._parentScale=Fn(h);var g=t.type==="mousedown";he(document,g?"mousemove":"touchmove",this._onMove,this),he(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var r=t.touches&&t.touches.length===1?t.touches[0]:t,h=new Pt(r.clientX,r.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,X(t),this._moved||(this.fire("dragstart"),this._moved=!0,pe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),we(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Fe(document.body,"leaflet-dragging"),this._lastTarget&&(Fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),a(document,"mousemove touchmove",this._onMove,this),a(document,"mouseup touchend touchcancel",this._onUp,this),gn(),Qi(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,qt._dragging=!1}});function le(t,r){if(!r||!t.length)return t.slice();var h=r*r;return t=Be(t,h),t=$e(t,h),t}function $t(t,r,h){return Math.sqrt(rn(t,r,h,!0))}function Ye(t,r,h){return rn(t,r,h)}function $e(t,r){var h=t.length,g=typeof Uint8Array!=void 0+""?Uint8Array:Array,w=new g(h);w[0]=w[h-1]=1,ui(t,w,r,0,h-1);var R,et=[];for(R=0;R<h;R++)w[R]&&et.push(t[R]);return et}function ui(t,r,h,g,w){var R=0,et,at,ct;for(at=g+1;at<=w-1;at++)ct=rn(t[at],t[g],t[w],!0),ct>R&&(et=at,R=ct);R>h&&(r[et]=1,ui(t,r,h,g,et),ui(t,r,h,et,w))}function Be(t,r){for(var h=[t[0]],g=1,w=0,R=t.length;g<R;g++)jn(t[g],t[w])>r&&(h.push(t[g]),w=g);return w<R-1&&h.push(t[R-1]),h}var ae;function hi(t,r,h,g,w){var R=g?ae:Ae(t,h),et=Ae(r,h),at,ct,Ct;for(ae=et;;){if(!(R|et))return[t,r];if(R&et)return!1;at=R||et,ct=ye(t,r,at,h,w),Ct=Ae(ct,h),at===R?(t=ct,R=Ct):(r=ct,et=Ct)}}function ye(t,r,h,g,w){var R=r.x-t.x,et=r.y-t.y,at=g.min,ct=g.max,Ct,Ht;return h&8?(Ct=t.x+R*(ct.y-t.y)/et,Ht=ct.y):h&4?(Ct=t.x+R*(at.y-t.y)/et,Ht=at.y):h&2?(Ct=ct.x,Ht=t.y+et*(ct.x-t.x)/R):h&1&&(Ct=at.x,Ht=t.y+et*(at.x-t.x)/R),new Pt(Ct,Ht,w)}function Ae(t,r){var h=0;return t.x<r.min.x?h|=1:t.x>r.max.x&&(h|=2),t.y<r.min.y?h|=4:t.y>r.max.y&&(h|=8),h}function jn(t,r){var h=r.x-t.x,g=r.y-t.y;return h*h+g*g}function rn(t,r,h,g){var w=r.x,R=r.y,et=h.x-w,at=h.y-R,ct=et*et+at*at,Ct;return ct>0&&(Ct=((t.x-w)*et+(t.y-R)*at)/ct,Ct>1?(w=h.x,R=h.y):Ct>0&&(w+=et*Ct,R+=at*Ct)),et=t.x-w,at=t.y-R,g?et*et+at*at:new Pt(w,R)}function Ne(t){return!H(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function on(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ne(t)}function sn(t,r){var h,g,w,R,et,at,ct,Ct;if(!t||t.length===0)throw new Error("latlngs not passed");Ne(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ht=[];for(var fe in t)Ht.push(r.project(jt(t[fe])));var xe=Ht.length;for(h=0,g=0;h<xe-1;h++)g+=Ht[h].distanceTo(Ht[h+1])/2;if(g===0)Ct=Ht[0];else for(h=0,R=0;h<xe-1;h++)if(et=Ht[h],at=Ht[h+1],w=et.distanceTo(at),R+=w,R>g){ct=(R-g)/w,Ct=[at.x-ct*(at.x-et.x),at.y-ct*(at.y-et.y)];break}return r.unproject(Gt(Ct))}var gi={__proto__:null,simplify:le,pointToSegmentDistance:$t,closestPointOnSegment:Ye,clipSegment:hi,_getEdgeIntersection:ye,_getBitCode:Ae,_sqClosestPointOnSegment:rn,isFlat:Ne,_flat:on,polylineCenter:sn};function Zi(t,r,h){var g,w=[1,4,2,8],R,et,at,ct,Ct,Ht,fe,xe;for(R=0,Ht=t.length;R<Ht;R++)t[R]._code=Ae(t[R],r);for(at=0;at<4;at++){for(fe=w[at],g=[],R=0,Ht=t.length,et=Ht-1;R<Ht;et=R++)ct=t[R],Ct=t[et],ct._code&fe?Ct._code&fe||(xe=ye(Ct,ct,fe,r,h),xe._code=Ae(xe,r),g.push(xe)):(Ct._code&fe&&(xe=ye(Ct,ct,fe,r,h),xe._code=Ae(xe,r),g.push(xe)),g.push(ct));t=g}return t}function yi(t,r){var h,g,w,R,et,at,ct,Ct,Ht;if(!t||t.length===0)throw new Error("latlngs not passed");Ne(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var fe=[];for(var xe in t)fe.push(r.project(jt(t[xe])));var Ii=fe.length;for(at=ct=Ct=0,h=0,g=Ii-1;h<Ii;g=h++)w=fe[h],R=fe[g],et=w.y*R.x-R.y*w.x,ct+=(w.x+R.x)*et,Ct+=(w.y+R.y)*et,at+=et*3;return at===0?Ht=fe[0]:Ht=[ct/at,Ct/at],r.unproject(Gt(Ht))}var an={__proto__:null,clipPolygon:Zi,polygonCenter:yi},tr={project:function(t){return new Pt(t.lng,t.lat)},unproject:function(t){return new Zt(t.y,t.x)},bounds:new Ot([-180,-90],[180,90])},Gi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var r=Math.PI/180,h=this.R,g=t.lat*r,w=this.R_MINOR/h,R=Math.sqrt(1-w*w),et=R*Math.sin(g),at=Math.tan(Math.PI/4-g/2)/Math.pow((1-et)/(1+et),R/2);return g=-h*Math.log(Math.max(at,1e-10)),new Pt(t.lng*r*h,g)},unproject:function(t){for(var r=180/Math.PI,h=this.R,g=this.R_MINOR/h,w=Math.sqrt(1-g*g),R=Math.exp(-t.y/h),et=Math.PI/2-2*Math.atan(R),at=0,ct=.1,Ct;at<15&&Math.abs(ct)>1e-7;at++)Ct=w*Math.sin(et),Ct=Math.pow((1-Ct)/(1+Ct),w/2),ct=Math.PI/2-2*Math.atan(R*Ct)-et,et+=ct;return new Zt(et*r,t.x*r/h)}},hr={__proto__:null,LonLat:tr,Mercator:Gi,SphericalMercator:qe},Te=I({},oe,{code:"EPSG:3395",projection:Gi,transformation:function(){var t=.5/(Math.PI*Gi.R);return xi(t,.5,-t,.5)}()}),ln=I({},oe,{code:"EPSG:4326",projection:tr,transformation:xi(1/180,1,-1/180,.5)}),dr=I({},de,{projection:tr,transformation:xi(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,r){var h=r.lng-t.lng,g=r.lat-t.lat;return Math.sqrt(h*h+g*g)},infinite:!0});de.Earth=oe,de.EPSG3395=Te,de.EPSG3857=ii,de.EPSG900913=Ve,de.EPSG4326=ln,de.Simple=dr;var bi=Qt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[e(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[e(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var r=t.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var h=this.getEvents();r.on(h,this),this.once("remove",function(){r.off(h,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var r=e(t);return this._layers[r]?this:(this._layers[r]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var r=e(t);return this._layers[r]?(this._loaded&&t.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return e(t)in this._layers},eachLayer:function(t,r){for(var h in this._layers)t.call(r,this._layers[h]);return this},_addLayers:function(t){t=t?H(t)?t:[t]:[];for(var r=0,h=t.length;r<h;r++)this.addLayer(t[r])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[e(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var r=e(t);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,r=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var w=this._zoomBoundLayers[g].options;t=w.minZoom===void 0?t:Math.min(t,w.minZoom),r=w.maxZoom===void 0?r:Math.max(r,w.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=t===1/0?void 0:t,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var En=bi.extend({initialize:function(t,r){x(this,r),this._layers={};var h,g;if(t)for(h=0,g=t.length;h<g;h++)this.addLayer(t[h])},addLayer:function(t){var r=this.getLayerId(t);return this._layers[r]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var r=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(t){var r=typeof t=="number"?t:this.getLayerId(t);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var r=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[t]&&g[t].apply(g,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,r){for(var h in this._layers)t.call(r,this._layers[h]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return e(t)}}),er=function(t,r){return new En(t,r)},Hi=En.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),En.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),En.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new dt;for(var r in this._layers){var h=this._layers[r];t.extend(h.getBounds?h.getBounds():h.getLatLng())}return t}}),pr=function(t,r){return new Hi(t,r)},Tn=lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){x(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,r){var h=this._getIconUrl(t);if(!h){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(g,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(t,r){var h=this.options,g=h[r+"Size"];typeof g=="number"&&(g=[g,g]);var w=Gt(g),R=Gt(r==="shadow"&&h.shadowAnchor||h.iconAnchor||w&&w.divideBy(2,!0));t.className="leaflet-marker-"+r+" "+(h.className||""),R&&(t.style.marginLeft=-R.x+"px",t.style.marginTop=-R.y+"px"),w&&(t.style.width=w.x+"px",t.style.height=w.y+"px")},_createImg:function(t,r){return r=r||document.createElement("img"),r.src=t,r},_getIconUrl:function(t){return Wt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function xr(t){return new Tn(t)}var Un=Tn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Un.imagePath!="string"&&(Un.imagePath=this._detectIconPath()),(this.options.imagePath||Un.imagePath)+Tn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var r=function(h,g,w){var R=g.exec(h);return R&&R[w]};return t=r(t,/^url\((['"])?(.+)\1\)$/,2),t&&r(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ve("div","leaflet-default-icon-path",document.body),r=Ei(t,"background-image")||Ei(t,"backgroundImage");if(document.body.removeChild(t),r=this._stripUrl(r),r)return r;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Zn=Lt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new qt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,h=r._map,g=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,R=di(r._icon),et=h.getPixelBounds(),at=h.getPixelOrigin(),ct=Kt(et.min._subtract(at).add(w),et.max._subtract(at).subtract(w));if(!ct.contains(R)){var Ct=Gt((Math.max(ct.max.x,R.x)-ct.max.x)/(et.max.x-ct.max.x)-(Math.min(ct.min.x,R.x)-ct.min.x)/(et.min.x-ct.min.x),(Math.max(ct.max.y,R.y)-ct.max.y)/(et.max.y-ct.max.y)-(Math.min(ct.min.y,R.y)-ct.min.y)/(et.min.y-ct.min.y)).multiplyBy(g);h.panBy(Ct,{animate:!1}),this._draggable._newPos._add(Ct),this._draggable._startPos._add(Ct),we(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Bt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Tt(this._panRequest),this._panRequest=Bt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var r=this._marker,h=r._shadow,g=di(r._icon),w=r._map.layerPointToLatLng(g);h&&we(h,g),r._latlng=w,t.latlng=w,t.oldLatLng=this._oldLatLng,r.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ir=bi.extend({options:{icon:new Un,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,r){x(this,r),this._latlng=jt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var r=this._latlng;return this._latlng=jt(t),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=t.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,t.title&&(h.title=t.title),h.tagName==="IMG"&&(h.alt=t.alt||"")),pe(h,r),t.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(h,"focus",this._panOnFocus,this);var w=t.icon.createShadow(this._shadow),R=!1;w!==this._shadow&&(this._removeShadow(),R=!0),w&&(pe(w,r),w.alt=""),this._shadow=w,t.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&R&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&a(this._icon,"focus",this._panOnFocus,this),Oe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Oe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&we(this._icon,t),this._shadow&&we(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ti(this._icon,t),this._shadow&&ti(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var r=this.options.icon.options,h=r.iconSize?Gt(r.iconSize):Gt(0,0),g=r.iconAnchor?Gt(r.iconAnchor):Gt(0,0);t.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wr(t,r){return new ir(t,r)}var un=bi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return x(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hn=un.extend({options:{fill:!0,radius:10},initialize:function(t,r){x(this,r),this._latlng=jt(t),this._radius=this.options.radius},setLatLng:function(t){var r=this._latlng;return this._latlng=jt(t),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var r=t&&t.radius||this._radius;return un.prototype.setStyle.call(this,t),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,r=this._radiusY||t,h=this._clickTolerance(),g=[t+h,r+h];this._pxBounds=new Ot(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kr(t,r){return new hn(t,r)}var Gn=hn.extend({initialize:function(t,r,h){if(typeof r=="number"&&(r=I({},h,{radius:r})),x(this,r),this._latlng=jt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:un.prototype.setStyle,_project:function(){var t=this._latlng.lng,r=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===oe.distance){var w=Math.PI/180,R=this._mRadius/oe.R/w,et=h.project([r+R,t]),at=h.project([r-R,t]),ct=et.add(at).divideBy(2),Ct=h.unproject(ct).lat,Ht=Math.acos((Math.cos(R*w)-Math.sin(r*w)*Math.sin(Ct*w))/(Math.cos(r*w)*Math.cos(Ct*w)))/w;(isNaN(Ht)||Ht===0)&&(Ht=R/Math.cos(Math.PI/180*r)),this._point=ct.subtract(h.getPixelOrigin()),this._radius=isNaN(Ht)?0:ct.x-h.project([Ct,t-Ht]).x,this._radiusY=ct.y-et.y}else{var fe=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(fe).x}this._updateBounds()}});function qi(t,r,h){return new Gn(t,r,h)}var oi=un.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,r){x(this,r),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var r=1/0,h=null,g=rn,w,R,et=0,at=this._parts.length;et<at;et++)for(var ct=this._parts[et],Ct=1,Ht=ct.length;Ct<Ht;Ct++){w=ct[Ct-1],R=ct[Ct];var fe=g(t,w,R,!0);fe<r&&(r=fe,h=g(t,w,R))}return h&&(h.distance=Math.sqrt(r)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,r){return r=r||this._defaultShape(),t=jt(t),r.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new dt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ne(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var r=[],h=Ne(t),g=0,w=t.length;g<w;g++)h?(r[g]=jt(t[g]),this._bounds.extend(r[g])):r[g]=this._convertLatLngs(t[g]);return r},_project:function(){var t=new Ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),r=new Pt(t,t);this._rawPxBounds&&(this._pxBounds=new Ot([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(t,r,h){var g=t[0]instanceof Zt,w=t.length,R,et;if(g){for(et=[],R=0;R<w;R++)et[R]=this._map.latLngToLayerPoint(t[R]),h.extend(et[R]);r.push(et)}else for(R=0;R<w;R++)this._projectLatlngs(t[R],r,h)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,h,g,w,R,et,at,ct;for(h=0,w=0,R=this._rings.length;h<R;h++)for(ct=this._rings[h],g=0,et=ct.length;g<et-1;g++)at=hi(ct[g],ct[g+1],t,g,!0),at&&(r[w]=r[w]||[],r[w].push(at[0]),(at[1]!==ct[g+1]||g===et-2)&&(r[w].push(at[1]),w++))}},_simplifyPoints:function(){for(var t=this._parts,r=this.options.smoothFactor,h=0,g=t.length;h<g;h++)t[h]=le(t[h],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,r){var h,g,w,R,et,at,ct=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,R=this._parts.length;h<R;h++)for(at=this._parts[h],g=0,et=at.length,w=et-1;g<et;w=g++)if(!(!r&&g===0)&&$t(t,at[w],at[g])<=ct)return!0;return!1}});function gr(t,r){return new oi(t,r)}oi._flat=on;var _n=oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var r=oi.prototype._convertLatLngs.call(this,t),h=r.length;return h>=2&&r[0]instanceof Zt&&r[0].equals(r[h-1])&&r.pop(),r},_setLatLngs:function(t){oi.prototype._setLatLngs.call(this,t),Ne(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ne(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,r=this.options.weight,h=new Pt(r,r);if(t=new Ot(t.min.subtract(h),t.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,w=this._rings.length,R;g<w;g++)R=Zi(this._rings[g],t,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var r=!1,h,g,w,R,et,at,ct,Ct;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(R=0,ct=this._parts.length;R<ct;R++)for(h=this._parts[R],et=0,Ct=h.length,at=Ct-1;et<Ct;at=et++)g=h[et],w=h[at],g.y>t.y!=w.y>t.y&&t.x<(w.x-g.x)*(t.y-g.y)/(w.y-g.y)+g.x&&(r=!r);return r||oi.prototype._containsPoint.call(this,t,!0)}});function mr(t,r){return new _n(t,r)}var Vi=Hi.extend({initialize:function(t,r){x(this,r),this._layers={},t&&this.addData(t)},addData:function(t){var r=H(t)?t:t.features,h,g,w;if(r){for(h=0,g=r.length;h<g;h++)w=r[h],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var R=this.options;if(R.filter&&!R.filter(t))return this;var et=Se(t,R);return et?(et.feature=nr(t),et.defaultOptions=et.options,this.resetStyle(et),R.onEachFeature&&R.onEachFeature(t,et),this.addLayer(et)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=I({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(r){this._setLayerStyle(r,t)},this)},_setLayerStyle:function(t,r){t.setStyle&&(typeof r=="function"&&(r=r(t.feature)),t.setStyle(r))}});function Se(t,r){var h=t.type==="Feature"?t.geometry:t,g=h?h.coordinates:null,w=[],R=r&&r.pointToLayer,et=r&&r.coordsToLatLng||Li,at,ct,Ct,Ht;if(!g&&!h)return null;switch(h.type){case"Point":return at=et(g),Hn(R,t,at,r);case"MultiPoint":for(Ct=0,Ht=g.length;Ct<Ht;Ct++)at=et(g[Ct]),w.push(Hn(R,t,at,r));return new Hi(w);case"LineString":case"MultiLineString":return ct=ci(g,h.type==="LineString"?0:1,et),new oi(ct,r);case"Polygon":case"MultiPolygon":return ct=ci(g,h.type==="Polygon"?1:2,et),new _n(ct,r);case"GeometryCollection":for(Ct=0,Ht=h.geometries.length;Ct<Ht;Ct++){var fe=Se({geometry:h.geometries[Ct],type:"Feature",properties:t.properties},r);fe&&w.push(fe)}return new Hi(w);case"FeatureCollection":for(Ct=0,Ht=h.features.length;Ct<Ht;Ct++){var xe=Se(h.features[Ct],r);xe&&w.push(xe)}return new Hi(w);default:throw new Error("Invalid GeoJSON object.")}}function Hn(t,r,h,g){return t?t(r,h):new ir(h,g&&g.markersInheritOptions&&g)}function Li(t){return new Zt(t[1],t[0],t[2])}function ci(t,r,h){for(var g=[],w=0,R=t.length,et;w<R;w++)et=r?ci(t[w],r-1,h):(h||Li)(t[w]),g.push(et);return g}function qn(t,r){return t=jt(t),t.alt!==void 0?[d(t.lng,r),d(t.lat,r),d(t.alt,r)]:[d(t.lng,r),d(t.lat,r)]}function Vn(t,r,h,g){for(var w=[],R=0,et=t.length;R<et;R++)w.push(r?Vn(t[R],Ne(t[R])?0:r-1,h,g):qn(t[R],g));return!r&&h&&w.push(w[0].slice()),w}function Sn(t,r){return t.feature?I({},t.feature,{geometry:r}):nr(r)}function nr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var rr={toGeoJSON:function(t){return Sn(this,{type:"Point",coordinates:qn(this.getLatLng(),t)})}};ir.include(rr),Gn.include(rr),hn.include(rr),oi.include({toGeoJSON:function(t){var r=!Ne(this._latlngs),h=Vn(this._latlngs,r?1:0,!1,t);return Sn(this,{type:(r?"Multi":"")+"LineString",coordinates:h})}}),_n.include({toGeoJSON:function(t){var r=!Ne(this._latlngs),h=r&&!Ne(this._latlngs[0]),g=Vn(this._latlngs,h?2:r?1:0,!0,t);return r||(g=[g]),Sn(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),En.include({toMultiPoint:function(t){var r=[];return this.eachLayer(function(h){r.push(h.toGeoJSON(t).geometry.coordinates)}),Sn(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(t){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(t);var h=r==="GeometryCollection",g=[];return this.eachLayer(function(w){if(w.toGeoJSON){var R=w.toGeoJSON(t);if(h)g.push(R.geometry);else{var et=nr(R);et.type==="FeatureCollection"?g.push.apply(g,et.features):g.push(et)}}}),h?Sn(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function cn(t,r){return new Vi(t,r)}var cr=cn,Wn=bi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,r,h){this._url=t,this._bounds=Ft(r),x(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Oe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&ki(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Ft(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",r=this._image=t?this._url:ve("img");if(pe(r,"leaflet-image-layer"),this._zoomAnimated&&pe(r,"leaflet-zoom-animated"),this.options.className&&pe(r,this.options.className),r.onselectstart=u,r.onmousemove=u,r.onload=k(this.fire,this,"load"),r.onerror=k(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(t){var r=this._map.getZoomScale(t.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;si(this._image,h,r)},_reset:function(){var t=this._image,r=new Ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=r.getSize();we(t,r.min),t.style.width=h.x+"px",t.style.height=h.y+"px"},_updateOpacity:function(){ti(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),or=function(t,r,h){return new Wn(t,r,h)},$n=Wn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",r=this._image=t?this._url:ve("video");if(pe(r,"leaflet-image-layer"),this._zoomAnimated&&pe(r,"leaflet-zoom-animated"),this.options.className&&pe(r,this.options.className),r.onselectstart=u,r.onmousemove=u,r.onloadeddata=k(this.fire,this,"load"),t){for(var h=r.getElementsByTagName("source"),g=[],w=0;w<h.length;w++)g.push(h[w].src);this._url=h.length>0?g:[r.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var et=ve("source");et.src=this._url[R],r.appendChild(et)}}});function fr(t,r,h){return new $n(t,r,h)}var _r=Wn.extend({_initImage:function(){var t=this._image=this._url;pe(t,"leaflet-image-layer"),this._zoomAnimated&&pe(t,"leaflet-zoom-animated"),this.options.className&&pe(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function sr(t,r,h){return new _r(t,r,h)}var Mi=bi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,r){t&&(t instanceof Zt||H(t))?(this._latlng=jt(t),x(this,r)):(x(this,t),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ti(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ti(this._container,1),this.bringToFront(),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ti(this._container,0),this._removeTimeout=setTimeout(k(Oe,void 0,this._container),200)):Oe(this._container),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=jt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&ki(this._container),this},_prepareOpen:function(t){var r=this._source;if(!r._map)return!1;if(r instanceof Hi){r=null;var h=this._source._layers;for(var g in h)if(h[g]._map){r=h[g];break}if(!r)return!1;this._source=r}if(!t)if(r.getCenter)t=r.getCenter();else if(r.getLatLng)t=r.getLatLng();else if(r.getBounds)t=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")t.innerHTML=r;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),r=Gt(this.options.offset),h=this._getAnchor();this._zoomAnimated?we(this._container,t.add(h)):r=r.add(t).add(h);var g=this._containerBottom=-r.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=g+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(t,r,h,g){var w=r;return w instanceof t||(w=new t(g).setContent(r)),h&&w.setLatLng(h),w}}),bi.include({_initOverlay:function(t,r,h,g){var w=h;return w instanceof t?(x(w,g),w._source=this):(w=r&&!g?r:new t(g,this),w.setContent(h)),w}});var Dn=Mi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Mi.prototype.openOn.call(this,t)},onAdd:function(t){Mi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof un||this._source.on("preclick",G))},onRemove:function(t){Mi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof un||this._source.off("preclick",G))},getEvents:function(){var t=Mi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",r=this._container=ve("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ve("div",t+"-content-wrapper",r);if(this._contentNode=ve("div",t+"-content",h),q(r),K(this._contentNode),he(r,"contextmenu",G),this._tipContainer=ve("div",t+"-tip-container",r),this._tip=ve("div",t+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=ve("a",t+"-close-button",r);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',he(g,"click",function(w){X(w),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,r=t.style;r.width="",r.whiteSpace="nowrap";var h=t.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),r.width=h+1+"px",r.whiteSpace="",r.height="";var g=t.offsetHeight,w=this.options.maxHeight,R="leaflet-popup-scrolled";w&&g>w?(r.height=w+"px",pe(t,R)):Fe(t,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),h=this._getAnchor();we(this._container,r.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,r=parseInt(Ei(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+r,g=this._containerWidth,w=new Pt(this._containerLeft,-h-this._containerBottom);w._add(di(this._container));var R=t.layerPointToContainerPoint(w),et=Gt(this.options.autoPanPadding),at=Gt(this.options.autoPanPaddingTopLeft||et),ct=Gt(this.options.autoPanPaddingBottomRight||et),Ct=t.getSize(),Ht=0,fe=0;R.x+g+ct.x>Ct.x&&(Ht=R.x+g-Ct.x+ct.x),R.x-Ht-at.x<0&&(Ht=R.x-at.x),R.y+h+ct.y>Ct.y&&(fe=R.y+h-Ct.y+ct.y),R.y-fe-at.y<0&&(fe=R.y-at.y),(Ht||fe)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Ht,fe]))}},_getAnchor:function(){return Gt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mr=function(t,r){return new Dn(t,r)};Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(t,r,h){return this._initOverlay(Dn,t,r,h).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),bi.include({bindPopup:function(t,r){return this._popup=this._initOverlay(Dn,this._popup,t,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Hi||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){st(t);var r=t.layer||t.target;if(this._popup._source===r&&!(r instanceof un)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=r,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var N=Mi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Mi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Mi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Mi.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",r=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ve("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+e(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var r,h,g=this._map,w=this._container,R=g.latLngToContainerPoint(g.getCenter()),et=g.layerPointToContainerPoint(t),at=this.options.direction,ct=w.offsetWidth,Ct=w.offsetHeight,Ht=Gt(this.options.offset),fe=this._getAnchor();at==="top"?(r=ct/2,h=Ct):at==="bottom"?(r=ct/2,h=0):at==="center"?(r=ct/2,h=Ct/2):at==="right"?(r=0,h=Ct/2):at==="left"?(r=ct,h=Ct/2):et.x<R.x?(at="right",r=0,h=Ct/2):(at="left",r=ct+(Ht.x+fe.x)*2,h=Ct/2),t=t.subtract(Gt(r,h,!0)).add(Ht).add(fe),Fe(w,"leaflet-tooltip-right"),Fe(w,"leaflet-tooltip-left"),Fe(w,"leaflet-tooltip-top"),Fe(w,"leaflet-tooltip-bottom"),pe(w,"leaflet-tooltip-"+at),we(w,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ti(this._container,t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(r)},_getAnchor:function(){return Gt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),J=function(t,r){return new N(t,r)};Jt.include({openTooltip:function(t,r,h){return this._initOverlay(N,t,r,h).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),bi.include({bindTooltip:function(t,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(N,this._tooltip,t,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var r=t?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[r](h),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Hi||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var r=t.getElement();r&&(he(r,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),he(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var r=t.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var r=t.latlng,h,g;this._tooltip.options.sticky&&t.originalEvent&&(h=this._map.mouseEventToContainerPoint(t.originalEvent),g=this._map.containerPointToLayerPoint(h),r=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(r)}});var nt=Tn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var r=t&&t.tagName==="DIV"?t:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Ui(r),r.appendChild(h.html)):r.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=Gt(h.bgPos);r.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function vt(t){return new nt(t)}Tn.Default=Un;var ot=bi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Wt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){x(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Oe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=n(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Pt?t:new Pt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var r=this.getPane().children,h=-t(-1/0,1/0),g=0,w=r.length,R;g<w;g++)R=r[g].style.zIndex,r[g]!==this._container&&R&&(h=t(h,+R));isFinite(h)&&(this.options.zIndex=h+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Wt.ielt9){ti(this._container,this.options.opacity);var t=+new Date,r=!1,h=!1;for(var g in this._tiles){var w=this._tiles[g];if(!(!w.current||!w.loaded)){var R=Math.min(1,(t-w.loaded)/200);ti(w.el,R),R<1?r=!0:(w.active?h=!0:this._onOpaqueTile(w),w.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),r&&(Tt(this._fadeFrame),this._fadeFrame=Bt(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,r=this.options.maxZoom;if(t!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===t?(this._levels[h].el.style.zIndex=r-Math.abs(t-h),this._onUpdateLevel(h)):(Oe(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[t],w=this._map;return g||(g=this._levels[t]={},g.el=ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=r,g.origin=w.project(w.unproject(w.getPixelOrigin()),t).round(),g.zoom=t,this._setZoomTransform(g,w.getCenter(),w.getZoom()),u(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,r,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)r=this._tiles[t],r.retain=r.current;for(t in this._tiles)if(r=this._tiles[t],r.current&&!r.active){var g=r.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var r in this._tiles)this._tiles[r].coords.z===t&&this._removeTile(r)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Oe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,r,h,g){var w=Math.floor(t/2),R=Math.floor(r/2),et=h-1,at=new Pt(+w,+R);at.z=+et;var ct=this._tileCoordsToKey(at),Ct=this._tiles[ct];return Ct&&Ct.active?(Ct.retain=!0,!0):(Ct&&Ct.loaded&&(Ct.retain=!0),et>g?this._retainParent(w,R,et,g):!1)},_retainChildren:function(t,r,h,g){for(var w=2*t;w<2*t+2;w++)for(var R=2*r;R<2*r+2;R++){var et=new Pt(w,R);et.z=h+1;var at=this._tileCoordsToKey(et),ct=this._tiles[at];if(ct&&ct.active){ct.retain=!0;continue}else ct&&ct.loaded&&(ct.retain=!0);h+1<g&&this._retainChildren(w,R,h+1,g)}},_resetView:function(t){var r=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var r=this.options;return r.minNativeZoom!==void 0&&t<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<t?r.maxNativeZoom:t},_setView:function(t,r,h,g){var w=Math.round(r);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var R=this.options.updateWhenZooming&&w!==this._tileZoom;(!g||R)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(t),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(t,r)},_setZoomTransforms:function(t,r){for(var h in this._levels)this._setZoomTransform(this._levels[h],t,r)},_setZoomTransform:function(t,r,h){var g=this._map.getZoomScale(h,t.zoom),w=t.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(r,h)).round();Wt.any3d?si(t.el,w,g):we(t.el,w)},_resetGrid:function(){var t=this._map,r=t.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,r.wrapLng[0]],g).x/h.x),Math.ceil(t.project([0,r.wrapLng[1]],g).x/h.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([r.wrapLat[0],0],g).y/h.x),Math.ceil(t.project([r.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var r=this._map,h=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),g=r.getZoomScale(h,this._tileZoom),w=r.project(t,this._tileZoom).floor(),R=r.getSize().divideBy(g*2);return new Ot(w.subtract(R),w.add(R))},_update:function(t){var r=this._map;if(r){var h=this._clampZoom(r.getZoom());if(t===void 0&&(t=r.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(t),w=this._pxBoundsToTileRange(g),R=w.getCenter(),et=[],at=this.options.keepBuffer,ct=new Ot(w.getBottomLeft().subtract([at,-at]),w.getTopRight().add([at,-at]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ct in this._tiles){var Ht=this._tiles[Ct].coords;(Ht.z!==this._tileZoom||!ct.contains(new Pt(Ht.x,Ht.y)))&&(this._tiles[Ct].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(t,h);return}for(var fe=w.min.y;fe<=w.max.y;fe++)for(var xe=w.min.x;xe<=w.max.x;xe++){var Ii=new Pt(xe,fe);if(Ii.z=this._tileZoom,!!this._isValidTile(Ii)){var Xn=this._tiles[this._tileCoordsToKey(Ii)];Xn?Xn.current=!0:et.push(Ii)}}if(et.sort(function(On,Pr){return On.distanceTo(R)-Pr.distanceTo(R)}),et.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vr=document.createDocumentFragment();for(xe=0;xe<et.length;xe++)this._addTile(et[xe],vr);this._level.el.appendChild(vr)}}}},_isValidTile:function(t){var r=this._map.options.crs;if(!r.infinite){var h=this._globalTileRange;if(!r.wrapLng&&(t.x<h.min.x||t.x>h.max.x)||!r.wrapLat&&(t.y<h.min.y||t.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(t);return Ft(this.options.bounds).overlaps(g)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var r=this._map,h=this.getTileSize(),g=t.scaleBy(h),w=g.add(h),R=r.unproject(g,t.z),et=r.unproject(w,t.z);return[R,et]},_tileCoordsToBounds:function(t){var r=this._tileCoordsToNwSe(t),h=new dt(r[0],r[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var r=t.split(":"),h=new Pt(+r[0],+r[1]);return h.z=+r[2],h},_removeTile:function(t){var r=this._tiles[t];r&&(Oe(r.el),delete this._tiles[t],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){pe(t,"leaflet-tile");var r=this.getTileSize();t.style.width=r.x+"px",t.style.height=r.y+"px",t.onselectstart=u,t.onmousemove=u,Wt.ielt9&&this.options.opacity<1&&ti(t,this.options.opacity)},_addTile:function(t,r){var h=this._getTilePos(t),g=this._tileCoordsToKey(t),w=this.createTile(this._wrapCoords(t),k(this._tileReady,this,t));this._initTile(w),this.createTile.length<2&&Bt(k(this._tileReady,this,t,null,w)),we(w,h),this._tiles[g]={el:w,coords:t,current:!0},r.appendChild(w),this.fire("tileloadstart",{tile:w,coords:t})},_tileReady:function(t,r,h){r&&this.fire("tileerror",{error:r,tile:h,coords:t});var g=this._tileCoordsToKey(t);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(ti(h.el,0),Tt(this._fadeFrame),this._fadeFrame=Bt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),r||(pe(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Wt.ielt9||!this._map._fadeAnimated?Bt(this._pruneTiles,this):setTimeout(k(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var r=new Pt(this._wrapX?s(t.x,this._wrapX):t.x,this._wrapY?s(t.y,this._wrapY):t.y);return r.z=t.z,r},_pxBoundsToTileRange:function(t){var r=this.getTileSize();return new Ot(t.min.unscaleBy(r).floor(),t.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function bt(t){return new ot(t)}var kt=ot.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,r){this._url=t,r=x(this,r),r.detectRetina&&Wt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,r){return this._url===t&&r===void 0&&(r=!0),this._url=t,r||this.redraw(),this},createTile:function(t,r){var h=document.createElement("img");return he(h,"load",k(this._tileOnLoad,this,r,h)),he(h,"error",k(this._tileOnError,this,r,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(t),h},getTileUrl:function(t){var r={r:Wt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=h),r["-y"]=h}return F(this._url,I(r,this.options))},_tileOnLoad:function(t,r){Wt.ielt9?setTimeout(k(t,this,null,r),0):t(null,r)},_tileOnError:function(t,r,h){var g=this.options.errorTileUrl;g&&r.getAttribute("src")!==g&&(r.src=g),t(h,r)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,r=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(t=r-t),t+g},_getSubdomain:function(t){var r=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var t,r;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(r=this._tiles[t].el,r.onload=u,r.onerror=u,!r.complete)){r.src=U;var h=this._tiles[t].coords;Oe(r),delete this._tiles[t],this.fire("tileabort",{tile:r,coords:h})}},_removeTile:function(t){var r=this._tiles[t];if(r)return r.el.setAttribute("src",U),ot.prototype._removeTile.call(this,t)},_tileReady:function(t,r,h){if(!(!this._map||h&&h.getAttribute("src")===U))return ot.prototype._tileReady.call(this,t,r,h)}});function Rt(t,r){return new kt(t,r)}var Ut=kt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var h=I({},this.defaultWmsParams);for(var g in r)g in this.options||(h[g]=r[g]);r=x(this,r);var w=r.detectRetina&&Wt.retina?2:1,R=this.getTileSize();h.width=R.x*w,h.height=R.y*w,this.wmsParams=h},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,kt.prototype.onAdd.call(this,t)},getTileUrl:function(t){var r=this._tileCoordsToNwSe(t),h=this._crs,g=Kt(h.project(r[0]),h.project(r[1])),w=g.min,R=g.max,et=(this._wmsVersion>=1.3&&this._crs===ln?[w.y,w.x,R.y,R.x]:[w.x,w.y,R.x,R.y]).join(","),at=kt.prototype.getTileUrl.call(this,t);return at+A(this.wmsParams,at,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+et},setParams:function(t,r){return I(this.wmsParams,t),r||this.redraw(),this}});function ie(t,r){return new Ut(t,r)}kt.WMS=Ut,Rt.wms=ie;var Vt=bi.extend({options:{padding:.1},initialize:function(t){x(this,t),e(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,r){var h=this._map.getZoomScale(r,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,r),R=g.multiplyBy(-h).add(w).subtract(this._map._getNewPixelOrigin(t,r));Wt.any3d?si(this._container,R,h):we(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,r=this._map.getSize(),h=this._map.containerPointToLayerPoint(r.multiplyBy(-t)).round();this._bounds=new Ot(h,h.add(r.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ne=Vt.extend({options:{tolerance:0},getEvents:function(){var t=Vt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");he(t,"mousemove",this._onMouseMove,this),he(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Tt(this._redrawRequest),delete this._ctx,Oe(this._container),a(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var r in this._layers)t=this._layers[r],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vt.prototype._update.call(this);var t=this._bounds,r=this._container,h=t.getSize(),g=Wt.retina?2:1;we(r,t.min),r.width=g*h.x,r.height=g*h.y,r.style.width=h.x+"px",r.style.height=h.y+"px",Wt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Vt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[e(t)]=t;var r=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var r=t._order,h=r.next,g=r.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete t._order,delete this._layers[e(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var r=t.options.dashArray.split(/[, ]+/),h=[],g,w;for(w=0;w<r.length;w++){if(g=Number(r[w]),isNaN(g))return;h.push(g)}t.options._dashArray=h}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Bt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var r=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ot,this._redrawBounds.extend(t._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(t._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var r=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,r=this._redrawBounds;if(this._ctx.save(),r){var h=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)t=g.layer,(!r||t._pxBounds&&t._pxBounds.intersects(r))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,r){if(this._drawing){var h,g,w,R,et=t._parts,at=et.length,ct=this._ctx;if(at){for(ct.beginPath(),h=0;h<at;h++){for(g=0,w=et[h].length;g<w;g++)R=et[h][g],ct[g?"lineTo":"moveTo"](R.x,R.y);r&&ct.closePath()}this._fillStroke(ct,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var r=t._point,h=this._ctx,g=Math.max(Math.round(t._radius),1),w=(Math.max(Math.round(t._radiusY),1)||g)/g;w!==1&&(h.save(),h.scale(1,w)),h.beginPath(),h.arc(r.x,r.y/w,g,0,Math.PI*2,!1),w!==1&&h.restore(),this._fillStroke(h,t)}},_fillStroke:function(t,r){var h=r.options;h.fill&&(t.globalAlpha=h.fillOpacity,t.fillStyle=h.fillColor||h.color,t.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(t.setLineDash&&t.setLineDash(r.options&&r.options._dashArray||[]),t.globalAlpha=h.opacity,t.lineWidth=h.weight,t.strokeStyle=h.color,t.lineCap=h.lineCap,t.lineJoin=h.lineJoin,t.stroke())},_onClick:function(t){for(var r=this._map.mouseEventToLayerPoint(t),h,g,w=this._drawFirst;w;w=w.next)h=w.layer,h.options.interactive&&h._containsPoint(r)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,r)}},_handleMouseOut:function(t){var r=this._hoveredLayer;r&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,r){if(!this._mouseHoverThrottled){for(var h,g,w=this._drawFirst;w;w=w.next)h=w.layer,h.options.interactive&&h._containsPoint(r)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(t),g&&(pe(this._container,"leaflet-interactive"),this._fireEvent([g],t,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(k(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,r,h){this._map._fireDOMEvent(r,h||r.type,t)},_bringToFront:function(t){var r=t._order;if(r){var h=r.next,g=r.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(t)}},_bringToBack:function(t){var r=t._order;if(r){var h=r.next,g=r.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)}}});function me(t){return Wt.canvas?new ne(t):null}var Me=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),re={_initContainer:function(){this._container=ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var r=t._container=Me("shape");pe(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",t._path=Me("path"),r.appendChild(t._path),this._updateStyle(t),this._layers[e(t)]=t},_addPath:function(t){var r=t._container;this._container.appendChild(r),t.options.interactive&&t.addInteractiveTarget(r)},_removePath:function(t){var r=t._container;Oe(r),t.removeInteractiveTarget(r),delete this._layers[e(t)]},_updateStyle:function(t){var r=t._stroke,h=t._fill,g=t.options,w=t._container;w.stroked=!!g.stroke,w.filled=!!g.fill,g.stroke?(r||(r=t._stroke=Me("stroke")),w.appendChild(r),r.weight=g.weight+"px",r.color=g.color,r.opacity=g.opacity,g.dashArray?r.dashStyle=H(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=g.lineCap.replace("butt","flat"),r.joinstyle=g.lineJoin):r&&(w.removeChild(r),t._stroke=null),g.fill?(h||(h=t._fill=Me("fill")),w.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(w.removeChild(h),t._fill=null)},_updateCircle:function(t){var r=t._point.round(),h=Math.round(t._radius),g=Math.round(t._radiusY||h);this._setPath(t,t._empty()?"M0 0":"AL "+r.x+","+r.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(t,r){t._path.v=r},_bringToFront:function(t){Bi(t._container)},_bringToBack:function(t){ki(t._container)}},Ze=Wt.vml?Me:Ti,Ke=Vt.extend({_initContainer:function(){this._container=Ze("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ze("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Oe(this._container),a(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vt.prototype._update.call(this);var t=this._bounds,r=t.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,h.setAttribute("width",r.x),h.setAttribute("height",r.y)),we(h,t.min),h.setAttribute("viewBox",[t.min.x,t.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(t){var r=t._path=Ze("path");t.options.className&&pe(r,t.options.className),t.options.interactive&&pe(r,"leaflet-interactive"),this._updateStyle(t),this._layers[e(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Oe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[e(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var r=t._path,h=t.options;r&&(h.stroke?(r.setAttribute("stroke",h.color),r.setAttribute("stroke-opacity",h.opacity),r.setAttribute("stroke-width",h.weight),r.setAttribute("stroke-linecap",h.lineCap),r.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?r.setAttribute("stroke-dasharray",h.dashArray):r.removeAttribute("stroke-dasharray"),h.dashOffset?r.setAttribute("stroke-dashoffset",h.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),h.fill?(r.setAttribute("fill",h.fillColor||h.color),r.setAttribute("fill-opacity",h.fillOpacity),r.setAttribute("fill-rule",h.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(t,r){this._setPath(t,Xt(t._parts,r))},_updateCircle:function(t){var r=t._point,h=Math.max(Math.round(t._radius),1),g=Math.max(Math.round(t._radiusY),1)||h,w="a"+h+","+g+" 0 1,0 ",R=t._empty()?"M0 0":"M"+(r.x-h)+","+r.y+w+h*2+",0 "+w+-h*2+",0 ";this._setPath(t,R)},_setPath:function(t,r){t._path.setAttribute("d",r)},_bringToFront:function(t){Bi(t._path)},_bringToBack:function(t){ki(t._path)}});Wt.vml&&Ke.include(re);function mi(t){return Wt.svg||Wt.vml?new Ke(t):null}Jt.include({getRenderer:function(t){var r=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var r=this._paneRenderers[t];return r===void 0&&(r=this._createRenderer({pane:t}),this._paneRenderers[t]=r),r},_createRenderer:function(t){return this.options.preferCanvas&&me(t)||mi(t)}});var Re=_n.extend({initialize:function(t,r){_n.prototype.initialize.call(this,this._boundsToLatLngs(t),r)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Ft(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Kn(t,r){return new Re(t,r)}Ke.create=Ze,Ke.pointsToPath=Xt,Vi.geometryToLayer=Se,Vi.coordsToLatLng=Li,Vi.coordsToLatLngs=ci,Vi.latLngToCoords=qn,Vi.latLngsToCoords=Vn,Vi.getFeature=Sn,Vi.asFeature=nr,Jt.mergeOptions({boxZoom:!0});var An=Lt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){a(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Oe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pn(),tn(),this._startPoint=this._map.mouseEventToContainerPoint(t),he(document,{contextmenu:st,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ve("div","leaflet-zoom-box",this._container),pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var r=new Ot(this._point,this._startPoint),h=r.getSize();we(this._box,r.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Oe(this._box),Fe(this._container,"leaflet-crosshair")),Qi(),gn(),a(document,{contextmenu:st,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(k(this._resetState,this),0);var r=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",An),Jt.mergeOptions({doubleClickZoom:!0});var _i=Lt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var r=this._map,h=r.getZoom(),g=r.options.zoomDelta,w=t.originalEvent.shiftKey?h-g:h+g;r.options.doubleClickZoom==="center"?r.setZoom(w):r.setZoomAround(t.containerPoint,w)}});Jt.addInitHook("addHandler","doubleClickZoom",_i),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Er=Lt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new qt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fe(this._map._container,"leaflet-grab"),Fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=Ft(this._map.options.maxBounds);this._offsetLimit=Kt(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var r=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(r),this._prunePositions(r)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,r){return t-(t-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;t.x<r.min.x&&(t.x=this._viscousLimit(t.x,r.min.x)),t.y<r.min.y&&(t.y=this._viscousLimit(t.y,r.min.y)),t.x>r.max.x&&(t.x=this._viscousLimit(t.x,r.max.x)),t.y>r.max.y&&(t.y=this._viscousLimit(t.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,r=Math.round(t/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,w=(g-r+h)%t+r-h,R=(g+r+h)%t-r-h,et=Math.abs(w+h)<Math.abs(R+h)?w:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=et},_onDragEnd:function(t){var r=this._map,h=r.options,g=!h.inertia||t.noInertia||this._times.length<2;if(r.fire("dragend",t),g)r.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,et=h.easeLinearity,at=w.multiplyBy(et/R),ct=at.distanceTo([0,0]),Ct=Math.min(h.inertiaMaxSpeed,ct),Ht=at.multiplyBy(Ct/ct),fe=Ct/(h.inertiaDeceleration*et),xe=Ht.multiplyBy(-fe/2).round();!xe.x&&!xe.y?r.fire("moveend"):(xe=r._limitOffset(xe,r.options.maxBounds),Bt(function(){r.panBy(xe,{duration:fe,easeLinearity:et,noMoveStart:!0,animate:!0})}))}}});Jt.addInitHook("addHandler","dragging",Er),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tr=Lt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),he(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),a(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,r=document.documentElement,h=t.scrollTop||r.scrollTop,g=t.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var r=this._panKeys={},h=this.keyCodes,g,w;for(g=0,w=h.left.length;g<w;g++)r[h.left[g]]=[-1*t,0];for(g=0,w=h.right.length;g<w;g++)r[h.right[g]]=[t,0];for(g=0,w=h.down.length;g<w;g++)r[h.down[g]]=[0,t];for(g=0,w=h.up.length;g<w;g++)r[h.up[g]]=[0,-1*t]},_setZoomDelta:function(t){var r=this._zoomKeys={},h=this.keyCodes,g,w;for(g=0,w=h.zoomIn.length;g<w;g++)r[h.zoomIn[g]]=t;for(g=0,w=h.zoomOut.length;g<w;g++)r[h.zoomOut[g]]=-t},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){a(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=t.keyCode,h=this._map,g;if(r in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[r],t.shiftKey&&(g=Gt(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(Gt(g),h.options.maxBounds)),h.options.worldCopyJump){var w=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(w)}else h.panBy(g)}else if(r in this._zoomKeys)h.setZoom(h.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;st(t)}}});Jt.addInitHook("addHandler","keyboard",Tr),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sr=Lt.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){a(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var r=zt(t),h=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(k(this._performZoom,this),g),st(t)},_performZoom:function(){var t=this._map,r=t.getZoom(),h=this._map.options.zoomSnap||0;t._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,R=h?Math.ceil(w/h)*h:w,et=t._limitZoom(r+(this._delta>0?R:-R))-r;this._delta=0,this._startTime=null,et&&(t.options.scrollWheelZoom==="center"?t.setZoom(r+et):t.setZoomAround(this._lastMousePos,r+et))}});Jt.addInitHook("addHandler","scrollWheelZoom",Sr);var qr=600;Jt.mergeOptions({tapHold:Wt.touchNative&&Wt.safari&&Wt.mobile,tapTolerance:15});var Dr=Lt.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){a(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var r=t.touches[0];this._startPos=this._newPos=new Pt(r.clientX,r.clientY),this._holdTimeout=setTimeout(k(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",X),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),qr),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){a(document,"touchend",X),a(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),a(document,"touchend touchcancel contextmenu",this._cancel,this),a(document,"touchmove",this._onMove,this)},_onMove:function(t){var r=t.touches[0];this._newPos=new Pt(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,r){var h=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});h._simulated=!0,r.target.dispatchEvent(h)}});Jt.addInitHook("addHandler","tapHold",Dr),Jt.mergeOptions({touchZoom:Wt.touch,bounceAtZoomLimits:!0});var Ar=Lt.extend({addHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),a(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var r=this._map;if(!(!t.touches||t.touches.length!==2||r._animatingZoom||this._zooming)){var h=r.mouseEventToContainerPoint(t.touches[0]),g=r.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),X(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var r=this._map,h=r.mouseEventToContainerPoint(t.touches[0]),g=r.mouseEventToContainerPoint(t.touches[1]),w=h.distanceTo(g)/this._startDist;if(this._zoom=r.getScaleZoom(w,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&w<1||this._zoom>r.getMaxZoom()&&w>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var R=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(w===1&&R.x===0&&R.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),Tt(this._animRequest);var et=k(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Bt(et,this,!0),X(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Tt(this._animRequest),a(document,"touchmove",this._onTouchMove,this),a(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jt.addInitHook("addHandler","touchZoom",Ar),Jt.BoxZoom=An,Jt.DoubleClickZoom=_i,Jt.Drag=Er,Jt.Keyboard=Tr,Jt.ScrollWheelZoom=Sr,Jt.TapHold=Dr,Jt.TouchZoom=Ar,V.Bounds=Ot,V.Browser=Wt,V.CRS=de,V.Canvas=ne,V.Circle=Gn,V.CircleMarker=hn,V.Class=lt,V.Control=l,V.DivIcon=nt,V.DivOverlay=Mi,V.DomEvent=ce,V.DomUtil=ur,V.Draggable=qt,V.Evented=Qt,V.FeatureGroup=Hi,V.GeoJSON=Vi,V.GridLayer=ot,V.Handler=Lt,V.Icon=Tn,V.ImageOverlay=Wn,V.LatLng=Zt,V.LatLngBounds=dt,V.Layer=bi,V.LayerGroup=En,V.LineUtil=gi,V.Map=Jt,V.Marker=ir,V.Mixin=ut,V.Path=un,V.Point=Pt,V.PolyUtil=an,V.Polygon=_n,V.Polyline=oi,V.Popup=Dn,V.PosAnimation=Ce,V.Projection=hr,V.Rectangle=Re,V.Renderer=Vt,V.SVG=Ke,V.SVGOverlay=_r,V.TileLayer=kt,V.Tooltip=N,V.Transformation=Ri,V.Util=Nt,V.VideoOverlay=$n,V.bind=k,V.bounds=Kt,V.canvas=me,V.circle=qi,V.circleMarker=kr,V.control=f,V.divIcon=vt,V.extend=I,V.featureGroup=pr,V.geoJSON=cn,V.geoJson=cr,V.gridLayer=bt,V.icon=xr,V.imageOverlay=or,V.latLng=jt,V.latLngBounds=Ft,V.layerGroup=er,V.map=Ee,V.marker=wr,V.point=Gt,V.polygon=mr,V.polyline=gr,V.popup=Mr,V.rectangle=Kn,V.setOptions=x,V.stamp=e,V.svg=mi,V.svgOverlay=sr,V.tileLayer=Rt,V.tooltip=J,V.transformation=xi,V.version=D,V.videoOverlay=fr;var Vr=window.L;V.noConflict=function(){return window.L=Vr,this},window.L=V})})(no,He);(function(){L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(V,D){D&&L.Util.setOptions(this,D),this._buildContainer(),this._buttons=[];for(var I=0;I<V.length;I++)V[I]._bar=this,V[I]._container=V[I].button,this._buttons.push(V[I]),this.container.appendChild(V[I].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(V){this._map=V;for(var D=0;D<this._buttons.length;D++)this._buttons[D]._map=V;var I=this._container=this.onAdd(V),o=this.getPosition(),k=V._controlCorners[o];return L.DomUtil.addClass(I,"leaflet-control"),o.indexOf("bottom")!==-1?k.insertBefore(I,k.firstChild):k.appendChild(I),this}}),L.easyBar=function(){for(var V=[L.Control.EasyBar],D=0;D<arguments.length;D++)V.push(arguments[D]);return new(Function.prototype.bind.apply(L.Control.EasyBar,V))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(V,D,I,o){this.options.states=[],o!=null&&(this.options.id=o),this.storage={},typeof arguments[arguments.length-1]=="object"&&L.Util.setOptions(this,arguments[arguments.length-1]),this.options.states.length===0&&typeof V=="string"&&typeof D=="function"&&this.options.states.push({icon:V,onClick:D,title:typeof I=="string"?I:""}),this._states=[];for(var k=0;k<this.options.states.length;k++)this._states.push(new be(this.options.states[k],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),this.options.tagName==="button"&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(D){L.DomEvent.stop(D),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),this.options.type=="replace")this.button.appendChild(this._currentState.icon);else for(var V=0;V<this._states.length;V++)this.button.appendChild(this._states[V].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function(V){return arguments.length===0?this._currentState.stateName:(typeof V=="string"?this._activateStateNamed(V):typeof V=="number"&&this._activateState(this._states[V]),this)},_activateStateNamed:function(V){for(var D=0;D<this._states.length;D++)this._states[D].stateName==V&&this._activateState(this._states[D])},_activateState:function(V){if(V!==this._currentState){this.options.type=="replace"&&(this.button.appendChild(V.icon),this.button.removeChild(this._currentState.icon)),V.title?this.button.title=V.title:this.button.removeAttribute("title");for(var D=0;D<this._states.length;D++)L.DomUtil.removeClass(this._states[D].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[D].icon,V.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,V.stateName+"-active"),this._currentState=V}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(V){var D=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=D,this._container=D.container,this._anonymousBar.container},removeFrom:function(V){return this._map===V&&this.remove(),this}}),L.easyButton=function(){var V=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,V))};function be(V,D){this.title=V.title,this.stateName=V.stateName?V.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=Et(V.icon),this.onClick=L.Util.bind(V.onClick?V.onClick:function(){},D)}function Et(V){var D;return V.match(/[&;=<>"']/)?D=V:(V=V.replace(/(^\s*|\s*$)/g,""),D=L.DomUtil.create("span",""),V.indexOf("fa-")===0?L.DomUtil.addClass(D,"fa "+V):V.indexOf("glyphicon-")===0?L.DomUtil.addClass(D,"glyphicon "+V):L.DomUtil.addClass(D,V),D=D.outerHTML),D}})();var zr={},ro={get exports(){return zr},set exports(be){zr=be}};/*!
 * Select2 4.1.0-rc.0
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */(function(be,Et){(function(V){be.exports?be.exports=function(D,I){return I===void 0&&(typeof window<"u"?I=Lr:I=Lr(D)),V(I),I}:V(jQuery)})(function(V){var D=function(){if(V&&V.fn&&V.fn.select2&&V.fn.select2.amd)var o=V.fn.select2.amd;var o;(function(){if(!o||!o.requirejs){o?P=o:o={};/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var k,P,e;(function(n){var s,u,d,_,b={},x={},A={},S={},F=Object.prototype.hasOwnProperty,H=[].slice,z=/\.js$/;function U(lt,Mt){return F.call(lt,Mt)}function p(lt,Mt){var At,Qt,Pt,te,Gt,Ot,Kt,dt,Ft,Zt,jt,de,oe=Mt&&Mt.split("/"),Ie=A.map,qe=Ie&&Ie["*"]||{};if(lt){for(lt=lt.split("/"),Gt=lt.length-1,A.nodeIdCompat&&z.test(lt[Gt])&&(lt[Gt]=lt[Gt].replace(z,"")),lt[0].charAt(0)==="."&&oe&&(de=oe.slice(0,oe.length-1),lt=de.concat(lt)),Ft=0;Ft<lt.length;Ft++)if(jt=lt[Ft],jt===".")lt.splice(Ft,1),Ft-=1;else if(jt===".."){if(Ft===0||Ft===1&&lt[2]===".."||lt[Ft-1]==="..")continue;Ft>0&&(lt.splice(Ft-1,2),Ft-=2)}lt=lt.join("/")}if((oe||qe)&&Ie){for(At=lt.split("/"),Ft=At.length;Ft>0;Ft-=1){if(Qt=At.slice(0,Ft).join("/"),oe){for(Zt=oe.length;Zt>0;Zt-=1)if(Pt=Ie[oe.slice(0,Zt).join("/")],Pt&&(Pt=Pt[Qt],Pt)){te=Pt,Ot=Ft;break}}if(te)break;!Kt&&qe&&qe[Qt]&&(Kt=qe[Qt],dt=Ft)}!te&&Kt&&(te=Kt,Ot=dt),te&&(At.splice(0,Ot,te),lt=At.join("/"))}return lt}function ft(lt,Mt){return function(){var At=H.call(arguments,0);return typeof At[0]!="string"&&At.length===1&&At.push(null),u.apply(n,At.concat([lt,Mt]))}}function xt(lt){return function(Mt){return p(Mt,lt)}}function wt(lt){return function(Mt){b[lt]=Mt}}function St(lt){if(U(x,lt)){var Mt=x[lt];delete x[lt],S[lt]=!0,s.apply(n,Mt)}if(!U(b,lt)&&!U(S,lt))throw new Error("No "+lt);return b[lt]}function Bt(lt){var Mt,At=lt?lt.indexOf("!"):-1;return At>-1&&(Mt=lt.substring(0,At),lt=lt.substring(At+1,lt.length)),[Mt,lt]}function Tt(lt){return lt?Bt(lt):[]}d=function(lt,Mt){var At,Qt=Bt(lt),Pt=Qt[0],te=Mt[1];return lt=Qt[1],Pt&&(Pt=p(Pt,te),At=St(Pt)),Pt?At&&At.normalize?lt=At.normalize(lt,xt(te)):lt=p(lt,te):(lt=p(lt,te),Qt=Bt(lt),Pt=Qt[0],lt=Qt[1],Pt&&(At=St(Pt))),{f:Pt?Pt+"!"+lt:lt,n:lt,pr:Pt,p:At}};function Nt(lt){return function(){return A&&A.config&&A.config[lt]||{}}}_={require:function(lt){return ft(lt)},exports:function(lt){var Mt=b[lt];return typeof Mt<"u"?Mt:b[lt]={}},module:function(lt){return{id:lt,uri:"",exports:b[lt],config:Nt(lt)}}},s=function(lt,Mt,At,Qt){var Pt,te,Gt,Ot,Kt,dt,Ft=[],Zt=typeof At,jt;if(Qt=Qt||lt,dt=Tt(Qt),Zt==="undefined"||Zt==="function"){for(Mt=!Mt.length&&At.length?["require","exports","module"]:Mt,Kt=0;Kt<Mt.length;Kt+=1)if(Ot=d(Mt[Kt],dt),te=Ot.f,te==="require")Ft[Kt]=_.require(lt);else if(te==="exports")Ft[Kt]=_.exports(lt),jt=!0;else if(te==="module")Pt=Ft[Kt]=_.module(lt);else if(U(b,te)||U(x,te)||U(S,te))Ft[Kt]=St(te);else if(Ot.p)Ot.p.load(Ot.n,ft(Qt,!0),wt(te),{}),Ft[Kt]=b[te];else throw new Error(lt+" missing "+te);Gt=At?At.apply(b[lt],Ft):void 0,lt&&(Pt&&Pt.exports!==n&&Pt.exports!==b[lt]?b[lt]=Pt.exports:(Gt!==n||!jt)&&(b[lt]=Gt))}else lt&&(b[lt]=At)},k=P=u=function(lt,Mt,At,Qt,Pt){if(typeof lt=="string")return _[lt]?_[lt](Mt):St(d(lt,Tt(Mt)).f);if(!lt.splice){if(A=lt,A.deps&&u(A.deps,A.callback),!Mt)return;Mt.splice?(lt=Mt,Mt=At,At=null):lt=n}return Mt=Mt||function(){},typeof At=="function"&&(At=Qt,Qt=Pt),Qt?s(n,lt,Mt,At):setTimeout(function(){s(n,lt,Mt,At)},4),u},u.config=function(lt){return u(lt)},k._defined=b,e=function(lt,Mt,At){if(typeof lt!="string")throw new Error("See almond README: incorrect module build, no module name");Mt.splice||(At=Mt,Mt=[]),!U(b,lt)&&!U(x,lt)&&(x[lt]=[lt,Mt,At])},e.amd={jQuery:!0}})(),o.requirejs=k,o.require=P,o.define=e}})(),o.define("almond",function(){}),o.define("jquery",[],function(){var k=V||$;return k==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),k}),o.define("select2/utils",["jquery"],function(k){var P={};P.Extend=function(u,d){var _={}.hasOwnProperty;function b(){this.constructor=u}for(var x in d)_.call(d,x)&&(u[x]=d[x]);return b.prototype=d.prototype,u.prototype=new b,u.__super__=d.prototype,u};function e(u){var d=u.prototype,_=[];for(var b in d){var x=d[b];typeof x=="function"&&b!=="constructor"&&_.push(b)}return _}P.Decorate=function(u,d){var _=e(d),b=e(u);function x(){var p=Array.prototype.unshift,ft=d.prototype.constructor.length,xt=u.prototype.constructor;ft>0&&(p.call(arguments,u.prototype.constructor),xt=d.prototype.constructor),xt.apply(this,arguments)}d.displayName=u.displayName;function A(){this.constructor=x}x.prototype=new A;for(var S=0;S<b.length;S++){var F=b[S];x.prototype[F]=u.prototype[F]}for(var H=function(p){var ft=function(){};p in x.prototype&&(ft=x.prototype[p]);var xt=d.prototype[p];return function(){var wt=Array.prototype.unshift;return wt.call(arguments,ft),xt.apply(this,arguments)}},z=0;z<_.length;z++){var U=_[z];x.prototype[U]=H(U)}return x};var n=function(){this.listeners={}};n.prototype.on=function(u,d){this.listeners=this.listeners||{},u in this.listeners?this.listeners[u].push(d):this.listeners[u]=[d]},n.prototype.trigger=function(u){var d=Array.prototype.slice,_=d.call(arguments,1);this.listeners=this.listeners||{},_==null&&(_=[]),_.length===0&&_.push({}),_[0]._type=u,u in this.listeners&&this.invoke(this.listeners[u],d.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(u,d){for(var _=0,b=u.length;_<b;_++)u[_].apply(this,d)},P.Observable=n,P.generateChars=function(u){for(var d="",_=0;_<u;_++){var b=Math.floor(Math.random()*36);d+=b.toString(36)}return d},P.bind=function(u,d){return function(){u.apply(d,arguments)}},P._convertData=function(u){for(var d in u){var _=d.split("-"),b=u;if(_.length!==1){for(var x=0;x<_.length;x++){var A=_[x];A=A.substring(0,1).toLowerCase()+A.substring(1),A in b||(b[A]={}),x==_.length-1&&(b[A]=u[d]),b=b[A]}delete u[d]}}return u},P.hasScroll=function(u,d){var _=k(d),b=d.style.overflowX,x=d.style.overflowY;return b===x&&(x==="hidden"||x==="visible")?!1:b==="scroll"||x==="scroll"?!0:_.innerHeight()<d.scrollHeight||_.innerWidth()<d.scrollWidth},P.escapeMarkup=function(u){var d={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof u!="string"?u:String(u).replace(/[&<>"'\/\\]/g,function(_){return d[_]})},P.__cache={};var s=0;return P.GetUniqueElementId=function(u){var d=u.getAttribute("data-select2-id");return d!=null||(u.id?d="select2-data-"+u.id:d="select2-data-"+(++s).toString()+"-"+P.generateChars(4),u.setAttribute("data-select2-id",d)),d},P.StoreData=function(u,d,_){var b=P.GetUniqueElementId(u);P.__cache[b]||(P.__cache[b]={}),P.__cache[b][d]=_},P.GetData=function(u,d){var _=P.GetUniqueElementId(u);return d?P.__cache[_]&&P.__cache[_][d]!=null?P.__cache[_][d]:k(u).data(d):P.__cache[_]},P.RemoveData=function(u){var d=P.GetUniqueElementId(u);P.__cache[d]!=null&&delete P.__cache[d],u.removeAttribute("data-select2-id")},P.copyNonInternalCssClasses=function(u,d){var _=u.getAttribute("class").trim().split(/\s+/);_=_.filter(function(A){return A.indexOf("select2-")===0});var b=d.getAttribute("class").trim().split(/\s+/);b=b.filter(function(A){return A.indexOf("select2-")!==0});var x=_.concat(b);u.setAttribute("class",x.join(" "))},P}),o.define("select2/results",["jquery","./utils"],function(k,P){function e(n,s,u){this.$element=n,this.data=u,this.options=s,e.__super__.constructor.call(this)}return P.Extend(e,P.Observable),e.prototype.render=function(){var n=k('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&n.attr("aria-multiselectable","true"),this.$results=n,n},e.prototype.clear=function(){this.$results.empty()},e.prototype.displayMessage=function(n){var s=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var u=k('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),d=this.options.get("translations").get(n.message);u.append(s(d(n.args))),u[0].className+=" select2-results__message",this.$results.append(u)},e.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},e.prototype.append=function(n){this.hideLoading();var s=[];if(n.results==null||n.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}n.results=this.sort(n.results);for(var u=0;u<n.results.length;u++){var d=n.results[u],_=this.option(d);s.push(_)}this.$results.append(s)},e.prototype.position=function(n,s){var u=s.find(".select2-results");u.append(n)},e.prototype.sort=function(n){var s=this.options.get("sorter");return s(n)},e.prototype.highlightFirstItem=function(){var n=this.$results.find(".select2-results__option--selectable"),s=n.filter(".select2-results__option--selected");s.length>0?s.first().trigger("mouseenter"):n.first().trigger("mouseenter"),this.ensureHighlightVisible()},e.prototype.setClasses=function(){var n=this;this.data.current(function(s){var u=s.map(function(_){return _.id.toString()}),d=n.$results.find(".select2-results__option--selectable");d.each(function(){var _=k(this),b=P.GetData(this,"data"),x=""+b.id;b.element!=null&&b.element.selected||b.element==null&&u.indexOf(x)>-1?(this.classList.add("select2-results__option--selected"),_.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),_.attr("aria-selected","false"))})})},e.prototype.showLoading=function(n){this.hideLoading();var s=this.options.get("translations").get("searching"),u={disabled:!0,loading:!0,text:s(n)},d=this.option(u);d.className+=" loading-results",this.$results.prepend(d)},e.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},e.prototype.option=function(n){var s=document.createElement("li");s.classList.add("select2-results__option"),s.classList.add("select2-results__option--selectable");var u={role:"option"},d=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(n.element!=null&&d.call(n.element,":disabled")||n.element==null&&n.disabled)&&(u["aria-disabled"]="true",s.classList.remove("select2-results__option--selectable"),s.classList.add("select2-results__option--disabled")),n.id==null&&s.classList.remove("select2-results__option--selectable"),n._resultId!=null&&(s.id=n._resultId),n.title&&(s.title=n.title),n.children&&(u.role="group",u["aria-label"]=n.text,s.classList.remove("select2-results__option--selectable"),s.classList.add("select2-results__option--group"));for(var _ in u){var b=u[_];s.setAttribute(_,b)}if(n.children){var x=k(s),A=document.createElement("strong");A.className="select2-results__group",this.template(n,A);for(var S=[],F=0;F<n.children.length;F++){var H=n.children[F],z=this.option(H);S.push(z)}var U=k("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});U.append(S),x.append(A),x.append(U)}else this.template(n,s);return P.StoreData(s,"data",n),s},e.prototype.bind=function(n,s){var u=this,d=n.id+"-results";this.$results.attr("id",d),n.on("results:all",function(_){u.clear(),u.append(_.data),n.isOpen()&&(u.setClasses(),u.highlightFirstItem())}),n.on("results:append",function(_){u.append(_.data),n.isOpen()&&u.setClasses()}),n.on("query",function(_){u.hideMessages(),u.showLoading(_)}),n.on("select",function(){n.isOpen()&&(u.setClasses(),u.options.get("scrollAfterSelect")&&u.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(u.setClasses(),u.options.get("scrollAfterSelect")&&u.highlightFirstItem())}),n.on("open",function(){u.$results.attr("aria-expanded","true"),u.$results.attr("aria-hidden","false"),u.setClasses(),u.ensureHighlightVisible()}),n.on("close",function(){u.$results.attr("aria-expanded","false"),u.$results.attr("aria-hidden","true"),u.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var _=u.getHighlightedResults();_.length!==0&&_.trigger("mouseup")}),n.on("results:select",function(){var _=u.getHighlightedResults();if(_.length!==0){var b=P.GetData(_[0],"data");_.hasClass("select2-results__option--selected")?u.trigger("close",{}):u.trigger("select",{data:b})}}),n.on("results:previous",function(){var _=u.getHighlightedResults(),b=u.$results.find(".select2-results__option--selectable"),x=b.index(_);if(!(x<=0)){var A=x-1;_.length===0&&(A=0);var S=b.eq(A);S.trigger("mouseenter");var F=u.$results.offset().top,H=S.offset().top,z=u.$results.scrollTop()+(H-F);A===0?u.$results.scrollTop(0):H-F<0&&u.$results.scrollTop(z)}}),n.on("results:next",function(){var _=u.getHighlightedResults(),b=u.$results.find(".select2-results__option--selectable"),x=b.index(_),A=x+1;if(!(A>=b.length)){var S=b.eq(A);S.trigger("mouseenter");var F=u.$results.offset().top+u.$results.outerHeight(!1),H=S.offset().top+S.outerHeight(!1),z=u.$results.scrollTop()+H-F;A===0?u.$results.scrollTop(0):H>F&&u.$results.scrollTop(z)}}),n.on("results:focus",function(_){_.element[0].classList.add("select2-results__option--highlighted"),_.element[0].setAttribute("aria-selected","true")}),n.on("results:message",function(_){u.displayMessage(_)}),k.fn.mousewheel&&this.$results.on("mousewheel",function(_){var b=u.$results.scrollTop(),x=u.$results.get(0).scrollHeight-b+_.deltaY,A=_.deltaY>0&&b-_.deltaY<=0,S=_.deltaY<0&&x<=u.$results.height();A?(u.$results.scrollTop(0),_.preventDefault(),_.stopPropagation()):S&&(u.$results.scrollTop(u.$results.get(0).scrollHeight-u.$results.height()),_.preventDefault(),_.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(_){var b=k(this),x=P.GetData(this,"data");if(b.hasClass("select2-results__option--selected")){u.options.get("multiple")?u.trigger("unselect",{originalEvent:_,data:x}):u.trigger("close",{});return}u.trigger("select",{originalEvent:_,data:x})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(_){var b=P.GetData(this,"data");u.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),u.trigger("results:focus",{data:b,element:k(this)})})},e.prototype.getHighlightedResults=function(){var n=this.$results.find(".select2-results__option--highlighted");return n},e.prototype.destroy=function(){this.$results.remove()},e.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(n.length!==0){var s=this.$results.find(".select2-results__option--selectable"),u=s.index(n),d=this.$results.offset().top,_=n.offset().top,b=this.$results.scrollTop()+(_-d),x=_-d;b-=n.outerHeight(!1)*2,u<=2?this.$results.scrollTop(0):(x>this.$results.outerHeight()||x<0)&&this.$results.scrollTop(b)}},e.prototype.template=function(n,s){var u=this.options.get("templateResult"),d=this.options.get("escapeMarkup"),_=u(n,s);_==null?s.style.display="none":typeof _=="string"?s.innerHTML=d(_):k(s).append(_)},e}),o.define("select2/keys",[],function(){var k={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return k}),o.define("select2/selection/base",["jquery","../utils","../keys"],function(k,P,e){function n(s,u){this.$element=s,this.options=u,n.__super__.constructor.call(this)}return P.Extend(n,P.Observable),n.prototype.render=function(){var s=k('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,P.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=P.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),s.attr("title",this.$element.attr("title")),s.attr("tabindex",this._tabindex),s.attr("aria-disabled","false"),this.$selection=s,s},n.prototype.bind=function(s,u){var d=this,_=s.id+"-results";this.container=s,this.$selection.on("focus",function(b){d.trigger("focus",b)}),this.$selection.on("blur",function(b){d._handleBlur(b)}),this.$selection.on("keydown",function(b){d.trigger("keypress",b),b.which===e.SPACE&&b.preventDefault()}),s.on("results:focus",function(b){d.$selection.attr("aria-activedescendant",b.data._resultId)}),s.on("selection:update",function(b){d.update(b.data)}),s.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",_),d._attachCloseHandler(s)}),s.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.trigger("focus"),d._detachCloseHandler(s)}),s.on("enable",function(){d.$selection.attr("tabindex",d._tabindex),d.$selection.attr("aria-disabled","false")}),s.on("disable",function(){d.$selection.attr("tabindex","-1"),d.$selection.attr("aria-disabled","true")})},n.prototype._handleBlur=function(s){var u=this;window.setTimeout(function(){document.activeElement==u.$selection[0]||k.contains(u.$selection[0],document.activeElement)||u.trigger("blur",s)},1)},n.prototype._attachCloseHandler=function(s){k(document.body).on("mousedown.select2."+s.id,function(u){var d=k(u.target),_=d.closest(".select2"),b=k(".select2.select2-container--open");b.each(function(){if(this!=_[0]){var x=P.GetData(this,"element");x.select2("close")}})})},n.prototype._detachCloseHandler=function(s){k(document.body).off("mousedown.select2."+s.id)},n.prototype.position=function(s,u){var d=u.find(".selection");d.append(s)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(s){throw new Error("The `update` method must be defined in child classes.")},n.prototype.isEnabled=function(){return!this.isDisabled()},n.prototype.isDisabled=function(){return this.options.get("disabled")},n}),o.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(k,P,e,n){function s(){s.__super__.constructor.apply(this,arguments)}return e.Extend(s,P),s.prototype.render=function(){var u=s.__super__.render.call(this);return u[0].classList.add("select2-selection--single"),u.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),u},s.prototype.bind=function(u,d){var _=this;s.__super__.bind.apply(this,arguments);var b=u.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",b).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",b),this.$selection.attr("aria-controls",b),this.$selection.on("mousedown",function(x){x.which===1&&_.trigger("toggle",{originalEvent:x})}),this.$selection.on("focus",function(x){}),this.$selection.on("blur",function(x){}),u.on("focus",function(x){u.isOpen()||_.$selection.trigger("focus")})},s.prototype.clear=function(){var u=this.$selection.find(".select2-selection__rendered");u.empty(),u.removeAttr("title")},s.prototype.display=function(u,d){var _=this.options.get("templateSelection"),b=this.options.get("escapeMarkup");return b(_(u,d))},s.prototype.selectionContainer=function(){return k("<span></span>")},s.prototype.update=function(u){if(u.length===0){this.clear();return}var d=u[0],_=this.$selection.find(".select2-selection__rendered"),b=this.display(d,_);_.empty().append(b);var x=d.title||d.text;x?_.attr("title",x):_.removeAttr("title")},s}),o.define("select2/selection/multiple",["jquery","./base","../utils"],function(k,P,e){function n(s,u){n.__super__.constructor.apply(this,arguments)}return e.Extend(n,P),n.prototype.render=function(){var s=n.__super__.render.call(this);return s[0].classList.add("select2-selection--multiple"),s.html('<ul class="select2-selection__rendered"></ul>'),s},n.prototype.bind=function(s,u){var d=this;n.__super__.bind.apply(this,arguments);var _=s.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",_),this.$selection.on("click",function(b){d.trigger("toggle",{originalEvent:b})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!d.isDisabled()){var x=k(this),A=x.parent(),S=e.GetData(A[0],"data");d.trigger("unselect",{originalEvent:b,data:S})}}),this.$selection.on("keydown",".select2-selection__choice__remove",function(b){d.isDisabled()||b.stopPropagation()})},n.prototype.clear=function(){var s=this.$selection.find(".select2-selection__rendered");s.empty(),s.removeAttr("title")},n.prototype.display=function(s,u){var d=this.options.get("templateSelection"),_=this.options.get("escapeMarkup");return _(d(s,u))},n.prototype.selectionContainer=function(){var s=k('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>');return s},n.prototype.update=function(s){if(this.clear(),s.length!==0){for(var u=[],d=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",_=0;_<s.length;_++){var b=s[_],x=this.selectionContainer(),A=this.display(b,x),S=d+e.generateChars(4)+"-";b.id?S+=b.id:S+=e.generateChars(4),x.find(".select2-selection__choice__display").append(A).attr("id",S);var F=b.title||b.text;F&&x.attr("title",F);var H=this.options.get("translations").get("removeItem"),z=x.find(".select2-selection__choice__remove");z.attr("title",H()),z.attr("aria-label",H()),z.attr("aria-describedby",S),e.StoreData(x[0],"data",b),u.push(x)}var U=this.$selection.find(".select2-selection__rendered");U.append(u)}},n}),o.define("select2/selection/placeholder",[],function(){function k(P,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),P.call(this,e,n)}return k.prototype.normalizePlaceholder=function(P,e){return typeof e=="string"&&(e={id:"",text:e}),e},k.prototype.createPlaceholder=function(P,e){var n=this.selectionContainer();n.html(this.display(e)),n[0].classList.add("select2-selection__placeholder"),n[0].classList.remove("select2-selection__choice");var s=e.title||e.text||n.text();return this.$selection.find(".select2-selection__rendered").attr("title",s),n},k.prototype.update=function(P,e){var n=e.length==1&&e[0].id!=this.placeholder.id,s=e.length>1;if(s||n)return P.call(this,e);this.clear();var u=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(u)},k}),o.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(k,P,e){function n(){}return n.prototype.bind=function(s,u,d){var _=this;s.call(this,u,d),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(b){_._handleClear(b)}),u.on("keypress",function(b){_._handleKeyboardClear(b,u)})},n.prototype._handleClear=function(s,u){if(!this.isDisabled()){var d=this.$selection.find(".select2-selection__clear");if(d.length!==0){u.stopPropagation();var _=e.GetData(d[0],"data"),b=this.$element.val();this.$element.val(this.placeholder.id);var x={data:_};if(this.trigger("clear",x),x.prevented){this.$element.val(b);return}for(var A=0;A<_.length;A++)if(x={data:_[A]},this.trigger("unselect",x),x.prevented){this.$element.val(b);return}this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(s,u,d){d.isOpen()||(u.which==P.DELETE||u.which==P.BACKSPACE)&&this._handleClear(u)},n.prototype.update=function(s,u){if(s.call(this,u),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||u.length===0)){var d=this.$selection.find(".select2-selection__rendered").attr("id"),_=this.options.get("translations").get("removeAllItems"),b=k('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');b.attr("title",_()),b.attr("aria-label",_()),b.attr("aria-describedby",d),e.StoreData(b[0],"data",u),this.$selection.prepend(b),this.$selection[0].classList.add("select2-selection--clearable")}},n}),o.define("select2/selection/search",["jquery","../utils","../keys"],function(k,P,e){function n(s,u,d){s.call(this,u,d)}return n.prototype.render=function(s){var u=this.options.get("translations").get("search"),d=k('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=d,this.$search=d.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",u());var _=s.call(this);return this._transferTabIndex(),_.append(this.$searchContainer),_},n.prototype.bind=function(s,u,d){var _=this,b=u.id+"-results",x=u.id+"-container";s.call(this,u,d),_.$search.attr("aria-describedby",x),u.on("open",function(){_.$search.attr("aria-controls",b),_.$search.trigger("focus")}),u.on("close",function(){_.$search.val(""),_.resizeSearch(),_.$search.removeAttr("aria-controls"),_.$search.removeAttr("aria-activedescendant"),_.$search.trigger("focus")}),u.on("enable",function(){_.$search.prop("disabled",!1),_._transferTabIndex()}),u.on("disable",function(){_.$search.prop("disabled",!0)}),u.on("focus",function(F){_.$search.trigger("focus")}),u.on("results:focus",function(F){F.data._resultId?_.$search.attr("aria-activedescendant",F.data._resultId):_.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(F){_.trigger("focus",F)}),this.$selection.on("focusout",".select2-search--inline",function(F){_._handleBlur(F)}),this.$selection.on("keydown",".select2-search--inline",function(F){F.stopPropagation(),_.trigger("keypress",F),_._keyUpPrevented=F.isDefaultPrevented();var H=F.which;if(H===e.BACKSPACE&&_.$search.val()===""){var z=_.$selection.find(".select2-selection__choice").last();if(z.length>0){var U=P.GetData(z[0],"data");_.searchRemoveChoice(U),F.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(F){_.$search.val()&&F.stopPropagation()});var A=document.documentMode,S=A&&A<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(F){if(S){_.$selection.off("input.search input.searchcheck");return}_.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(F){if(S&&F.type==="input"){_.$selection.off("input.search input.searchcheck");return}var H=F.which;H==e.SHIFT||H==e.CTRL||H==e.ALT||H!=e.TAB&&_.handleSearch(F)})},n.prototype._transferTabIndex=function(s){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(s,u){this.$search.attr("placeholder",u.text)},n.prototype.update=function(s,u){var d=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),s.call(this,u),this.resizeSearch(),d&&this.$search.trigger("focus")},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var s=this.$search.val();this.trigger("query",{term:s})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(s,u){this.trigger("unselect",{data:u}),this.$search.val(u.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var s="100%";if(this.$search.attr("placeholder")===""){var u=this.$search.val().length+1;s=u*.75+"em"}this.$search.css("width",s)},n}),o.define("select2/selection/selectionCss",["../utils"],function(k){function P(){}return P.prototype.render=function(e){var n=e.call(this),s=this.options.get("selectionCssClass")||"";return s.indexOf(":all:")!==-1&&(s=s.replace(":all:",""),k.copyNonInternalCssClasses(n[0],this.$element[0])),n.addClass(s),n},P}),o.define("select2/selection/eventRelay",["jquery"],function(k){function P(){}return P.prototype.bind=function(e,n,s){var u=this,d=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],_=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,s),n.on("*",function(b,x){if(d.indexOf(b)!==-1){x=x||{};var A=k.Event("select2:"+b,{params:x});u.$element.trigger(A),_.indexOf(b)!==-1&&(x.prevented=A.isDefaultPrevented())}})},P}),o.define("select2/translation",["jquery","require"],function(k,P){function e(n){this.dict=n||{}}return e.prototype.all=function(){return this.dict},e.prototype.get=function(n){return this.dict[n]},e.prototype.extend=function(n){this.dict=k.extend({},n.all(),this.dict)},e._cache={},e.loadPath=function(n){if(!(n in e._cache)){var s=P(n);e._cache[n]=s}return new e(e._cache[n])},e}),o.define("select2/diacritics",[],function(){var k={"â¶":"A",ï¼¡:"A",Ã:"A",Ã:"A",Ã:"A",áº¦:"A",áº¤:"A",áºª:"A",áº¨:"A",Ã:"A",Ä:"A",Ä:"A",áº°:"A",áº®:"A",áº´:"A",áº²:"A",È¦:"A",Ç :"A",Ã:"A",Ç:"A",áº¢:"A",Ã:"A",Çº:"A",Ç:"A",È:"A",È:"A",áº :"A",áº¬:"A",áº¶:"A",á¸:"A",Ä:"A","Èº":"A","â±¯":"A","ê²":"AA",Ã:"AE",Ç¼:"AE",Ç¢:"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B",ï¼¢:"B",á¸:"B",á¸:"B",á¸:"B","É":"B",Æ:"B",Æ:"B","â¸":"C",ï¼£:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ã:"C",á¸:"C",Æ:"C","È»":"C","ê¾":"C","â¹":"D",ï¼¤:"D",á¸:"D",Ä:"D",á¸:"D",á¸:"D",á¸:"D",á¸:"D",Ä:"D",Æ:"D",Æ:"D",Æ:"D","ê¹":"D",Ç±:"DZ",Ç:"DZ",Ç²:"Dz",Ç:"Dz","âº":"E",ï¼¥:"E",Ã:"E",Ã:"E",Ã:"E",á»:"E",áº¾:"E",á»:"E",á»:"E",áº¼:"E",Ä:"E",á¸:"E",á¸:"E",Ä:"E",Ä:"E",Ã:"E",áºº:"E",Ä:"E",È:"E",È:"E",áº¸:"E",á»:"E",È¨:"E",á¸:"E",Ä:"E",á¸:"E",á¸:"E",Æ:"E",Æ:"E","â»":"F",ï¼¦:"F",á¸:"F",Æ:"F","ê»":"F","â¼":"G",ï¼§:"G",Ç´:"G",Ä:"G",á¸ :"G",Ä:"G",Ä :"G",Ç¦:"G",Ä¢:"G",Ç¤:"G",Æ:"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H",ï¼¨:"H",Ä¤:"H",á¸¢:"H",á¸¦:"H",È:"H",á¸¤:"H",á¸¨:"H",á¸ª:"H",Ä¦:"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I",ï¼©:"I",Ã:"I",Ã:"I",Ã:"I",Ä¨:"I",Äª:"I",Ä¬:"I",Ä°:"I",Ã:"I",á¸®:"I",á»:"I",Ç:"I",È:"I",È:"I",á»:"I",Ä®:"I",á¸¬:"I",Æ:"I","â¿":"J",ï¼ª:"J",Ä´:"J","É":"J","â":"K",ï¼«:"K",á¸°:"K",Ç¨:"K",á¸²:"K",Ä¶:"K",á¸´:"K",Æ:"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L",ï¼¬:"L",Ä¿:"L",Ä¹:"L",Ä½:"L",á¸¶:"L",á¸¸:"L",Ä»:"L",á¸¼:"L",á¸º:"L",Å:"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L",Ç:"LJ",Ç:"Lj","â":"M",ï¼­:"M",á¸¾:"M",á¹:"M",á¹:"M","â±®":"M",Æ:"M","â":"N",ï¼®:"N",Ç¸:"N",Å:"N",Ã:"N",á¹:"N",Å:"N",á¹:"N",Å:"N",á¹:"N",á¹:"N","È ":"N",Æ:"N","ê":"N","ê¤":"N",Ç:"NJ",Ç:"Nj","â":"O",ï¼¯:"O",Ã:"O",Ã:"O",Ã:"O",á»:"O",á»:"O",á»:"O",á»:"O",Ã:"O",á¹:"O",È¬:"O",á¹:"O",Å:"O",á¹:"O",á¹:"O",Å:"O",È®:"O",È°:"O",Ã:"O",Èª:"O",á»:"O",Å:"O",Ç:"O",È:"O",È:"O",Æ :"O",á»:"O",á»:"O",á» :"O",á»:"O",á»¢:"O",á»:"O",á»:"O",Çª:"O",Ç¬:"O",Ã:"O",Ç¾:"O",Æ:"O",Æ:"O","ê":"O","ê":"O",Å:"OE",Æ¢:"OI","ê":"OO",È¢:"OU","â":"P",ï¼°:"P",á¹:"P",á¹:"P",Æ¤:"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q",ï¼±:"Q","ê":"Q","ê":"Q","É":"Q","â":"R",ï¼²:"R",Å:"R",á¹:"R",Å:"R",È:"R",È:"R",á¹:"R",á¹:"R",Å:"R",á¹:"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S",ï¼³:"S","áº":"S",Å:"S",á¹¤:"S",Å:"S",á¹ :"S",Å :"S",á¹¦:"S",á¹¢:"S",á¹¨:"S",È:"S",Å:"S","â±¾":"S","ê¨":"S","ê":"S","â":"T",ï¼´:"T",á¹ª:"T",Å¤:"T",á¹¬:"T",È:"T",Å¢:"T",á¹°:"T",á¹®:"T",Å¦:"T",Æ¬:"T",Æ®:"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U",ï¼µ:"U",Ã:"U",Ã:"U",Ã:"U",Å¨:"U",á¹¸:"U",Åª:"U",á¹º:"U",Å¬:"U",Ã:"U",Ç:"U",Ç:"U",Ç:"U",Ç:"U",á»¦:"U",Å®:"U",Å°:"U",Ç:"U",È:"U",È:"U",Æ¯:"U",á»ª:"U",á»¨:"U",á»®:"U",á»¬:"U",á»°:"U",á»¤:"U",á¹²:"U",Å²:"U",á¹¶:"U",á¹´:"U","É":"U","â":"V",ï¼¶:"V",á¹¼:"V",á¹¾:"V",Æ²:"V","ê":"V","É":"V","ê ":"VY","â":"W",ï¼·:"W",áº:"W",áº:"W",Å´:"W",áº:"W",áº:"W",áº:"W","â±²":"W","â":"X",ï¼¸:"X",áº:"X",áº:"X","â":"Y",ï¼¹:"Y",á»²:"Y",Ã:"Y",Å¶:"Y",á»¸:"Y",È²:"Y",áº:"Y",Å¸:"Y",á»¶:"Y",á»´:"Y",Æ³:"Y","É":"Y","á»¾":"Y","â":"Z",ï¼º:"Z",Å¹:"Z",áº:"Z",Å»:"Z",Å½:"Z",áº:"Z",áº:"Z",Æµ:"Z",È¤:"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a",ï½:"a",áº:"a",Ã :"a",Ã¡:"a",Ã¢:"a",áº§:"a",áº¥:"a",áº«:"a",áº©:"a",Ã£:"a",Ä:"a",Ä:"a",áº±:"a",áº¯:"a",áºµ:"a",áº³:"a",È§:"a",Ç¡:"a",Ã¤:"a",Ç:"a",áº£:"a",Ã¥:"a",Ç»:"a",Ç:"a",È:"a",È:"a",áº¡:"a",áº­:"a",áº·:"a",á¸:"a",Ä:"a","â±¥":"a",É:"a","ê³":"aa",Ã¦:"ae",Ç½:"ae",Ç£:"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b",ï½:"b",á¸:"b",á¸:"b",á¸:"b",Æ:"b",Æ:"b",É:"b","â":"c",ï½:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ã§:"c",á¸:"c",Æ:"c","È¼":"c","ê¿":"c","â":"c","â":"d",ï½:"d",á¸:"d",Ä:"d",á¸:"d",á¸:"d",á¸:"d",á¸:"d",Ä:"d",Æ:"d",É:"d",É:"d","êº":"d",Ç³:"dz",Ç:"dz","â":"e",ï½:"e",Ã¨:"e",Ã©:"e",Ãª:"e",á»:"e",áº¿:"e",á»:"e",á»:"e",áº½:"e",Ä:"e",á¸:"e",á¸:"e",Ä:"e",Ä:"e",Ã«:"e",áº»:"e",Ä:"e",È:"e",È:"e",áº¹:"e",á»:"e",È©:"e",á¸:"e",Ä:"e",á¸:"e",á¸:"e","É":"e",É:"e",Ç:"e","â":"f",ï½:"f",á¸:"f",Æ:"f","ê¼":"f","â":"g",ï½:"g",Çµ:"g",Ä:"g",á¸¡:"g",Ä:"g",Ä¡:"g",Ç§:"g",Ä£:"g",Ç¥:"g",É :"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h",ï½:"h",Ä¥:"h",á¸£:"h",á¸§:"h",È:"h",á¸¥:"h",á¸©:"h",á¸«:"h",áº:"h",Ä§:"h","â±¨":"h","â±¶":"h",É¥:"h",Æ:"hv","â":"i",ï½:"i",Ã¬:"i",Ã­:"i",Ã®:"i",Ä©:"i",Ä«:"i",Ä­:"i",Ã¯:"i",á¸¯:"i",á»:"i",Ç:"i",È:"i",È:"i",á»:"i",Ä¯:"i",á¸­:"i",É¨:"i",Ä±:"i","â":"j",ï½:"j",Äµ:"j",Ç°:"j","É":"j","â":"k",ï½:"k",á¸±:"k",Ç©:"k",á¸³:"k",Ä·:"k",á¸µ:"k",Æ:"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l",ï½:"l",Å:"l",Äº:"l",Ä¾:"l",á¸·:"l",á¸¹:"l",Ä¼:"l",á¸½:"l",á¸»:"l",Å¿:"l",Å:"l",Æ:"l",É«:"l","â±¡":"l","ê":"l","ê":"l","ê":"l",Ç:"lj","â":"m",ï½:"m",á¸¿:"m",á¹:"m",á¹:"m",É±:"m",É¯:"m","â":"n",ï½:"n",Ç¹:"n",Å:"n",Ã±:"n",á¹:"n",Å:"n",á¹:"n",Å:"n",á¹:"n",á¹:"n",Æ:"n",É²:"n",Å:"n","ê":"n","ê¥":"n",Ç:"nj","â":"o",ï½:"o",Ã²:"o",Ã³:"o",Ã´:"o",á»:"o",á»:"o",á»:"o",á»:"o",Ãµ:"o",á¹:"o",È­:"o",á¹:"o",Å:"o",á¹:"o",á¹:"o",Å:"o",È¯:"o",È±:"o",Ã¶:"o",È«:"o",á»:"o",Å:"o",Ç:"o",È:"o",È:"o",Æ¡:"o",á»:"o",á»:"o",á»¡:"o",á»:"o",á»£:"o",á»:"o",á»:"o",Ç«:"o",Ç­:"o",Ã¸:"o",Ç¿:"o",É:"o","ê":"o","ê":"o",Éµ:"o",Å:"oe",Æ£:"oi",È£:"ou","ê":"oo","â":"p",ï½:"p",á¹:"p",á¹:"p",Æ¥:"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q",ï½:"q","É":"q","ê":"q","ê":"q","â¡":"r",ï½:"r",Å:"r",á¹:"r",Å:"r",È:"r",È:"r",á¹:"r",á¹:"r",Å:"r",á¹:"r","É":"r",É½:"r","ê":"r","ê§":"r","ê":"r","â¢":"s",ï½:"s",Ã:"s",Å:"s",á¹¥:"s",Å:"s",á¹¡:"s",Å¡:"s",á¹§:"s",á¹£:"s",á¹©:"s",È:"s",Å:"s","È¿":"s","ê©":"s","ê":"s",áº:"s","â£":"t",ï½:"t",á¹«:"t",áº:"t",Å¥:"t",á¹­:"t",È:"t",Å£:"t",á¹±:"t",á¹¯:"t",Å§:"t",Æ­:"t",Ê:"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u",ï½:"u",Ã¹:"u",Ãº:"u",Ã»:"u",Å©:"u",á¹¹:"u",Å«:"u",á¹»:"u",Å­:"u",Ã¼:"u",Ç:"u",Ç:"u",Ç:"u",Ç:"u",á»§:"u",Å¯:"u",Å±:"u",Ç:"u",È:"u",È:"u",Æ°:"u",á»«:"u",á»©:"u",á»¯:"u",á»­:"u",á»±:"u",á»¥:"u",á¹³:"u",Å³:"u",á¹·:"u",á¹µ:"u",Ê:"u","â¥":"v",ï½:"v",á¹½:"v",á¹¿:"v",Ê:"v","ê":"v",Ê:"v","ê¡":"vy","â¦":"w",ï½:"w",áº:"w",áº:"w",Åµ:"w",áº:"w",áº:"w",áº:"w",áº:"w","â±³":"w","â§":"x",ï½:"x",áº:"x",áº:"x","â¨":"y",ï½:"y",á»³:"y",Ã½:"y",Å·:"y",á»¹:"y",È³:"y",áº:"y",Ã¿:"y",á»·:"y",áº:"y",á»µ:"y",Æ´:"y","É":"y","á»¿":"y","â©":"z",ï½:"z",Åº:"z",áº:"z",Å¼:"z",Å¾:"z",áº:"z",áº:"z",Æ¶:"z",È¥:"z","É":"z","â±¬":"z","ê£":"z",Î:"Î",Î:"Î",Î:"Î",Î:"Î",Îª:"Î",Î:"Î",Î:"Î¥",Î«:"Î¥",Î:"Î©",Î¬:"Î±",Î­:"Îµ",Î®:"Î·",Î¯:"Î¹",Ï:"Î¹",Î:"Î¹",Ï:"Î¿",Ï:"Ï",Ï:"Ï",Î°:"Ï",Ï:"Ï",Ï:"Ï","â":"'"};return k}),o.define("select2/data/base",["../utils"],function(k){function P(e,n){P.__super__.constructor.call(this)}return k.Extend(P,k.Observable),P.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},P.prototype.query=function(e,n){throw new Error("The `query` method must be defined in child classes.")},P.prototype.bind=function(e,n){},P.prototype.destroy=function(){},P.prototype.generateResultId=function(e,n){var s=e.id+"-result-";return s+=k.generateChars(4),n.id!=null?s+="-"+n.id.toString():s+="-"+k.generateChars(4),s},P}),o.define("select2/data/select",["./base","../utils","jquery"],function(k,P,e){function n(s,u){this.$element=s,this.options=u,n.__super__.constructor.call(this)}return P.Extend(n,k),n.prototype.current=function(s){var u=this,d=Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(_){return u.item(e(_))});s(d)},n.prototype.select=function(s){var u=this;if(s.selected=!0,s.element!=null&&s.element.tagName.toLowerCase()==="option"){s.element.selected=!0,this.$element.trigger("input").trigger("change");return}if(this.$element.prop("multiple"))this.current(function(_){var b=[];s=[s],s.push.apply(s,_);for(var x=0;x<s.length;x++){var A=s[x].id;b.indexOf(A)===-1&&b.push(A)}u.$element.val(b),u.$element.trigger("input").trigger("change")});else{var d=s.id;this.$element.val(d),this.$element.trigger("input").trigger("change")}},n.prototype.unselect=function(s){var u=this;if(this.$element.prop("multiple")){if(s.selected=!1,s.element!=null&&s.element.tagName.toLowerCase()==="option"){s.element.selected=!1,this.$element.trigger("input").trigger("change");return}this.current(function(d){for(var _=[],b=0;b<d.length;b++){var x=d[b].id;x!==s.id&&_.indexOf(x)===-1&&_.push(x)}u.$element.val(_),u.$element.trigger("input").trigger("change")})}},n.prototype.bind=function(s,u){var d=this;this.container=s,s.on("select",function(_){d.select(_.data)}),s.on("unselect",function(_){d.unselect(_.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){P.RemoveData(this)})},n.prototype.query=function(s,u){var d=[],_=this,b=this.$element.children();b.each(function(){if(!(this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup")){var x=e(this),A=_.item(x),S=_.matches(s,A);S!==null&&d.push(S)}}),u({results:d})},n.prototype.addOptions=function(s){this.$element.append(s)},n.prototype.option=function(s){var u;s.children?(u=document.createElement("optgroup"),u.label=s.text):(u=document.createElement("option"),u.textContent!==void 0?u.textContent=s.text:u.innerText=s.text),s.id!==void 0&&(u.value=s.id),s.disabled&&(u.disabled=!0),s.selected&&(u.selected=!0),s.title&&(u.title=s.title);var d=this._normalizeItem(s);return d.element=u,P.StoreData(u,"data",d),e(u)},n.prototype.item=function(s){var u={};if(u=P.GetData(s[0],"data"),u!=null)return u;var d=s[0];if(d.tagName.toLowerCase()==="option")u={id:s.val(),text:s.text(),disabled:s.prop("disabled"),selected:s.prop("selected"),title:s.prop("title")};else if(d.tagName.toLowerCase()==="optgroup"){u={text:s.prop("label"),children:[],title:s.prop("title")};for(var _=s.children("option"),b=[],x=0;x<_.length;x++){var A=e(_[x]),S=this.item(A);b.push(S)}u.children=b}return u=this._normalizeItem(u),u.element=s[0],P.StoreData(s[0],"data",u),u},n.prototype._normalizeItem=function(s){s!==Object(s)&&(s={id:s,text:s}),s=e.extend({},{text:""},s);var u={selected:!1,disabled:!1};return s.id!=null&&(s.id=s.id.toString()),s.text!=null&&(s.text=s.text.toString()),s._resultId==null&&s.id&&this.container!=null&&(s._resultId=this.generateResultId(this.container,s)),e.extend({},u,s)},n.prototype.matches=function(s,u){var d=this.options.get("matcher");return d(s,u)},n}),o.define("select2/data/array",["./select","../utils","jquery"],function(k,P,e){function n(s,u){this._dataToConvert=u.get("data")||[],n.__super__.constructor.call(this,s,u)}return P.Extend(n,k),n.prototype.bind=function(s,u){n.__super__.bind.call(this,s,u),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(s){var u=this.$element.find("option").filter(function(d,_){return _.value==s.id.toString()});u.length===0&&(u=this.option(s),this.addOptions(u)),n.__super__.select.call(this,s)},n.prototype.convertToOptions=function(s){var u=this,d=this.$element.find("option"),_=d.map(function(){return u.item(e(this)).id}).get(),b=[];function x(xt){return function(){return e(this).val()==xt.id}}for(var A=0;A<s.length;A++){var S=this._normalizeItem(s[A]);if(_.indexOf(S.id)>=0){var F=d.filter(x(S)),H=this.item(F),z=e.extend(!0,{},S,H),U=this.option(z);F.replaceWith(U);continue}var p=this.option(S);if(S.children){var ft=this.convertToOptions(S.children);p.append(ft)}b.push(p)}return b},n}),o.define("select2/data/ajax",["./array","../utils","jquery"],function(k,P,e){function n(s,u){this.ajaxOptions=this._applyDefaults(u.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,s,u)}return P.Extend(n,k),n.prototype._applyDefaults=function(s){var u={data:function(d){return e.extend({},d,{q:d.term})},transport:function(d,_,b){var x=e.ajax(d);return x.then(_),x.fail(b),x}};return e.extend({},u,s,!0)},n.prototype.processResults=function(s){return s},n.prototype.query=function(s,u){var d=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var _=e.extend({type:"GET"},this.ajaxOptions);typeof _.url=="function"&&(_.url=_.url.call(this.$element,s)),typeof _.data=="function"&&(_.data=_.data.call(this.$element,s));function b(){var x=_.transport(_,function(A){var S=d.processResults(A,s);d.options.get("debug")&&window.console&&console.error&&(!S||!S.results||!Array.isArray(S.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),u(S)},function(){"status"in x&&(x.status===0||x.status==="0")||d.trigger("results:message",{message:"errorLoading"})});d._request=x}this.ajaxOptions.delay&&s.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(b,this.ajaxOptions.delay)):b()},n}),o.define("select2/data/tags",["jquery"],function(k){function P(e,n,s){var u=s.get("tags"),d=s.get("createTag");d!==void 0&&(this.createTag=d);var _=s.get("insertTag");if(_!==void 0&&(this.insertTag=_),e.call(this,n,s),Array.isArray(u))for(var b=0;b<u.length;b++){var x=u[b],A=this._normalizeItem(x),S=this.option(A);this.$element.append(S)}}return P.prototype.query=function(e,n,s){var u=this;if(this._removeOldTags(),n.term==null||n.page!=null){e.call(this,n,s);return}function d(_,b){for(var x=_.results,A=0;A<x.length;A++){var S=x[A],F=S.children!=null&&!d({results:S.children},!0),H=(S.text||"").toUpperCase(),z=(n.term||"").toUpperCase(),U=H===z;if(U||F){if(b)return!1;_.data=x,s(_);return}}if(b)return!0;var p=u.createTag(n);if(p!=null){var ft=u.option(p);ft.attr("data-select2-tag","true"),u.addOptions([ft]),u.insertTag(x,p)}_.results=x,s(_)}e.call(this,n,d)},P.prototype.createTag=function(e,n){if(n.term==null)return null;var s=n.term.trim();return s===""?null:{id:s,text:s}},P.prototype.insertTag=function(e,n,s){n.unshift(s)},P.prototype._removeOldTags=function(e){var n=this.$element.find("option[data-select2-tag]");n.each(function(){this.selected||k(this).remove()})},P}),o.define("select2/data/tokenizer",["jquery"],function(k){function P(e,n,s){var u=s.get("tokenizer");u!==void 0&&(this.tokenizer=u),e.call(this,n,s)}return P.prototype.bind=function(e,n,s){e.call(this,n,s),this.$search=n.dropdown.$search||n.selection.$search||s.find(".select2-search__field")},P.prototype.query=function(e,n,s){var u=this;function d(x){var A=u._normalizeItem(x),S=u.$element.find("option").filter(function(){return k(this).val()===A.id});if(!S.length){var F=u.option(A);F.attr("data-select2-tag",!0),u._removeOldTags(),u.addOptions([F])}_(A)}function _(x){u.trigger("select",{data:x})}n.term=n.term||"";var b=this.tokenizer(n,this.options,d);b.term!==n.term&&(this.$search.length&&(this.$search.val(b.term),this.$search.trigger("focus")),n.term=b.term),e.call(this,n,s)},P.prototype.tokenizer=function(e,n,s,u){for(var d=s.get("tokenSeparators")||[],_=n.term,b=0,x=this.createTag||function(z){return{id:z.term,text:z.term}};b<_.length;){var A=_[b];if(d.indexOf(A)===-1){b++;continue}var S=_.substr(0,b),F=k.extend({},n,{term:S}),H=x(F);if(H==null){b++;continue}u(H),_=_.substr(b+1)||"",b=0}return{term:_}},P}),o.define("select2/data/minimumInputLength",[],function(){function k(P,e,n){this.minimumInputLength=n.get("minimumInputLength"),P.call(this,e,n)}return k.prototype.query=function(P,e,n){if(e.term=e.term||"",e.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}});return}P.call(this,e,n)},k}),o.define("select2/data/maximumInputLength",[],function(){function k(P,e,n){this.maximumInputLength=n.get("maximumInputLength"),P.call(this,e,n)}return k.prototype.query=function(P,e,n){if(e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}});return}P.call(this,e,n)},k}),o.define("select2/data/maximumSelectionLength",[],function(){function k(P,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),P.call(this,e,n)}return k.prototype.bind=function(P,e,n){var s=this;P.call(this,e,n),e.on("select",function(){s._checkIfMaximumSelected()})},k.prototype.query=function(P,e,n){var s=this;this._checkIfMaximumSelected(function(){P.call(s,e,n)})},k.prototype._checkIfMaximumSelected=function(P,e){var n=this;this.current(function(s){var u=s!=null?s.length:0;if(n.maximumSelectionLength>0&&u>=n.maximumSelectionLength){n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}});return}e&&e()})},k}),o.define("select2/dropdown",["jquery","./utils"],function(k,P){function e(n,s){this.$element=n,this.options=s,e.__super__.constructor.call(this)}return P.Extend(e,P.Observable),e.prototype.render=function(){var n=k('<span class="select2-dropdown"><span class="select2-results"></span></span>');return n.attr("dir",this.options.get("dir")),this.$dropdown=n,n},e.prototype.bind=function(){},e.prototype.position=function(n,s){},e.prototype.destroy=function(){this.$dropdown.remove()},e}),o.define("select2/dropdown/search",["jquery"],function(k){function P(){}return P.prototype.render=function(e){var n=e.call(this),s=this.options.get("translations").get("search"),u=k('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=u,this.$search=u.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",s()),n.prepend(u),n},P.prototype.bind=function(e,n,s){var u=this,d=n.id+"-results";e.call(this,n,s),this.$search.on("keydown",function(_){u.trigger("keypress",_),u._keyUpPrevented=_.isDefaultPrevented()}),this.$search.on("input",function(_){k(this).off("keyup")}),this.$search.on("keyup input",function(_){u.handleSearch(_)}),n.on("open",function(){u.$search.attr("tabindex",0),u.$search.attr("aria-controls",d),u.$search.trigger("focus"),window.setTimeout(function(){u.$search.trigger("focus")},0)}),n.on("close",function(){u.$search.attr("tabindex",-1),u.$search.removeAttr("aria-controls"),u.$search.removeAttr("aria-activedescendant"),u.$search.val(""),u.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||u.$search.trigger("focus")}),n.on("results:all",function(_){if(_.query.term==null||_.query.term===""){var b=u.showSearch(_);b?u.$searchContainer[0].classList.remove("select2-search--hide"):u.$searchContainer[0].classList.add("select2-search--hide")}}),n.on("results:focus",function(_){_.data._resultId?u.$search.attr("aria-activedescendant",_.data._resultId):u.$search.removeAttr("aria-activedescendant")})},P.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},P.prototype.showSearch=function(e,n){return!0},P}),o.define("select2/dropdown/hidePlaceholder",[],function(){function k(P,e,n,s){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),P.call(this,e,n,s)}return k.prototype.append=function(P,e){e.results=this.removePlaceholder(e.results),P.call(this,e)},k.prototype.normalizePlaceholder=function(P,e){return typeof e=="string"&&(e={id:"",text:e}),e},k.prototype.removePlaceholder=function(P,e){for(var n=e.slice(0),s=e.length-1;s>=0;s--){var u=e[s];this.placeholder.id===u.id&&n.splice(s,1)}return n},k}),o.define("select2/dropdown/infiniteScroll",["jquery"],function(k){function P(e,n,s,u){this.lastParams={},e.call(this,n,s,u),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return P.prototype.append=function(e,n){this.$loadingMore.remove(),this.loading=!1,e.call(this,n),this.showLoadingMore(n)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},P.prototype.bind=function(e,n,s){var u=this;e.call(this,n,s),n.on("query",function(d){u.lastParams=d,u.loading=!0}),n.on("query:append",function(d){u.lastParams=d,u.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},P.prototype.loadMoreIfNeeded=function(){var e=k.contains(document.documentElement,this.$loadingMore[0]);if(!(this.loading||!e)){var n=this.$results.offset().top+this.$results.outerHeight(!1),s=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);n+50>=s&&this.loadMore()}},P.prototype.loadMore=function(){this.loading=!0;var e=k.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},P.prototype.showLoadingMore=function(e,n){return n.pagination&&n.pagination.more},P.prototype.createLoadingMore=function(){var e=k('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},P}),o.define("select2/dropdown/attachBody",["jquery","../utils"],function(k,P){function e(n,s,u){this.$dropdownParent=k(u.get("dropdownParent")||document.body),n.call(this,s,u)}return e.prototype.bind=function(n,s,u){var d=this;n.call(this,s,u),s.on("open",function(){d._showDropdown(),d._attachPositioningHandler(s),d._bindContainerResultHandlers(s)}),s.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(s)}),this.$dropdownContainer.on("mousedown",function(_){_.stopPropagation()})},e.prototype.destroy=function(n){n.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(n,s,u){s.attr("class",u.attr("class")),s[0].classList.remove("select2"),s[0].classList.add("select2-container--open"),s.css({position:"absolute",top:-999999}),this.$container=u},e.prototype.render=function(n){var s=k("<span></span>"),u=n.call(this);return s.append(u),this.$dropdownContainer=s,s},e.prototype._hideDropdown=function(n){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(n,s){if(!this._containerResultsHandlersBound){var u=this;s.on("results:all",function(){u._positionDropdown(),u._resizeDropdown()}),s.on("results:append",function(){u._positionDropdown(),u._resizeDropdown()}),s.on("results:message",function(){u._positionDropdown(),u._resizeDropdown()}),s.on("select",function(){u._positionDropdown(),u._resizeDropdown()}),s.on("unselect",function(){u._positionDropdown(),u._resizeDropdown()}),this._containerResultsHandlersBound=!0}},e.prototype._attachPositioningHandler=function(n,s){var u=this,d="scroll.select2."+s.id,_="resize.select2."+s.id,b="orientationchange.select2."+s.id,x=this.$container.parents().filter(P.hasScroll);x.each(function(){P.StoreData(this,"select2-scroll-position",{x:k(this).scrollLeft(),y:k(this).scrollTop()})}),x.on(d,function(A){var S=P.GetData(this,"select2-scroll-position");k(this).scrollTop(S.y)}),k(window).on(d+" "+_+" "+b,function(A){u._positionDropdown(),u._resizeDropdown()})},e.prototype._detachPositioningHandler=function(n,s){var u="scroll.select2."+s.id,d="resize.select2."+s.id,_="orientationchange.select2."+s.id,b=this.$container.parents().filter(P.hasScroll);b.off(u),k(window).off(u+" "+d+" "+_)},e.prototype._positionDropdown=function(){var n=k(window),s=this.$dropdown[0].classList.contains("select2-dropdown--above"),u=this.$dropdown[0].classList.contains("select2-dropdown--below"),d=null,_=this.$container.offset();_.bottom=_.top+this.$container.outerHeight(!1);var b={height:this.$container.outerHeight(!1)};b.top=_.top,b.bottom=_.top+b.height;var x={height:this.$dropdown.outerHeight(!1)},A={top:n.scrollTop(),bottom:n.scrollTop()+n.height()},S=A.top<_.top-x.height,F=A.bottom>_.bottom+x.height,H={left:_.left,top:b.bottom},z=this.$dropdownParent;z.css("position")==="static"&&(z=z.offsetParent());var U={top:0,left:0};(k.contains(document.body,z[0])||z[0].isConnected)&&(U=z.offset()),H.top-=U.top,H.left-=U.left,!s&&!u&&(d="below"),!F&&S&&!s?d="above":!S&&F&&s&&(d="below"),(d=="above"||s&&d!=="below")&&(H.top=b.top-U.top-x.height),d!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+d),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+d)),this.$dropdownContainer.css(H)},e.prototype._resizeDropdown=function(){var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.position="relative",n.width="auto"),this.$dropdown.css(n)},e.prototype._showDropdown=function(n){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),o.define("select2/dropdown/minimumResultsForSearch",[],function(){function k(e){for(var n=0,s=0;s<e.length;s++){var u=e[s];u.children?n+=k(u.children):n++}return n}function P(e,n,s,u){this.minimumResultsForSearch=s.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,n,s,u)}return P.prototype.showSearch=function(e,n){return k(n.data.results)<this.minimumResultsForSearch?!1:e.call(this,n)},P}),o.define("select2/dropdown/selectOnClose",["../utils"],function(k){function P(){}return P.prototype.bind=function(e,n,s){var u=this;e.call(this,n,s),n.on("close",function(d){u._handleSelectOnClose(d)})},P.prototype._handleSelectOnClose=function(e,n){if(n&&n.originalSelect2Event!=null){var s=n.originalSelect2Event;if(s._type==="select"||s._type==="unselect")return}var u=this.getHighlightedResults();if(!(u.length<1)){var d=k.GetData(u[0],"data");d.element!=null&&d.element.selected||d.element==null&&d.selected||this.trigger("select",{data:d})}},P}),o.define("select2/dropdown/closeOnSelect",[],function(){function k(){}return k.prototype.bind=function(P,e,n){var s=this;P.call(this,e,n),e.on("select",function(u){s._selectTriggered(u)}),e.on("unselect",function(u){s._selectTriggered(u)})},k.prototype._selectTriggered=function(P,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},k}),o.define("select2/dropdown/dropdownCss",["../utils"],function(k){function P(){}return P.prototype.render=function(e){var n=e.call(this),s=this.options.get("dropdownCssClass")||"";return s.indexOf(":all:")!==-1&&(s=s.replace(":all:",""),k.copyNonInternalCssClasses(n[0],this.$element[0])),n.addClass(s),n},P}),o.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(k){function P(){}return P.prototype.highlightFirstItem=function(e){var n=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(n.length>0){var s=n.first(),u=k.GetData(s[0],"data"),d=u.element;if(d&&d.getAttribute&&d.getAttribute("data-select2-tag")==="true"){s.trigger("mouseenter");return}}e.call(this)},P}),o.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(k){var P=k.input.length-k.maximum,e="Please delete "+P+" character";return P!=1&&(e+="s"),e},inputTooShort:function(k){var P=k.minimum-k.input.length,e="Please enter "+P+" or more characters";return e},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(k){var P="You can only select "+k.maximum+" item";return k.maximum!=1&&(P+="s"),P},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),o.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(k,P,e,n,s,u,d,_,b,x,A,S,F,H,z,U,p,ft,xt,wt,St,Bt,Tt,Nt,lt,Mt,At,Qt,Pt,te,Gt){function Ot(){this.reset()}Ot.prototype.apply=function(dt){if(dt=k.extend(!0,{},this.defaults,dt),dt.dataAdapter==null&&(dt.ajax!=null?dt.dataAdapter=z:dt.data!=null?dt.dataAdapter=H:dt.dataAdapter=F,dt.minimumInputLength>0&&(dt.dataAdapter=x.Decorate(dt.dataAdapter,ft)),dt.maximumInputLength>0&&(dt.dataAdapter=x.Decorate(dt.dataAdapter,xt)),dt.maximumSelectionLength>0&&(dt.dataAdapter=x.Decorate(dt.dataAdapter,wt)),dt.tags&&(dt.dataAdapter=x.Decorate(dt.dataAdapter,U)),(dt.tokenSeparators!=null||dt.tokenizer!=null)&&(dt.dataAdapter=x.Decorate(dt.dataAdapter,p))),dt.resultsAdapter==null&&(dt.resultsAdapter=P,dt.ajax!=null&&(dt.resultsAdapter=x.Decorate(dt.resultsAdapter,Nt)),dt.placeholder!=null&&(dt.resultsAdapter=x.Decorate(dt.resultsAdapter,Tt)),dt.selectOnClose&&(dt.resultsAdapter=x.Decorate(dt.resultsAdapter,At)),dt.tags&&(dt.resultsAdapter=x.Decorate(dt.resultsAdapter,te))),dt.dropdownAdapter==null){if(dt.multiple)dt.dropdownAdapter=St;else{var Ft=x.Decorate(St,Bt);dt.dropdownAdapter=Ft}dt.minimumResultsForSearch!==0&&(dt.dropdownAdapter=x.Decorate(dt.dropdownAdapter,Mt)),dt.closeOnSelect&&(dt.dropdownAdapter=x.Decorate(dt.dropdownAdapter,Qt)),dt.dropdownCssClass!=null&&(dt.dropdownAdapter=x.Decorate(dt.dropdownAdapter,Pt)),dt.dropdownAdapter=x.Decorate(dt.dropdownAdapter,lt)}dt.selectionAdapter==null&&(dt.multiple?dt.selectionAdapter=n:dt.selectionAdapter=e,dt.placeholder!=null&&(dt.selectionAdapter=x.Decorate(dt.selectionAdapter,s)),dt.allowClear&&(dt.selectionAdapter=x.Decorate(dt.selectionAdapter,u)),dt.multiple&&(dt.selectionAdapter=x.Decorate(dt.selectionAdapter,d)),dt.selectionCssClass!=null&&(dt.selectionAdapter=x.Decorate(dt.selectionAdapter,_)),dt.selectionAdapter=x.Decorate(dt.selectionAdapter,b)),dt.language=this._resolveLanguage(dt.language),dt.language.push("en");for(var Zt=[],jt=0;jt<dt.language.length;jt++){var de=dt.language[jt];Zt.indexOf(de)===-1&&Zt.push(de)}return dt.language=Zt,dt.translations=this._processTranslations(dt.language,dt.debug),dt},Ot.prototype.reset=function(){function dt(Zt){function jt(de){return S[de]||de}return Zt.replace(/[^\u0000-\u007E]/g,jt)}function Ft(Zt,jt){if(Zt.term==null||Zt.term.trim()==="")return jt;if(jt.children&&jt.children.length>0){for(var de=k.extend(!0,{},jt),oe=jt.children.length-1;oe>=0;oe--){var Ie=jt.children[oe],qe=Ft(Zt,Ie);qe==null&&de.children.splice(oe,1)}return de.children.length>0?de:Ft(Zt,de)}var Ri=dt(jt.text).toUpperCase(),xi=dt(Zt.term).toUpperCase();return Ri.indexOf(xi)>-1?jt:null}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:x.escapeMarkup,language:{},matcher:Ft,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(Zt){return Zt},templateResult:function(Zt){return Zt.text},templateSelection:function(Zt){return Zt.text},theme:"default",width:"resolve"}},Ot.prototype.applyFromElement=function(dt,Ft){var Zt=dt.language,jt=this.defaults.language,de=Ft.prop("lang"),oe=Ft.closest("[lang]").prop("lang"),Ie=Array.prototype.concat.call(this._resolveLanguage(de),this._resolveLanguage(Zt),this._resolveLanguage(jt),this._resolveLanguage(oe));return dt.language=Ie,dt},Ot.prototype._resolveLanguage=function(dt){if(!dt)return[];if(k.isEmptyObject(dt))return[];if(k.isPlainObject(dt))return[dt];var Ft;Array.isArray(dt)?Ft=dt:Ft=[dt];for(var Zt=[],jt=0;jt<Ft.length;jt++)if(Zt.push(Ft[jt]),typeof Ft[jt]=="string"&&Ft[jt].indexOf("-")>0){var de=Ft[jt].split("-"),oe=de[0];Zt.push(oe)}return Zt},Ot.prototype._processTranslations=function(dt,Ft){for(var Zt=new A,jt=0;jt<dt.length;jt++){var de=new A,oe=dt[jt];if(typeof oe=="string")try{de=A.loadPath(oe)}catch{try{oe=this.defaults.amdLanguageBase+oe,de=A.loadPath(oe)}catch{Ft&&window.console&&console.warn&&console.warn('Select2: The language file for "'+oe+'" could not be automatically loaded. A fallback will be used instead.')}}else k.isPlainObject(oe)?de=new A(oe):de=oe;Zt.extend(de)}return Zt},Ot.prototype.set=function(dt,Ft){var Zt=k.camelCase(dt),jt={};jt[Zt]=Ft;var de=x._convertData(jt);k.extend(!0,this.defaults,de)};var Kt=new Ot;return Kt}),o.define("select2/options",["jquery","./defaults","./utils"],function(k,P,e){function n(s,u){this.options=s,u!=null&&this.fromElement(u),u!=null&&(this.options=P.applyFromElement(this.options,u)),this.options=P.apply(this.options)}return n.prototype.fromElement=function(s){var u=["select2"];this.options.multiple==null&&(this.options.multiple=s.prop("multiple")),this.options.disabled==null&&(this.options.disabled=s.prop("disabled")),this.options.autocomplete==null&&s.prop("autocomplete")&&(this.options.autocomplete=s.prop("autocomplete")),this.options.dir==null&&(s.prop("dir")?this.options.dir=s.prop("dir"):s.closest("[dir]").prop("dir")?this.options.dir=s.closest("[dir]").prop("dir"):this.options.dir="ltr"),s.prop("disabled",this.options.disabled),s.prop("multiple",this.options.multiple),e.GetData(s[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.StoreData(s[0],"data",e.GetData(s[0],"select2Tags")),e.StoreData(s[0],"tags",!0)),e.GetData(s[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),s.attr("ajax--url",e.GetData(s[0],"ajaxUrl")),e.StoreData(s[0],"ajax-Url",e.GetData(s[0],"ajaxUrl")));var d={};function _(p,ft){return ft.toUpperCase()}for(var b=0;b<s[0].attributes.length;b++){var x=s[0].attributes[b].name,A="data-";if(x.substr(0,A.length)==A){var S=x.substring(A.length),F=e.GetData(s[0],S),H=S.replace(/-([a-z])/g,_);d[H]=F}}k.fn.jquery&&k.fn.jquery.substr(0,2)=="1."&&s[0].dataset&&(d=k.extend(!0,{},s[0].dataset,d));var z=k.extend(!0,{},e.GetData(s[0]),d);z=e._convertData(z);for(var U in z)u.indexOf(U)>-1||(k.isPlainObject(this.options[U])?k.extend(this.options[U],z[U]):this.options[U]=z[U]);return this},n.prototype.get=function(s){return this.options[s]},n.prototype.set=function(s,u){this.options[s]=u},n}),o.define("select2/core",["jquery","./options","./utils","./keys"],function(k,P,e,n){var s=function(u,d){e.GetData(u[0],"select2")!=null&&e.GetData(u[0],"select2").destroy(),this.$element=u,this.id=this._generateId(u),d=d||{},this.options=new P(d,u),s.__super__.constructor.call(this);var _=u.attr("tabindex")||0;e.StoreData(u[0],"old-tabindex",_),u.attr("tabindex","-1");var b=this.options.get("dataAdapter");this.dataAdapter=new b(u,this.options);var x=this.render();this._placeContainer(x);var A=this.options.get("selectionAdapter");this.selection=new A(u,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,x);var S=this.options.get("dropdownAdapter");this.dropdown=new S(u,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,x);var F=this.options.get("resultsAdapter");this.results=new F(u,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var H=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(z){H.trigger("selection:update",{data:z})}),u[0].classList.add("select2-hidden-accessible"),u.attr("aria-hidden","true"),this._syncAttributes(),e.StoreData(u[0],"select2",this),u.data("select2",this)};return e.Extend(s,e.Observable),s.prototype._generateId=function(u){var d="";return u.attr("id")!=null?d=u.attr("id"):u.attr("name")!=null?d=u.attr("name")+"-"+e.generateChars(2):d=e.generateChars(4),d=d.replace(/(:|\.|\[|\]|,)/g,""),d="select2-"+d,d},s.prototype._placeContainer=function(u){u.insertAfter(this.$element);var d=this._resolveWidth(this.$element,this.options.get("width"));d!=null&&u.css("width",d)},s.prototype._resolveWidth=function(u,d){var _=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(d=="resolve"){var b=this._resolveWidth(u,"style");return b??this._resolveWidth(u,"element")}if(d=="element"){var x=u.outerWidth(!1);return x<=0?"auto":x+"px"}if(d=="style"){var A=u.attr("style");if(typeof A!="string")return null;for(var S=A.split(";"),F=0,H=S.length;F<H;F=F+1){var z=S[F].replace(/\s/g,""),U=z.match(_);if(U!==null&&U.length>=1)return U[1]}return null}if(d=="computedstyle"){var p=window.getComputedStyle(u[0]);return p.width}return d},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var u=this;this.$element.on("change.select2",function(){u.dataAdapter.current(function(d){u.trigger("selection:update",{data:d})})}),this.$element.on("focus.select2",function(d){u.trigger("focus",d)}),this._syncA=e.bind(this._syncAttributes,this),this._syncS=e.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(d){u._syncA(),u._syncS(d)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},s.prototype._registerDataEvents=function(){var u=this;this.dataAdapter.on("*",function(d,_){u.trigger(d,_)})},s.prototype._registerSelectionEvents=function(){var u=this,d=["toggle","focus"];this.selection.on("toggle",function(){u.toggleDropdown()}),this.selection.on("focus",function(_){u.focus(_)}),this.selection.on("*",function(_,b){d.indexOf(_)===-1&&u.trigger(_,b)})},s.prototype._registerDropdownEvents=function(){var u=this;this.dropdown.on("*",function(d,_){u.trigger(d,_)})},s.prototype._registerResultsEvents=function(){var u=this;this.results.on("*",function(d,_){u.trigger(d,_)})},s.prototype._registerEvents=function(){var u=this;this.on("open",function(){u.$container[0].classList.add("select2-container--open")}),this.on("close",function(){u.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){u.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){u.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){u.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(d){u.isOpen()||u.trigger("open",{}),this.dataAdapter.query(d,function(_){u.trigger("results:all",{data:_,query:d})})}),this.on("query:append",function(d){this.dataAdapter.query(d,function(_){u.trigger("results:append",{data:_,query:d})})}),this.on("keypress",function(d){var _=d.which;u.isOpen()?_===n.ESC||_===n.UP&&d.altKey?(u.close(d),d.preventDefault()):_===n.ENTER||_===n.TAB?(u.trigger("results:select",{}),d.preventDefault()):_===n.SPACE&&d.ctrlKey?(u.trigger("results:toggle",{}),d.preventDefault()):_===n.UP?(u.trigger("results:previous",{}),d.preventDefault()):_===n.DOWN&&(u.trigger("results:next",{}),d.preventDefault()):(_===n.ENTER||_===n.SPACE||_===n.DOWN&&d.altKey)&&(u.open(),d.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},s.prototype._isChangeMutation=function(u){var d=this;if(u.addedNodes&&u.addedNodes.length>0)for(var _=0;_<u.addedNodes.length;_++){var b=u.addedNodes[_];if(b.selected)return!0}else{if(u.removedNodes&&u.removedNodes.length>0)return!0;if(Array.isArray(u))return u.some(function(x){return d._isChangeMutation(x)})}return!1},s.prototype._syncSubtree=function(u){var d=this._isChangeMutation(u),_=this;d&&this.dataAdapter.current(function(b){_.trigger("selection:update",{data:b})})},s.prototype.trigger=function(u,d){var _=s.__super__.trigger,b={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(d===void 0&&(d={}),u in b){var x=b[u],A={prevented:!1,name:u,args:d};if(_.call(this,x,A),A.prevented){d.prevented=!0;return}}_.call(this,u,d)},s.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},s.prototype.close=function(u){this.isOpen()&&this.trigger("close",{originalEvent:u})},s.prototype.isEnabled=function(){return!this.isDisabled()},s.prototype.isDisabled=function(){return this.options.get("disabled")},s.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},s.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},s.prototype.focus=function(u){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},s.prototype.enable=function(u){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(u==null||u.length===0)&&(u=[!0]);var d=!u[0];this.$element.prop("disabled",d)},s.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var u=[];return this.dataAdapter.current(function(d){u=d}),u},s.prototype.val=function(u){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),u==null||u.length===0)return this.$element.val();var d=u[0];Array.isArray(d)&&(d=d.map(function(_){return _.toString()})),this.$element.val(d).trigger("input").trigger("change")},s.prototype.destroy=function(){e.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",e.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),e.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var u=k('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return u.attr("dir",this.options.get("dir")),this.$container=u,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),e.StoreData(u[0],"element",this.$element),u},s}),o.define("select2/dropdown/attachContainer",[],function(){function k(P,e,n){P.call(this,e,n)}return k.prototype.position=function(P,e,n){var s=n.find(".dropdown-wrapper");s.append(e),e[0].classList.add("select2-dropdown--below"),n[0].classList.add("select2-container--below")},k}),o.define("select2/dropdown/stopPropagation",[],function(){function k(){}return k.prototype.bind=function(P,e,n){P.call(this,e,n);var s=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(s.join(" "),function(u){u.stopPropagation()})},k}),o.define("select2/selection/stopPropagation",[],function(){function k(){}return k.prototype.bind=function(P,e,n){P.call(this,e,n);var s=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(s.join(" "),function(u){u.stopPropagation()})},k});/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */return function(k){typeof o.define=="function"&&o.define.amd?o.define("jquery-mousewheel",["jquery"],k):be.exports=k}(function(k){var P=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],n=Array.prototype.slice,s,u;if(k.event.fixHooks)for(var d=P.length;d;)k.event.fixHooks[P[--d]]=k.event.mouseHooks;var _=k.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var S=e.length;S;)this.addEventListener(e[--S],b,!1);else this.onmousewheel=b;k.data(this,"mousewheel-line-height",_.getLineHeight(this)),k.data(this,"mousewheel-page-height",_.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var S=e.length;S;)this.removeEventListener(e[--S],b,!1);else this.onmousewheel=null;k.removeData(this,"mousewheel-line-height"),k.removeData(this,"mousewheel-page-height")},getLineHeight:function(S){var F=k(S),H=F["offsetParent"in k.fn?"offsetParent":"parent"]();return H.length||(H=k("body")),parseInt(H.css("fontSize"),10)||parseInt(F.css("fontSize"),10)||16},getPageHeight:function(S){return k(S).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};k.fn.extend({mousewheel:function(S){return S?this.bind("mousewheel",S):this.trigger("mousewheel")},unmousewheel:function(S){return this.unbind("mousewheel",S)}});function b(S){var F=S||window.event,H=n.call(arguments,1),z=0,U=0,p=0,ft=0,xt=0,wt=0;if(S=k.event.fix(F),S.type="mousewheel","detail"in F&&(p=F.detail*-1),"wheelDelta"in F&&(p=F.wheelDelta),"wheelDeltaY"in F&&(p=F.wheelDeltaY),"wheelDeltaX"in F&&(U=F.wheelDeltaX*-1),"axis"in F&&F.axis===F.HORIZONTAL_AXIS&&(U=p*-1,p=0),z=p===0?U:p,"deltaY"in F&&(p=F.deltaY*-1,z=p),"deltaX"in F&&(U=F.deltaX,p===0&&(z=U*-1)),!(p===0&&U===0)){if(F.deltaMode===1){var St=k.data(this,"mousewheel-line-height");z*=St,p*=St,U*=St}else if(F.deltaMode===2){var Bt=k.data(this,"mousewheel-page-height");z*=Bt,p*=Bt,U*=Bt}if(ft=Math.max(Math.abs(p),Math.abs(U)),(!u||ft<u)&&(u=ft,A(F,ft)&&(u/=40)),A(F,ft)&&(z/=40,U/=40,p/=40),z=Math[z>=1?"floor":"ceil"](z/u),U=Math[U>=1?"floor":"ceil"](U/u),p=Math[p>=1?"floor":"ceil"](p/u),_.settings.normalizeOffset&&this.getBoundingClientRect){var Tt=this.getBoundingClientRect();xt=S.clientX-Tt.left,wt=S.clientY-Tt.top}return S.deltaX=U,S.deltaY=p,S.deltaFactor=u,S.offsetX=xt,S.offsetY=wt,S.deltaMode=0,H.unshift(S,z,U,p),s&&clearTimeout(s),s=setTimeout(x,200),(k.event.dispatch||k.event.handle).apply(this,H)}}function x(){u=null}function A(S,F){return _.settings.adjustOldDeltas&&S.type==="mousewheel"&&F%120===0}}),o.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(k,P,e,n,s){if(k.fn.select2==null){var u=["open","close","destroy"];k.fn.select2=function(d){if(d=d||{},typeof d=="object")return this.each(function(){var x=k.extend(!0,{},d);new e(k(this),x)}),this;if(typeof d=="string"){var _,b=Array.prototype.slice.call(arguments,1);return this.each(function(){var x=s.GetData(this,"select2");x==null&&window.console&&console.error&&console.error("The select2('"+d+"') method was called on an element that is not using Select2."),_=x[d].apply(x,b)}),u.indexOf(d)>-1?this:_}else throw new Error("Invalid arguments for Select2: "+d)}}return k.fn.select2.defaults==null&&(k.fn.select2.defaults=n),e}),{define:o.define,require:o.require}}(),I=D.require("jquery.select2");return V.fn.select2.amd=D,I})})(ro);(()=>{var be={9705:(D,I,o)=>{var k=o(1540);function P(e){var n=[1/0,1/0,-1/0,-1/0];return k.coordEach(e,function(s){n[0]>s[0]&&(n[0]=s[0]),n[1]>s[1]&&(n[1]=s[1]),n[2]<s[0]&&(n[2]=s[0]),n[3]<s[1]&&(n[3]=s[1])}),n}P.default=P,I.Z=P},4102:(D,I)=>{function o(S,F,H){H===void 0&&(H={});var z={type:"Feature"};return(H.id===0||H.id)&&(z.id=H.id),H.bbox&&(z.bbox=H.bbox),z.properties=F||{},z.geometry=S,z}function k(S,F,H){if(H===void 0&&(H={}),!S)throw new Error("coordinates is required");if(!Array.isArray(S))throw new Error("coordinates must be an Array");if(S.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(S[0])||!A(S[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:S},F,H)}function P(S,F,H){H===void 0&&(H={});for(var z=0,U=S;z<U.length;z++){var p=U[z];if(p.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ft=0;ft<p[p.length-1].length;ft++)if(p[p.length-1][ft]!==p[0][ft])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:S},F,H)}function e(S,F,H){if(H===void 0&&(H={}),S.length<2)throw new Error("coordinates must be an array of two or more positions");return o({type:"LineString",coordinates:S},F,H)}function n(S,F){F===void 0&&(F={});var H={type:"FeatureCollection"};return F.id&&(H.id=F.id),F.bbox&&(H.bbox=F.bbox),H.features=S,H}function s(S,F,H){return H===void 0&&(H={}),o({type:"MultiLineString",coordinates:S},F,H)}function u(S,F,H){return H===void 0&&(H={}),o({type:"MultiPoint",coordinates:S},F,H)}function d(S,F,H){return H===void 0&&(H={}),o({type:"MultiPolygon",coordinates:S},F,H)}function _(S,F){F===void 0&&(F="kilometers");var H=I.factors[F];if(!H)throw new Error(F+" units is invalid");return S*H}function b(S,F){F===void 0&&(F="kilometers");var H=I.factors[F];if(!H)throw new Error(F+" units is invalid");return S/H}function x(S){return 180*(S%(2*Math.PI))/Math.PI}function A(S){return!isNaN(S)&&S!==null&&!Array.isArray(S)}Object.defineProperty(I,"__esModule",{value:!0}),I.earthRadius=63710088e-1,I.factors={centimeters:100*I.earthRadius,centimetres:100*I.earthRadius,degrees:I.earthRadius/111325,feet:3.28084*I.earthRadius,inches:39.37*I.earthRadius,kilometers:I.earthRadius/1e3,kilometres:I.earthRadius/1e3,meters:I.earthRadius,metres:I.earthRadius,miles:I.earthRadius/1609.344,millimeters:1e3*I.earthRadius,millimetres:1e3*I.earthRadius,nauticalmiles:I.earthRadius/1852,radians:1,yards:1.0936*I.earthRadius},I.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/I.earthRadius,yards:1.0936133},I.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},I.feature=o,I.geometry=function(S,F,H){switch(S){case"Point":return k(F).geometry;case"LineString":return e(F).geometry;case"Polygon":return P(F).geometry;case"MultiPoint":return u(F).geometry;case"MultiLineString":return s(F).geometry;case"MultiPolygon":return d(F).geometry;default:throw new Error(S+" is invalid")}},I.point=k,I.points=function(S,F,H){return H===void 0&&(H={}),n(S.map(function(z){return k(z,F)}),H)},I.polygon=P,I.polygons=function(S,F,H){return H===void 0&&(H={}),n(S.map(function(z){return P(z,F)}),H)},I.lineString=e,I.lineStrings=function(S,F,H){return H===void 0&&(H={}),n(S.map(function(z){return e(z,F)}),H)},I.featureCollection=n,I.multiLineString=s,I.multiPoint=u,I.multiPolygon=d,I.geometryCollection=function(S,F,H){return H===void 0&&(H={}),o({type:"GeometryCollection",geometries:S},F,H)},I.round=function(S,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var H=Math.pow(10,F||0);return Math.round(S*H)/H},I.radiansToLength=_,I.lengthToRadians=b,I.lengthToDegrees=function(S,F){return x(b(S,F))},I.bearingToAzimuth=function(S){var F=S%360;return F<0&&(F+=360),F},I.radiansToDegrees=x,I.degreesToRadians=function(S){return S%360*Math.PI/180},I.convertLength=function(S,F,H){if(F===void 0&&(F="kilometers"),H===void 0&&(H="kilometers"),!(S>=0))throw new Error("length must be a positive number");return _(b(S,F),H)},I.convertArea=function(S,F,H){if(F===void 0&&(F="meters"),H===void 0&&(H="kilometers"),!(S>=0))throw new Error("area must be a positive number");var z=I.areaFactors[F];if(!z)throw new Error("invalid original units");var U=I.areaFactors[H];if(!U)throw new Error("invalid final units");return S/z*U},I.isNumber=A,I.isObject=function(S){return!!S&&S.constructor===Object},I.validateBBox=function(S){if(!S)throw new Error("bbox is required");if(!Array.isArray(S))throw new Error("bbox must be an Array");if(S.length!==4&&S.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");S.forEach(function(F){if(!A(F))throw new Error("bbox must only contain numbers")})},I.validateId=function(S){if(!S)throw new Error("id is required");if(["string","number"].indexOf(typeof S)===-1)throw new Error("id must be a number or a string")}},1540:(D,I,o)=>{Object.defineProperty(I,"__esModule",{value:!0});var k=o(4102);function P(b,x,A){if(b!==null)for(var S,F,H,z,U,p,ft,xt,wt=0,St=0,Bt=b.type,Tt=Bt==="FeatureCollection",Nt=Bt==="Feature",lt=Tt?b.features.length:1,Mt=0;Mt<lt;Mt++){U=(xt=!!(ft=Tt?b.features[Mt].geometry:Nt?b.geometry:b)&&ft.type==="GeometryCollection")?ft.geometries.length:1;for(var At=0;At<U;At++){var Qt=0,Pt=0;if((z=xt?ft.geometries[At]:ft)!==null){p=z.coordinates;var te=z.type;switch(wt=!A||te!=="Polygon"&&te!=="MultiPolygon"?0:1,te){case null:break;case"Point":if(x(p,St,Mt,Qt,Pt)===!1)return!1;St++,Qt++;break;case"LineString":case"MultiPoint":for(S=0;S<p.length;S++){if(x(p[S],St,Mt,Qt,Pt)===!1)return!1;St++,te==="MultiPoint"&&Qt++}te==="LineString"&&Qt++;break;case"Polygon":case"MultiLineString":for(S=0;S<p.length;S++){for(F=0;F<p[S].length-wt;F++){if(x(p[S][F],St,Mt,Qt,Pt)===!1)return!1;St++}te==="MultiLineString"&&Qt++,te==="Polygon"&&Pt++}te==="Polygon"&&Qt++;break;case"MultiPolygon":for(S=0;S<p.length;S++){for(Pt=0,F=0;F<p[S].length;F++){for(H=0;H<p[S][F].length-wt;H++){if(x(p[S][F][H],St,Mt,Qt,Pt)===!1)return!1;St++}Pt++}Qt++}break;case"GeometryCollection":for(S=0;S<z.geometries.length;S++)if(P(z.geometries[S],x,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function e(b,x){var A;switch(b.type){case"FeatureCollection":for(A=0;A<b.features.length&&x(b.features[A].properties,A)!==!1;A++);break;case"Feature":x(b.properties,0)}}function n(b,x){if(b.type==="Feature")x(b,0);else if(b.type==="FeatureCollection")for(var A=0;A<b.features.length&&x(b.features[A],A)!==!1;A++);}function s(b,x){var A,S,F,H,z,U,p,ft,xt,wt,St=0,Bt=b.type==="FeatureCollection",Tt=b.type==="Feature",Nt=Bt?b.features.length:1;for(A=0;A<Nt;A++){for(U=Bt?b.features[A].geometry:Tt?b.geometry:b,ft=Bt?b.features[A].properties:Tt?b.properties:{},xt=Bt?b.features[A].bbox:Tt?b.bbox:void 0,wt=Bt?b.features[A].id:Tt?b.id:void 0,z=(p=!!U&&U.type==="GeometryCollection")?U.geometries.length:1,F=0;F<z;F++)if((H=p?U.geometries[F]:U)!==null)switch(H.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(x(H,St,ft,xt,wt)===!1)return!1;break;case"GeometryCollection":for(S=0;S<H.geometries.length;S++)if(x(H.geometries[S],St,ft,xt,wt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(x(null,St,ft,xt,wt)===!1)return!1;St++}}function u(b,x){s(b,function(A,S,F,H,z){var U,p=A===null?null:A.type;switch(p){case null:case"Point":case"LineString":case"Polygon":return x(k.feature(A,F,{bbox:H,id:z}),S,0)!==!1&&void 0}switch(p){case"MultiPoint":U="Point";break;case"MultiLineString":U="LineString";break;case"MultiPolygon":U="Polygon"}for(var ft=0;ft<A.coordinates.length;ft++){var xt={type:U,coordinates:A.coordinates[ft]};if(x(k.feature(xt,F),S,ft)===!1)return!1}})}function d(b,x){u(b,function(A,S,F){var H=0;if(A.geometry){var z=A.geometry.type;if(z!=="Point"&&z!=="MultiPoint"){var U,p=0,ft=0,xt=0;return P(A,function(wt,St,Bt,Tt,Nt){if(U===void 0||S>p||Tt>ft||Nt>xt)return U=wt,p=S,ft=Tt,xt=Nt,void(H=0);var lt=k.lineString([U,wt],A.properties);if(x(lt,S,F,Nt,H)===!1)return!1;H++,U=wt})!==!1&&void 0}}})}function _(b,x){if(!b)throw new Error("geojson is required");u(b,function(A,S,F){if(A.geometry!==null){var H=A.geometry.type,z=A.geometry.coordinates;switch(H){case"LineString":if(x(A,S,F,0,0)===!1)return!1;break;case"Polygon":for(var U=0;U<z.length;U++)if(x(k.lineString(z[U],A.properties),S,F,U)===!1)return!1}}})}I.coordAll=function(b){var x=[];return P(b,function(A){x.push(A)}),x},I.coordEach=P,I.coordReduce=function(b,x,A,S){var F=A;return P(b,function(H,z,U,p,ft){F=z===0&&A===void 0?H:x(F,H,z,U,p,ft)},S),F},I.featureEach=n,I.featureReduce=function(b,x,A){var S=A;return n(b,function(F,H){S=H===0&&A===void 0?F:x(S,F,H)}),S},I.findPoint=function(b,x){if(x=x||{},!k.isObject(x))throw new Error("options is invalid");var A,S=x.featureIndex||0,F=x.multiFeatureIndex||0,H=x.geometryIndex||0,z=x.coordIndex||0,U=x.properties;switch(b.type){case"FeatureCollection":S<0&&(S=b.features.length+S),U=U||b.features[S].properties,A=b.features[S].geometry;break;case"Feature":U=U||b.properties,A=b.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=b;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var p=A.coordinates;switch(A.type){case"Point":return k.point(p,U,x);case"MultiPoint":return F<0&&(F=p.length+F),k.point(p[F],U,x);case"LineString":return z<0&&(z=p.length+z),k.point(p[z],U,x);case"Polygon":return H<0&&(H=p.length+H),z<0&&(z=p[H].length+z),k.point(p[H][z],U,x);case"MultiLineString":return F<0&&(F=p.length+F),z<0&&(z=p[F].length+z),k.point(p[F][z],U,x);case"MultiPolygon":return F<0&&(F=p.length+F),H<0&&(H=p[F].length+H),z<0&&(z=p[F][H].length-z),k.point(p[F][H][z],U,x)}throw new Error("geojson is invalid")},I.findSegment=function(b,x){if(x=x||{},!k.isObject(x))throw new Error("options is invalid");var A,S=x.featureIndex||0,F=x.multiFeatureIndex||0,H=x.geometryIndex||0,z=x.segmentIndex||0,U=x.properties;switch(b.type){case"FeatureCollection":S<0&&(S=b.features.length+S),U=U||b.features[S].properties,A=b.features[S].geometry;break;case"Feature":U=U||b.properties,A=b.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=b;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var p=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return z<0&&(z=p.length+z-1),k.lineString([p[z],p[z+1]],U,x);case"Polygon":return H<0&&(H=p.length+H),z<0&&(z=p[H].length+z-1),k.lineString([p[H][z],p[H][z+1]],U,x);case"MultiLineString":return F<0&&(F=p.length+F),z<0&&(z=p[F].length+z-1),k.lineString([p[F][z],p[F][z+1]],U,x);case"MultiPolygon":return F<0&&(F=p.length+F),H<0&&(H=p[F].length+H),z<0&&(z=p[F][H].length-z-1),k.lineString([p[F][H][z],p[F][H][z+1]],U,x)}throw new Error("geojson is invalid")},I.flattenEach=u,I.flattenReduce=function(b,x,A){var S=A;return u(b,function(F,H,z){S=H===0&&z===0&&A===void 0?F:x(S,F,H,z)}),S},I.geomEach=s,I.geomReduce=function(b,x,A){var S=A;return s(b,function(F,H,z,U,p){S=H===0&&A===void 0?F:x(S,F,H,z,U,p)}),S},I.lineEach=_,I.lineReduce=function(b,x,A){var S=A;return _(b,function(F,H,z,U){S=H===0&&A===void 0?F:x(S,F,H,z,U)}),S},I.propEach=e,I.propReduce=function(b,x,A){var S=A;return e(b,function(F,H){S=H===0&&A===void 0?F:x(S,F,H)}),S},I.segmentEach=d,I.segmentReduce=function(b,x,A){var S=A,F=!1;return d(b,function(H,z,U,p,ft){S=F===!1&&A===void 0?H:x(S,H,z,U,p,ft),F=!0}),S}},5975:(D,I,o)=>{o(7107);var k=o(2492),P=o.n(k);const e=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),n=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lÃ¶schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lÃ¶schen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknÃ¼pfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"LÃ¤nge","segmentLength":"Segment LÃ¤nge","area":"FlÃ¤che","radius":"Radius","perimeter":"Umfang","height":"HÃ¶he","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),s=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),u=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),d=JSON.parse('{"tooltips":{"placeMarker":"AdaugÄ un punct","firstVertex":"ApasÄ aici pentru a adÄuga primul Vertex","continueLine":"ApasÄ aici pentru a continua desenul","finishLine":"ApasÄ pe orice obiect pentru a finisa desenul","finishPoly":"ApasÄ pe primul obiect pentru a finisa","finishRect":"ApasÄ pentru a finisa","startCircle":"ApasÄ pentru a desena un cerc","finishCircle":"ApasÄ pentru a finisa un cerc","placeCircleMarker":"AdaugÄ un punct"},"actions":{"finish":"TerminÄ","cancel":"AnuleazÄ","removeLastVertex":"Èterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"AdaugÄ o bulinÄ","drawPolyButton":"DeseneazÄ un poligon","drawLineButton":"DeseneazÄ o linie","drawCircleButton":"DeseneazÄ un cerc","drawRectButton":"DeseneazÄ un dreptunghi","editButton":"EditeazÄ straturile","dragButton":"MutÄ straturile","cutButton":"Taie straturile","deleteButton":"Èterge straturile","drawCircleMarkerButton":"DeseneazÄ marcatorul cercului","snappingButton":"FixaÈi marcatorul glisat pe alte straturi Èi vÃ¢rfuri","pinningButton":"FixaÈi vÃ¢rfurile partajate Ã®mpreunÄ"}}'),_=JSON.parse('{"tooltips":{"placeMarker":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð½Ð°Ð½ÐµÑÑÐ¸ Ð¼Ð°ÑÐºÐµÑ","firstVertex":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð½Ð°Ð½ÐµÑÑÐ¸ Ð¿ÐµÑÐ²ÑÐ¹ Ð¾Ð±ÑÐµÐºÑ","continueLine":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð¿ÑÐ¾Ð´Ð¾Ð»Ð¶Ð¸ÑÑ ÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ","finishLine":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð»ÑÐ±Ð¾Ð¹ ÑÑÑÐµÑÑÐ²ÑÑÑÐ¸Ð¹ Ð¼Ð°ÑÐºÐµÑ Ð´Ð»Ñ Ð·Ð°Ð²ÐµÑÑÐµÐ½Ð¸Ñ","finishPoly":"ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð¿ÐµÑÐ²ÑÑ ÑÐ¾ÑÐºÑ, ÑÑÐ¾Ð±Ñ Ð·Ð°ÐºÐ¾Ð½ÑÐ¸ÑÑ","finishRect":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð·Ð°ÐºÐ¾Ð½ÑÐ¸ÑÑ","startCircle":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ½ÑÑ ÐºÑÑÐ³Ð°","finishCircle":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð·Ð°Ð´Ð°ÑÑ ÑÐ°Ð´Ð¸ÑÑ","placeCircleMarker":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð½Ð°Ð½ÐµÑÑÐ¸ ÐºÑÑÐ³Ð¾Ð²Ð¾Ð¹ Ð¼Ð°ÑÐºÐµÑ"},"actions":{"finish":"ÐÐ°Ð²ÐµÑÑÐ¸ÑÑ","cancel":"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ","removeLastVertex":"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ"},"buttonTitles":{"drawMarkerButton":"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð¼Ð°ÑÐºÐµÑ","drawPolyButton":"Ð Ð¸ÑÐ¾Ð²Ð°ÑÑ Ð¿Ð¾Ð»Ð¸Ð³Ð¾Ð½","drawLineButton":"Ð Ð¸ÑÐ¾Ð²Ð°ÑÑ ÐºÑÐ¸Ð²ÑÑ","drawCircleButton":"Ð Ð¸ÑÐ¾Ð²Ð°ÑÑ ÐºÑÑÐ³","drawRectButton":"Ð Ð¸ÑÐ¾Ð²Ð°ÑÑ Ð¿ÑÑÐ¼Ð¾ÑÐ³Ð¾Ð»ÑÐ½Ð¸Ðº","editButton":"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ»Ð¾Ð¹","dragButton":"ÐÐµÑÐµÐ½ÐµÑÑÐ¸ ÑÐ»Ð¾Ð¹","cutButton":"ÐÑÑÐµÐ·Ð°ÑÑ ÑÐ»Ð¾Ð¹","deleteButton":"Ð£Ð´Ð°Ð»Ð¸ÑÑ ÑÐ»Ð¾Ð¹","drawCircleMarkerButton":"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÐºÑÑÐ³Ð¾Ð²Ð¾Ð¹ Ð¼Ð°ÑÐºÐµÑ","snappingButton":"ÐÑÐ¸Ð²ÑÐ·Ð°ÑÑ Ð¿ÐµÑÐµÑÐ°ÑÐºÐ¸Ð²Ð°ÐµÐ¼ÑÐ¹ Ð¼Ð°ÑÐºÐµÑ Ðº Ð´ÑÑÐ³Ð¸Ð¼ ÑÐ»Ð¾ÑÐ¼ Ð¸ Ð²ÐµÑÑÐ¸Ð½Ð°Ð¼","pinningButton":"Ð¡Ð²ÑÐ·Ð°ÑÑ Ð¾Ð±ÑÐ¸Ðµ ÑÐ¾ÑÐºÐ¸ Ð²Ð¼ÐµÑÑÐµ"}}'),b=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vÃ©rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del cÃ­rculo","finishCircle":"Presiona para finalizar el cÃ­rculo","placeCircleMarker":"Presiona para colocar un marcador de cÃ­rculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar Ãºltimo vÃ©rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar PolÃ­gono","drawLineButton":"Dibujar LÃ­nea","drawCircleButton":"Dibujar CÃ­rculo","drawRectButton":"Dibujar RectÃ¡ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de CÃ­rculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vÃ©rtices","pinningButton":"Fijar juntos los vÃ©rtices compartidos"}}'),x=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beÃ«indigen","finishPoly":"Klik op het eerst punt om te beÃ«indigen","finishRect":"Klik om te beÃ«indigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beÃ«indigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),A=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer Ã  dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Ãditer des calques","dragButton":"DÃ©placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"Ãpingler ensemble les sommets partagÃ©s","rotateButton":"Tourner des calques"}}`),S=JSON.parse('{"tooltips":{"placeMarker":"åå»æ¾ç½®æ è®°","firstVertex":"åå»æ¾ç½®é¦ä¸ªé¡¶ç¹","continueLine":"åå»ç»§ç»­ç»å¶","finishLine":"åå»ä»»ä½å­å¨çæ è®°ä»¥å®æ","finishPoly":"åå»ç¬¬ä¸ä¸ªæ è®°ä»¥å®æ","finishRect":"åå»å®æ","startCircle":"åå»æ¾ç½®åå¿","finishCircle":"åå»å®æåå½¢","placeCircleMarker":"ç¹å»æ¾ç½®åå½¢æ è®°"},"actions":{"finish":"å®æ","cancel":"åæ¶","removeLastVertex":"ç§»é¤æåçé¡¶ç¹"},"buttonTitles":{"drawMarkerButton":"ç»å¶æ è®°","drawPolyButton":"ç»å¶å¤è¾¹å½¢","drawLineButton":"ç»å¶çº¿æ®µ","drawCircleButton":"ç»å¶åå½¢","drawRectButton":"ç»å¶é¿æ¹å½¢","editButton":"ç¼è¾å¾å±","dragButton":"ææ½å¾å±","cutButton":"åªåå¾å±","deleteButton":"å é¤å¾å±","drawCircleMarkerButton":"ç»ååæ è®°","snappingButton":"å°æå¨çæ è®°ææå°å¶ä»å¾å±åé¡¶ç¹","pinningButton":"å°å±äº«é¡¶ç¹åºå®å¨ä¸èµ·"}}'),F=JSON.parse('{"tooltips":{"placeMarker":"å®ææ¾ç½®æ¨è¨","firstVertex":"å®ææ¾ç½®ç¬¬ä¸åé é»","continueLine":"å®æç¹¼çºç¹ªè£½","finishLine":"å®æä»»ä½å­å¨çæ¨è¨ä»¥å®æ","finishPoly":"å®æç¬¬ä¸åæ¨è¨ä»¥å®æ","finishRect":"å®æå®æ","startCircle":"å®ææ¾ç½®åå¿","finishCircle":"å®æå®æåå½¢","placeCircleMarker":"é»ææ¾ç½®åå½¢æ¨è¨"},"actions":{"finish":"å®æ","cancel":"åæ¶","removeLastVertex":"ç§»é¤æå¾ä¸åé é»"},"buttonTitles":{"drawMarkerButton":"æ¾ç½®æ¨è¨","drawPolyButton":"ç¹ªè£½å¤éå½¢","drawLineButton":"ç¹ªè£½ç·æ®µ","drawCircleButton":"ç¹ªè£½åå½¢","drawRectButton":"ç¹ªè£½æ¹å½¢","editButton":"ç·¨è¼¯åå½¢","dragButton":"ç§»ååå½¢","cutButton":"è£ååå½¢","deleteButton":"åªé¤åå½¢","drawCircleMarkerButton":"ç«ååæ¨è¨","snappingButton":"å°æåçæ¨è¨å°é½å°å¶ä»åå±¤åé é»","pinningButton":"å°å±äº«é é»åºå®å¨ä¸èµ·"}}'),H={en:e,de:n,it:s,id:u,ro:d,ru:_,es:b,nl:x,fr:A,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vÃ©rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polÃ­gono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do cÃ­rculo","finishCircle":"Clique para fechar o cÃ­rculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover Ãºltimo vÃ©rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polÃ­gono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um cÃ­rculo","drawRectButton":"Desenhar um retÃ¢ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de cÃ­rculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vÃ©rtices","pinningButton":"VÃ©rtices compartilhados de pinos juntos"}}'),zh:S,zh_tw:F,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawiÄ znacznik","firstVertex":"Kliknij, aby ustawiÄ pierwszy punkt","continueLine":"Kliknij, aby kontynuowaÄ rysowanie","finishLine":"Kliknij dowolny punkt, aby zakoÅczyÄ","finishPoly":"Kliknij pierwszy punkt, aby zakoÅczyÄ","finishRect":"Kliknij, aby zakoÅczyÄ","startCircle":"Kliknij, aby ustawiÄ Årodek koÅa","finishCircle":"Kliknij, aby zakoÅczyÄ rysowanie koÅa","placeCircleMarker":"Kliknij, aby ustawiÄ okrÄgÅy znacznik"},"actions":{"finish":"ZakoÅcz","cancel":"Anuluj","removeLastVertex":"UsuÅ ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokÄt","drawLineButton":"Narysuj ÅcieÅ¼kÄ","drawCircleButton":"Narysuj koÅo","drawRectButton":"Narysuj prostokÄt","editButton":"Edytuj","dragButton":"PrzesuÅ","cutButton":"Wytnij","deleteButton":"UsuÅ","drawCircleMarkerButton":"Narysuj okrÄgÅy znacznik","snappingButton":"Snap przeciÄgniÄty marker na inne warstwy i wierzchoÅki","pinningButton":"SworzeÅ wspÃ³lne wierzchoÅki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fÃ¶r att placera markÃ¶r","firstVertex":"Klicka fÃ¶r att placera fÃ¶rsta hÃ¶rnet","continueLine":"Klicka fÃ¶r att fortsÃ¤tta rita","finishLine":"Klicka pÃ¥ en existerande punkt fÃ¶r att slutfÃ¶ra","finishPoly":"Klicka pÃ¥ den fÃ¶rsta punkten fÃ¶r att slutfÃ¶ra","finishRect":"Klicka fÃ¶r att slutfÃ¶ra","startCircle":"Klicka fÃ¶r att placera cirkelns centrum","finishCircle":"Klicka fÃ¶r att slutfÃ¶ra cirkeln","placeCircleMarker":"Klicka fÃ¶r att placera cirkelmarkÃ¶r"},"actions":{"finish":"SlutfÃ¶r","cancel":"Avbryt","removeLastVertex":"Ta bort sista hÃ¶rnet"},"buttonTitles":{"drawMarkerButton":"Rita MarkÃ¶r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita CirkelmarkÃ¶r","snappingButton":"SnÃ¤pp dra markÃ¶ren till andra lager och hÃ¶rn","pinningButton":"FÃ¤st delade hÃ¶rn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± ÏÎ¿ÏÎ¿Î¸ÎµÏÎ®ÏÎµÏÎµ ÎÎµÎ¯ÎºÏÎ·","firstVertex":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± ÏÎ¿ÏÎ¿Î¸ÎµÏÎ®ÏÎµÏÎµ ÏÎ¿ ÏÏÏÏÎ¿ ÏÎ·Î¼ÎµÎ¯Î¿","continueLine":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± ÏÏÎ½ÎµÏÎ¯ÏÎµÏÎµ Î½Î± ÏÏÎµÎ´Î¹Î¬Î¶ÎµÏÎµ","finishLine":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº ÏÎµ Î¿ÏÎ¿Î¹Î¿Î½Î´Î®ÏÎ¿ÏÎµ ÏÏÎ¬ÏÏÎ¿Î½ ÏÎ·Î¼ÎµÎ¯Î¿ Î³Î¹Î± Î½Î± Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸ÎµÎ¯","finishPoly":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº ÏÏÎ¿ ÏÏÏÏÎ¿ ÏÎ·Î¼ÎµÎ¯Î¿ Î³Î¹Î± Î½Î± ÏÎµÎ»ÎµÎ¹ÏÏÎµÏÎµ","finishRect":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± ÏÎµÎ»ÎµÎ¹ÏÏÎµÏÎµ","startCircle":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± ÏÎ¿ÏÎ¿Î¸ÎµÏÎ®ÏÎµÏÎµ ÎºÎ­Î½ÏÏÎ¿ ÎÏÎºÎ»Î¿Ï","finishCircle":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± Î¿Î»Î¿ÎºÎ»Î·ÏÏÏÎµÏÎµ ÏÎ¿Î½ ÎÏÎºÎ»Î¿","placeCircleMarker":"ÎÎ¬Î½ÏÎµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± ÏÎ¿ÏÎ¿Î¸ÎµÏÎ®ÏÎµÏÎµ ÎÏÎºÎ»Î¹ÎºÏ ÎÎµÎ¯ÎºÏÎ·"},"actions":{"finish":"Î¤Î­Î»Î¿Ï","cancel":"ÎÎºÏÏÏÏÎ·","removeLastVertex":"ÎÎ±ÏÎ¬ÏÎ³Î·ÏÎ· ÏÎµÎ»ÎµÏÏÎ±Î¯Î¿Ï ÏÎ·Î¼ÎµÎ¯Î¿Ï"},"buttonTitles":{"drawMarkerButton":"Î£ÏÎµÎ´Î¯Î±ÏÎ· ÎÎµÎ¯ÎºÏÎ·","drawPolyButton":"Î£ÏÎµÎ´Î¯Î±ÏÎ· Î Î¿Î»ÏÎ³ÏÎ½Î¿Ï","drawLineButton":"Î£ÏÎµÎ´Î¯Î±ÏÎ· ÎÏÎ±Î¼Î¼Î®Ï","drawCircleButton":"Î£ÏÎµÎ´Î¯Î±ÏÎ· ÎÏÎºÎ»Î¿Ï","drawRectButton":"Î£ÏÎµÎ´Î¯Î±ÏÎ· ÎÏÎ¸Î¿Î³ÏÎ½Î¯Î¿Ï","editButton":"ÎÏÎµÎ¾ÎµÏÎ³Î±ÏÎ¯Î± ÎÏÎ¹ÏÎ­Î´ÏÎ½","dragButton":"ÎÎµÏÎ±ÏÎ¿ÏÎ¬ ÎÏÎ¹ÏÎ­Î´ÏÎ½","cutButton":"ÎÏÎ¿ÎºÎ¿ÏÎ® ÎÏÎ¹ÏÎ­Î´ÏÎ½","deleteButton":"ÎÎ±ÏÎ¬ÏÎ³Î·ÏÎ· ÎÏÎ¹ÏÎ­Î´ÏÎ½","drawCircleMarkerButton":"Î£ÏÎµÎ´Î¯Î±ÏÎ· ÎÏÎºÎ»Î¹ÎºÎ¿Ï ÎÎµÎ¯ÎºÏÎ·","snappingButton":"Î ÏÎ¿ÏÎºÏÎ»Î»Î·ÏÎ· ÏÎ¿Ï ÎÎµÎ¯ÎºÏÎ· Î¼ÎµÏÎ±ÏÎ¿ÏÎ¬Ï ÏÎµ Î¬Î»Î»Î± ÎÏÎ¯ÏÎµÎ´Î± ÎºÎ±Î¹ ÎÎ¿ÏÏÏÎ­Ï","pinningButton":"Î ÎµÏÎ¹ÎºÎ¿ÏÎ® ÎºÎ¿Î¹Î½ÏÎ½ ÎºÎ¿ÏÏÏÏÎ½ Î¼Î±Î¶Î¯"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jelÃ¶lÅ elhelyezÃ©sÃ©hez","firstVertex":"Kattintson az elsÅ pont elhelyezÃ©sÃ©hez","continueLine":"Kattintson a kÃ¶vetkezÅ pont elhelyezÃ©sÃ©hez","finishLine":"A befejezÃ©shez kattintson egy meglÃ©vÅ pontra","finishPoly":"A befejezÃ©shez kattintson az elsÅ pontra","finishRect":"Kattintson a befejezÃ©shez","startCircle":"Kattintson a kÃ¶r kÃ¶zÃ©ppontjÃ¡nak elhelyezÃ©sÃ©hez","finishCircle":"Kattintson a kÃ¶r befejezÃ©sÃ©hez","placeCircleMarker":"Kattintson a kÃ¶rjelÃ¶lÅ elhelyezÃ©sÃ©hez"},"actions":{"finish":"BefejezÃ©s","cancel":"MÃ©gse","removeLastVertex":"UtolsÃ³ pont eltÃ¡volÃ­tÃ¡sa"},"buttonTitles":{"drawMarkerButton":"JelÃ¶lÅ rajzolÃ¡sa","drawPolyButton":"Poligon rajzolÃ¡sa","drawLineButton":"Vonal rajzolÃ¡sa","drawCircleButton":"KÃ¶r rajzolÃ¡sa","drawRectButton":"NÃ©gyzet rajzolÃ¡sa","editButton":"Elemek szerkesztÃ©se","dragButton":"Elemek mozgatÃ¡sa","cutButton":"Elemek vÃ¡gÃ¡sa","deleteButton":"Elemek tÃ¶rlÃ©se","drawCircleMarkerButton":"KÃ¶r jelÃ¶lÅ rajzolÃ¡sa","snappingButton":"Kapcsolja a jelÃ¶ltÅt mÃ¡sik elemhez vagy ponthoz","pinningButton":"KÃ¶zÃ¶s pontok Ã¶sszekÃ¶tÃ©se"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markÃ¸r","firstVertex":"Tryk for at placere det fÃ¸rste punkt","continueLine":"Tryk for at fortsÃ¦tte linjen","finishLine":"Tryk pÃ¥ et eksisterende punkt for at afslutte","finishPoly":"Tryk pÃ¥ det fÃ¸rste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkÃ¸r"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markÃ¸r","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"TrÃ¦k","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkÃ¸r","snappingButton":"FastgÃ¸r trukket markÃ¸r til andre elementer","pinningButton":"SammenlÃ¦g delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for Ã¥ plassere punkt","firstVertex":"Klikk for Ã¥ plassere fÃ¸rste punkt","continueLine":"Klikk for Ã¥ tegne videre","finishLine":"Klikk pÃ¥ et eksisterende punkt for Ã¥ fullfÃ¸re","finishPoly":"Klikk fÃ¸rste punkt for Ã¥ fullfÃ¸re","finishRect":"Klikk for Ã¥ fullfÃ¸re","startCircle":"Klikk for Ã¥ sette sirkel midtpunkt","finishCircle":"Klikk for Ã¥ fullfÃ¸re sirkel","placeCircleMarker":"Klikk for Ã¥ plassere sirkel"},"actions":{"finish":"FullfÃ¸r","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û Ø¬Ø§ÙÙØ§ÛÛ ÙØ´Ø§Ù","firstVertex":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û Ø±Ø³Ù Ø§ÙÙÛÙ Ø±Ø£Ø³","continueLine":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û Ø§Ø¯Ø§ÙÙ Ø±Ø³Ù","finishLine":"Ú©ÙÛÚ© Ø±ÙÛ ÙØ± ÙØ´Ø§Ù ÙÙØ¬ÙØ¯ Ø¨Ø±Ø§Û Ù¾Ø§ÛØ§Ù","finishPoly":"Ú©ÙÛÚ© Ø±ÙÛ Ø§ÙÙÛÙ ÙØ´Ø§Ù Ø¨Ø±Ø§Û Ù¾Ø§ÛØ§Ù","finishRect":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û Ù¾Ø§ÛØ§Ù","startCircle":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û Ø±Ø³Ù ÙØ±Ú©Ø² Ø¯Ø§ÛØ±Ù","finishCircle":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û Ù¾Ø§ÛØ§Ù Ø±Ø³Ù Ø¯Ø§ÛØ±Ù","placeCircleMarker":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û Ø±Ø³Ù ÙØ´Ø§Ù Ø¯Ø§ÛØ±Ù","placeText":"Ú©ÙÛÚ© Ø¨Ø±Ø§Û ÙÙØ´ØªÙ ÙØªÙ"},"actions":{"finish":"Ù¾Ø§ÛØ§Ù","cancel":"ÙÙÙ","removeLastVertex":"Ø­Ø°Ù Ø¢Ø®Ø±ÛÙ Ø±Ø£Ø³"},"buttonTitles":{"drawMarkerButton":"Ø¯Ø±Ø¬ ÙØ´Ø§Ù","drawPolyButton":"Ø±Ø³Ù ÚÙØ¯Ø¶ÙØ¹Û","drawLineButton":"Ø±Ø³Ù Ø®Ø·","drawCircleButton":"Ø±Ø³Ù Ø¯Ø§ÛØ±Ù","drawRectButton":"Ø±Ø³Ù ÚÙØ§Ø±Ø¶ÙØ¹Û","editButton":"ÙÛØ±Ø§ÛØ´ ÙØ§ÛÙâÙØ§","dragButton":"Ø¬Ø§Ø¨Ø¬Ø§ÛÛ ÙØ§ÛÙâÙØ§","cutButton":"Ø¨Ø±Ø´ ÙØ§ÛÙâÙØ§","deleteButton":"Ø­Ø°Ù ÙØ§ÛÙâÙØ§","drawCircleMarkerButton":"Ø±Ø³Ù ÙØ´Ø§Ù Ø¯Ø§ÛØ±Ù","snappingButton":"ÙØ´Ø§ÙÚ¯Ø± Ø±Ø§ Ø¨Ù ÙØ§ÛÙâÙØ§ Ù Ø±Ø¦ÙØ³ Ø¯ÛÚ¯Ø± Ø¨Ú©Ø´ÛØ¯","pinningButton":"Ø±Ø¦ÙØ³ ÙØ´ØªØ±Ú© Ø±Ø§ Ø¨Ø§ ÙÙ Ù¾ÛÙ Ú©ÙÛØ¯","rotateButton":"ÚØ±Ø®Ø´ ÙØ§ÛÙ","drawTextButton":"Ø±Ø³Ù ÙØªÙ"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ, ÑÐ¾Ð± Ð½Ð°Ð½ÐµÑÑÐ¸ Ð¼Ð°ÑÐºÐµÑ","firstVertex":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ, ÑÐ¾Ð± Ð½Ð°Ð½ÐµÑÑÐ¸ Ð¿ÐµÑÑÑ Ð²ÐµÑÑÐ¸Ð½Ñ","continueLine":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ, ÑÐ¾Ð± Ð¿ÑÐ¾Ð´Ð¾Ð²Ð¶Ð¸ÑÐ¸ Ð¼Ð°Ð»ÑÐ²Ð°ÑÐ¸","finishLine":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ Ð±ÑÐ´Ñ-ÑÐºÐ¸Ð¹ ÑÑÐ½ÑÑÑÐ¸Ð¹ Ð¼Ð°ÑÐºÐµÑ Ð´Ð»Ñ Ð·Ð°Ð²ÐµÑÑÐµÐ½Ð½Ñ","finishPoly":"ÐÐ¸Ð±ÐµÑÑÑÑ Ð¿ÐµÑÑÐ¸Ð¹ Ð¼Ð°ÑÐºÐµÑ, ÑÐ¾Ð± Ð·Ð°Ð²ÐµÑÑÐ¸ÑÐ¸","finishRect":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ, ÑÐ¾Ð± Ð·Ð°Ð²ÐµÑÑÐ¸ÑÐ¸","startCircle":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ ÑÐµÐ½ÑÑ ÐºÐ¾Ð»Ð°","finishCircle":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ, ÑÐ¾Ð± Ð·Ð°Ð²ÐµÑÑÐ¸ÑÐ¸ ÐºÐ¾Ð»Ð¾","placeCircleMarker":"ÐÐ°ÑÐ¸ÑÐ½ÑÑÑ, ÑÐ¾Ð± Ð½Ð°Ð½ÐµÑÑÐ¸ ÐºÑÑÐ³Ð¾Ð²Ð¸Ð¹ Ð¼Ð°ÑÐºÐµÑ"},"actions":{"finish":"ÐÐ°Ð²ÐµÑÑÐ¸ÑÐ¸","cancel":"ÐÑÐ´Ð¼ÑÐ½Ð¸ÑÐ¸","removeLastVertex":"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¿Ð¾Ð¿ÐµÑÐµÐ´Ð½Ñ Ð²ÐµÑÑÐ¸Ð½Ñ"},"buttonTitles":{"drawMarkerButton":"ÐÐ°Ð»ÑÐ²Ð°ÑÐ¸ Ð¼Ð°ÑÐºÐµÑ","drawPolyButton":"ÐÐ°Ð»ÑÐ²Ð°ÑÐ¸ Ð¿Ð¾Ð»ÑÐ³Ð¾Ð½","drawLineButton":"ÐÐ°Ð»ÑÐ²Ð°ÑÐ¸ ÐºÑÐ¸Ð²Ñ","drawCircleButton":"ÐÐ°Ð»ÑÐ²Ð°ÑÐ¸ ÐºÐ¾Ð»Ð¾","drawRectButton":"ÐÐ°Ð»ÑÐ²Ð°ÑÐ¸ Ð¿ÑÑÐ¼Ð¾ÐºÑÑÐ½Ð¸Ðº","editButton":"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÑÐ°ÑÐ¸","dragButton":"ÐÐµÑÐµÐ½ÐµÑÑÐ¸ ÑÐ°ÑÐ¸","cutButton":"ÐÐ¸ÑÑÐ·Ð°ÑÐ¸ ÑÐ°ÑÐ¸","deleteButton":"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ ÑÐ°ÑÐ¸","drawCircleMarkerButton":"ÐÐ°Ð»ÑÐ²Ð°ÑÐ¸ ÐºÑÑÐ³Ð¾Ð²Ð¸Ð¹ Ð¼Ð°ÑÐºÐµÑ","snappingButton":"ÐÑÐ¸Ð²âÑÐ·Ð°ÑÐ¸ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÐ¸Ð¹ Ð¼Ð°ÑÐºÐµÑ Ð´Ð¾ ÑÐ½ÑÐ¸Ñ ÑÐ°ÑÑÐ² ÑÐ° Ð²ÐµÑÑÐ¸Ð½","pinningButton":"ÐÐ²'ÑÐ·Ð°ÑÐ¸ ÑÐ¿ÑÐ»ÑÐ½Ñ Ð²ÐµÑÑÐ¸Ð½Ð¸ ÑÐ°Ð·Ð¾Ð¼"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"Ä°ÅaretÃ§i yerleÅtirmek iÃ§in tÄ±klayÄ±n","firstVertex":"Ä°lk tepe noktasÄ±nÄ± yerleÅtirmek iÃ§in tÄ±klayÄ±n","continueLine":"Ãizime devam etmek iÃ§in tÄ±klayÄ±n","finishLine":"Bitirmek iÃ§in mevcut herhangi bir iÅaretÃ§iyi tÄ±klayÄ±n","finishPoly":"Bitirmek iÃ§in ilk iÅaretÃ§iyi tÄ±klayÄ±n","finishRect":"Bitirmek iÃ§in tÄ±klayÄ±n","startCircle":"Daire merkezine yerleÅtirmek iÃ§in tÄ±klayÄ±n","finishCircle":"Daireyi bitirmek iÃ§in tÄ±klayÄ±n","placeCircleMarker":"Daire iÅaretÃ§isi yerleÅtirmek iÃ§in tÄ±klayÄ±n"},"actions":{"finish":"Bitir","cancel":"Ä°ptal","removeLastVertex":"Son kÃ¶Åeyi kaldÄ±r"},"buttonTitles":{"drawMarkerButton":"Ãizim Ä°ÅaretÃ§isi","drawPolyButton":"Ãokgenler Ã§iz","drawLineButton":"Ãoklu Ã§izgi Ã§iz","drawCircleButton":"Ãember Ã§iz","drawRectButton":"DikdÃ¶rtgen Ã§iz","editButton":"KatmanlarÄ± dÃ¼zenle","dragButton":"KatmanlarÄ± sÃ¼rÃ¼kle","cutButton":"KatmanlarÄ± kes","deleteButton":"KatmanlarÄ± kaldÄ±r","drawCircleMarkerButton":"Daire iÅaretÃ§isi Ã§iz","snappingButton":"SÃ¼rÃ¼klenen iÅaretÃ§iyi diÄer katmanlara ve kÃ¶Åelere yapÄ±ÅtÄ±r","pinningButton":"PaylaÅÄ±lan kÃ¶Åeleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"KliknutÃ­m vytvoÅÃ­te znaÄku","firstVertex":"KliknutÃ­m vytvoÅÃ­te prvnÃ­ objekt","continueLine":"KliknutÃ­m pokraÄujte v kreslenÃ­","finishLine":"KliknutÃ­ na libovolnou existujÃ­cÃ­ znaÄku pro dokonÄenÃ­","finishPoly":"Vyberte prvnÃ­ bod pro dokonÄenÃ­","finishRect":"KliknÄte pro dokonÄenÃ­","startCircle":"KliknutÃ­m pÅidejte stÅed kruhu","finishCircle":"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð·Ð°Ð´Ð°ÑÑ ÑÐ°Ð´Ð¸ÑÑ","placeCircleMarker":"KliknutÃ­m nastavte polomÄr"},"actions":{"finish":"DokonÄit","cancel":"ZruÅ¡it","removeLastVertex":"ZruÅ¡it poslednÃ­ akci"},"buttonTitles":{"drawMarkerButton":"PÅidat znaÄku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kÅivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdÃ©lnÃ­k","editButton":"Upravit vrstvu","dragButton":"PÅeneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"PÅidat kruhovou znaÄku","snappingButton":"NavÃ¡zat taÅ¾nou znaÄku k dalÅ¡Ã­m vrstvÃ¡m a vrcholÅ¯m","pinningButton":"Spojit spoleÄnÃ© body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"ã¯ãªãã¯ãã¦ãã¼ã«ã¼ãéç½®","firstVertex":"ã¯ãªãã¯ãã¦æåã®é ç¹ãéç½®","continueLine":"ã¯ãªãã¯ãã¦æç»ãç¶ãã","finishLine":"ä»»æã®ãã¼ã«ã¼ãã¯ãªãã¯ãã¦çµäº","finishPoly":"æåã®ãã¼ã«ã¼ãã¯ãªãã¯ãã¦çµäº","finishRect":"ã¯ãªãã¯ãã¦çµäº","startCircle":"ã¯ãªãã¯ãã¦åã®ä¸­å¿ãéç½®","finishCircle":"ã¯ãªãã¯ãã¦åã®æç»ãçµäº","placeCircleMarker":"ã¯ãªãã¯ãã¦åãã¼ã«ã¼ãéç½®","placeText":"ã¯ãªãã¯ãã¦ãã­ã¹ããéç½®"},"actions":{"finish":"çµäº","cancel":"ã­ã£ã³ã»ã«","removeLastVertex":"æå¾ã®é ç¹ãåé¤"},"buttonTitles":{"drawMarkerButton":"ãã¼ã«ã¼ãæç»","drawPolyButton":"ããªã´ã³ãæç»","drawLineButton":"æãç·ãæç»","drawCircleButton":"åãæç»","drawRectButton":"ç©å½¢ãæç»","editButton":"ã¬ã¤ã¤ã¼ãç·¨é","dragButton":"ã¬ã¤ã¤ã¼ããã©ãã°","cutButton":"ã¬ã¤ã¤ã¼ãåãåã","deleteButton":"ã¬ã¤ã¤ã¼ãåé¤","drawCircleMarkerButton":"åãã¼ã«ã¼ãæç»","snappingButton":"ãã©ãã°ãããã¼ã«ã¼ãä»ã®ã¬ã¤ã¤ã¼ãé ç¹ã«ã¹ããããã","pinningButton":"å±æããé ç¹ãåæã«åãã","rotateButton":"ã¬ã¤ã¤ã¼ãåè»¢","drawTextButton":"ãã­ã¹ããæç»"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmÃ¤isen osuuden","continueLine":"Klikkaa jatkaaksesi piirtÃ¤mistÃ¤","finishLine":"Klikkaa olemassa olevaa merkkiÃ¤ lopettaaksesi","finishPoly":"Klikkaa ensimmÃ¤istÃ¤ merkkiÃ¤ lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrÃ¤n keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrÃ¤n","placeCircleMarker":"Klikkaa asettaaksesi ympyrÃ¤merkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"PiirrÃ¤ merkkejÃ¤","drawPolyButton":"PiirrÃ¤ monikulmioita","drawLineButton":"PiirrÃ¤ viivoja","drawCircleButton":"PiirrÃ¤ ympyrÃ¤","drawRectButton":"PiirrÃ¤ neliskulmioita","editButton":"Muokkaa","dragButton":"SiirrÃ¤","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"PiirrÃ¤ ympyrÃ¤merkki","snappingButton":"KiinnitÃ¤ siirrettÃ¤vÃ¤ merkki toisiin muotoihin","pinningButton":"KiinnitÃ¤ jaetut muodot yhteen","rotateButton":"KÃ¤Ã¤nnÃ¤","drawTextButton":"PiirrÃ¤ tekstiÃ¤"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"ë§ì»¤ ìì¹ë¥¼ í´ë¦­íì¸ì","firstVertex":"ì²«ë²ì§¸ ê¼­ì§ì  ìì¹ì í´ë¦­íì¸ì","continueLine":"ê³ì ê·¸ë¦¬ë ¤ë©´ í´ë¦­íì¸ì","finishLine":"ëë´ë ¤ë©´ ê¸°ì¡´ ë§ì»¤ë¥¼ í´ë¦­íì¸ì","finishPoly":"ëë´ë ¤ë©´ ì²ì ë§ì»¤ë¥¼ í´ë¦­íì¸ì","finishRect":"ëë´ë ¤ë©´ í´ë¦­íì¸ì","startCircle":"ìì ì¤ì¬ì´ ë  ìì¹ë¥¼ í´ë¦­íì¸ì","finishCircle":"ìì ëë´ë ¤ë©´ í´ë¦­íì¸ì","placeCircleMarker":"ì ë§ì»¤ ìì¹ë¥¼ í´ë¦­íì¸ì","placeText":"íì¤í¸ ìì¹ë¥¼ í´ë¦­íì¸ì"},"actions":{"finish":"ëë´ê¸°","cancel":"ì·¨ì","removeLastVertex":"ë§ì§ë§ ê¼­ì§ì  ì ê±°"},"buttonTitles":{"drawMarkerButton":"ë§ì»¤ ê·¸ë¦¬ê¸°","drawPolyButton":"ë¤ê°í ê·¸ë¦¬ê¸°","drawLineButton":"ë¤ê°ì  ê·¸ë¦¬ê¸°","drawCircleButton":"ì ê·¸ë¦¬ê¸°","drawRectButton":"ì§ì¬ê°í ê·¸ë¦¬ê¸°","editButton":"ë ì´ì´ í¸ì§íê¸°","dragButton":"ë ì´ì´ ëê¸°","cutButton":"ë ì´ì´ ìë¥´ê¸°","deleteButton":"ë ì´ì´ ì ê±°íê¸°","drawCircleMarkerButton":"ì ë§ì»¤ ê·¸ë¦¬ê¸°","snappingButton":"ì¡ìë ë§ì»¤ë¥¼ ë¤ë¥¸ ë ì´ì´ ë° ê¼­ì§ì ì ë¤ë¬ë¶ê² íê¸°","pinningButton":"ê³µì  ê¼­ì§ì ì í¨ê» ì°ê¸°","rotateButton":"ë ì´ì´ íì íê¸°","drawTextButton":"íì¤í¸ ê·¸ë¦¬ê¸°"}}')};function z(i,a){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);a&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable})),c.push.apply(c,v)}return c}function U(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?z(Object(c),!0).forEach(function(v){p(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):z(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}function p(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}const ft={_globalEditModeEnabled:!1,enableGlobalEditMode:function(i){var a=U({},i);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(c){c.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(i){i.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(i)},handleLayerAdditionInGlobalEditMode:function(){var i=this._addedLayers;for(var a in this._addedLayers={},i){var c=i[a];this._isRelevantForEdit(c)&&this.globalEditModeEnabled()&&c.pm.enable(U({},this.globalOptions))}},_layerAdded:function(i){var a=i.layer;this._addedLayers[L.stamp(a)]=a},_isRelevantForEdit:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowEditing}},xt={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},i.forEach(function(a){a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,i.forEach(function(a){a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var i=this._addedLayersDrag;for(var a in this._addedLayersDrag={},i){var c=i[a];this._isRelevantForDrag(c)&&this.globalDragModeEnabled()&&c.pm.enableLayerDrag()}},_layerAddedDrag:function(i){var a=i.layer;this._addedLayersDrag[L.stamp(a)]=a},_isRelevantForDrag:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.draggable}},wt={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var i=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(a){i._isRelevantForRemoval(a)&&(a.pm.disable(),a.on("click",i.removeLayer,i))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var i=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(a){a.off("click",i.removeLayer,i)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(i){var a=i.layer;this._isRelevantForRemoval(a)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(i){var a=i.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRemoval}},St={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var i=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(a){return a instanceof L.Polyline}).forEach(function(a){i._isRelevantForRotate(a)&&a.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(i){return i instanceof L.Polyline}).forEach(function(i){i.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(i){var a=i.layer;this._isRelevantForRotate(a)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRotation}};function Bt(i,a){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);a&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable})),c.push.apply(c,v)}return c}function Tt(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?Bt(Object(c),!0).forEach(function(v){Nt(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):Bt(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}function Nt(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}var lt={_fireDrawStart:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},i,a)},_fireDrawEnd:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},i,a)},_fireCreate:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:i,layer:i},a,c)},_fireCenterPlaced:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i==="Draw"?this._layer:void 0,v=i!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:c,layer:v,latlng:this._layer.getLatLng()},i,a)},_fireCut:function(i,a,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(i,"pm:cut",{shape:this._shape,layer:a,originalLayer:c},v,M)},_fireEdit:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(i,"pm:edit",{layer:this._layer,shape:this.getShape()},a,c)},_fireEnable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},i,a)},_fireDisable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},i,a)},_fireUpdate:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},i,a)},_fireMarkerDragStart:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a},c,v)},_fireMarkerDrag:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a},c,v)},_fireMarkerDragEnd:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a,intersectionReset:c},v,M)},_fireDragStart:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},i,a)},_fireDrag:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",Tt(Tt({},i),{},{shape:this.getShape()}),a,c)},_fireDragEnd:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},i,a)},_fireDragEnable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},i,a)},_fireDragDisable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},i,a)},_fireRemove:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:remove",{layer:a,shape:this.getShape()},c,v)},_fireVertexAdded:function(i,a,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:i,indexPath:a,latlng:c,shape:this.getShape()},v,M)},_fireVertexRemoved:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:i,indexPath:a,shape:this.getShape()},c,v)},_fireVertexClick:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:i,indexPath:a,shape:this.getShape()},c,v)},_fireIntersect:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:i,shape:this.getShape()},a,c)},_fireLayerReset:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:i,indexPath:a,shape:this.getShape()},c,v)},_fireChange:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:i,shape:this.getShape()},a,c)},_fireTextChange:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:i,shape:this.getShape()},a,c)},_fireTextFocus:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},i,a)},_fireTextBlur:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},i,a)},_fireSnapDrag:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:snapdrag",a,c,v)},_fireSnap:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:snap",a,c,v)},_fireUnsnap:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:unsnap",a,c,v)},_fireRotationEnable:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},c,v)},_fireRotationDisable:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(i,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,c)},_fireRotationStart:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},c,v)},_fireRotation:function(i,a,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",j=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(i,"pm:rotate",{layer:v,helpLayer:this._layer,startAngle:this._startAngle,angle:v.pm.getAngle(),angleDiff:a,oldLatLngs:c,newLatLngs:v.getLatLngs()},M,j)},_fireRotationEnd:function(i,a,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(i,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:c,newLatLngs:this._rotationLayer.getLatLngs()},v,M)},_fireActionClick:function(i,a,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:i.text,action:i,btnName:a,button:c},v,M)},_fireButtonClick:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:i,button:a},c,v)},_fireLangChange:function(i,a,c,v){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",j=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:i,activeLang:a,fallback:c,translations:v},M,j)},_fireGlobalDragModeToggled:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:i,map:this.map},a,c)},_fireGlobalEditModeToggled:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:i,map:this.map},a,c)},_fireGlobalRemovalModeToggled:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:i,map:this.map},a,c)},_fireGlobalCutModeToggled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},i,a)},_fireGlobalDrawModeToggled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},i,a)},_fireGlobalRotateModeToggled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},i,a)},_fireRemoveLayerGroup:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:remove",{layer:a,shape:void 0},c,v)},_fireKeyeventEvent:function(i,a,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:i,eventType:a,focusOn:c},v,M)},__fire:function(i,a,c,v){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};c=P()(c,M,{source:v}),L.PM.Utils._fireEvent(i,a,c)}};const Mt=lt,At={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(i){this.map=i,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(i){var a="document";this.map.getContainer().contains(i.target)&&(a="map");var c={event:i,eventType:i.type,focusOn:a};this._lastEvents[i.type]=c,this._lastEvents.current=c,this.map.pm._fireKeyeventEvent(i,i.type,a)},_onBlur:function(i){i.altKey=!1;var a={event:i,eventType:i.type,focusOn:"document"};this._lastEvents[i.type]=a,this._lastEvents.current=a},getLastKeyEvent:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[i]},isShiftKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.shiftKey},isAltKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.altKey},isCtrlKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.ctrlKey},isMetaKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.metaKey},getPressedKey:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.key}};var Qt=o(7361),Pt=o.n(Qt),te=o(8721),Gt=o.n(te);function Ot(i){var a=L.PM.activeLang;return Gt()(H,a)||(a="en"),Pt()(H[a],i)}function Kt(i){for(var a=0;a<i.length;a+=1){var c=i[a];if(Array.isArray(c)){if(Kt(c))return!0}else if(c!=null&&c!=="")return!0}return!1}function dt(i){return i.reduce(function(a,c){if(c.length!==0){var v=Array.isArray(c)?dt(c):c;Array.isArray(v)?v.length!==0&&a.push(v):a.push(v)}return a},[])}function Ft(i,a,c){for(var v,M,j,G=6378137,K=63567523142e-4,q=.0033528106647474805,X=i.lng,st=i.lat,yt=c,pt=Math.PI,Dt=a*pt/180,zt=Math.sin(Dt),ee=Math.cos(Dt),ce=(1-q)*Math.tan(st*pt/180),Ce=1/Math.sqrt(1+ce*ce),Jt=ce*Ce,Ee=Math.atan2(ce,ee),l=Ce*zt,f=1-l*l,m=f*(G*G-K*K)/(K*K),y=1+m/16384*(4096+m*(m*(320-175*m)-768)),E=m/1024*(256+m*(m*(74-47*m)-128)),T=yt/(K*y),B=2*Math.PI;Math.abs(T-B)>1e-12;)v=Math.cos(2*Ee+T),B=T,T=yt/(K*y)+E*(M=Math.sin(T))*(v+E/4*((j=Math.cos(T))*(2*v*v-1)-E/6*v*(4*M*M-3)*(4*v*v-3)));var tt=Jt*M-Ce*j*ee,W=Math.atan2(Jt*j+Ce*M*ee,(1-q)*Math.sqrt(l*l+tt*tt)),rt=q/16*f*(4+q*(4-3*f)),ht=X+180*(Math.atan2(M*zt,Ce*j-Jt*M*ee)-(1-rt)*q*l*(T+rt*M*(v+rt*j*(2*v*v-1))))/pt,Lt=180*W/pt;return L.latLng(ht,Lt)}function Zt(i,a,c,v){for(var M,j,G=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],K=[],q=0;q<c;q+=1){if(G)M=Ft(i,360*q/c+v,a),j=L.latLng(M.lng,M.lat);else{var X=i.lat+Math.cos(2*q*Math.PI/c)*a,st=i.lng+Math.sin(2*q*Math.PI/c)*a;j=L.latLng(X,st)}K.push(j)}return K}function jt(i,a,c,v){var M=function(j,G,K){var q=j.latLngToContainerPoint(G),X=j.latLngToContainerPoint(K),st=180*Math.atan2(X.y-q.y,X.x-q.x)/Math.PI+90;return st+(st<0?360:0)}(i,a,c);return function(j,G,K){G=(G+360)%360;var q=Math.PI/180,X=180/Math.PI,st=6378137,yt=j.lng*q,pt=j.lat*q,Dt=G*q,zt=Math.sin(pt),ee=Math.cos(pt),ce=Math.cos(K/st),Ce=Math.sin(K/st),Jt=Math.asin(zt*ce+ee*Ce*Math.cos(Dt)),Ee=yt+Math.atan2(Math.sin(Dt)*Ce*ee,ce-zt*Math.sin(Jt));return Ee=(Ee*=X)>180?Ee-360:Ee<-180?Ee+360:Ee,L.latLng([Jt*X,Ee])}(a,M,v)}function de(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!a||Object.keys(a).length===0)return function(q,X){return q-X};for(var v,M=Object.keys(a),j=M.length-1,G={};j>=0;)v=M[j],G[v.toLowerCase()]=a[v],j-=1;function K(q){return q instanceof L.Marker?"Marker":q instanceof L.Circle?"Circle":q instanceof L.CircleMarker?"CircleMarker":q instanceof L.Rectangle?"Rectangle":q instanceof L.Polygon?"Polygon":q instanceof L.Polyline?"Line":void 0}return function(q,X){var st,yt;if(i==="instanceofShape"){if(st=K(q.layer).toLowerCase(),yt=K(X.layer).toLowerCase(),!st||!yt)return 0}else{if(!q.hasOwnProperty(i)||!X.hasOwnProperty(i))return 0;st=q[i].toLowerCase(),yt=X[i].toLowerCase()}var pt=st in G?G[st]:Number.MAX_SAFE_INTEGER,Dt=yt in G?G[yt]:Number.MAX_SAFE_INTEGER,zt=0;return pt<Dt?zt=-1:pt>Dt&&(zt=1),c==="desc"?-1*zt:zt}}function oe(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.getLatLngs();return i instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function Ie(i,a){var c,v;if((c=a.options.crs)!==null&&c!==void 0&&(v=c.projection)!==null&&v!==void 0&&v.MAX_LATITUDE){var M,j,G=(M=a.options.crs)===null||M===void 0||(j=M.projection)===null||j===void 0?void 0:j.MAX_LATITUDE;i.lat=Math.max(Math.min(G,i.lat),-G)}return i}function qe(i){return i.options.renderer||i._map&&(i._map._getPaneRenderer(i.options.pane)||i._map.options.renderer||i._map._renderer)||i._renderer}const Ri=L.Class.extend({includes:[ft,xt,wt,St,Mt],initialize:function(i){this.map=i,this.Draw=new L.PM.Draw(i),this.Toolbar=new L.PM.Toolbar(i),this.Keyboard=At,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(i)},setLang:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",a=arguments.length>1?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",v=L.PM.activeLang;a&&(H[i]=P()(H[c],a)),L.PM.activeLang=i,this.map.pm.Toolbar.reinit(),this._fireLangChange(v,i,c,H[i])},addControls:function(i){this.Toolbar.addControls(i)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",a=arguments.length>1?arguments[1]:void 0;i==="Poly"&&(i="Polygon"),this.Draw.enable(i,a)},disableDraw:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";i==="Poly"&&(i="Polygon"),this.Draw.disable(i)},setPathOptions:function(i){var a=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=c.ignoreShapes||[],M=c.merge||!1;this.map.pm.Draw.shapes.forEach(function(j){v.indexOf(j)===-1&&a.map.pm.Draw[j].setPathOptions(i,M)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(i){var a=this,c=P()(this.globalOptions,i),v=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!c.editable&&(this.map.pm.Draw.CircleMarker.disable(),v=!0),this.map.pm.Draw.shapes.forEach(function(M){a.map.pm.Draw[M].setOptions(c)}),v&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(M){M.pm.setOptions(c)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=c,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(i){i.pm.enabled()&&i.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(i){return this.Draw.Cut.enable(i)},toggleGlobalCutMode:function(i){return this.Draw.Cut.toggle(i)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map);if(!i)return a;var c=L.featureGroup();return c._pmTempLayer=!0,a.forEach(function(v){c.addLayer(v)}),c},getGeomanDrawLayers:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map).filter(function(v){return v._drawnByGeoman===!0});if(!i)return a;var c=L.featureGroup();return c._pmTempLayer=!0,a.forEach(function(v){c.addLayer(v)}),c},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(i){this._touchEventCounter===0&&(L.DomEvent.on(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(i){this._touchEventCounter===1&&(L.DomEvent.off(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(i){qe(this.map)._onMouseMove(this._createMouseEvent("mousemove",i))},_canvasTouchClick:function(i){var a="";i.type==="touchstart"||i.type==="pointerdown"?a="mousedown":i.type==="touchend"||i.type==="pointerup"?a="mouseup":i.type!=="touchcancel"&&i.type!=="pointercancel"||(a="mouseup"),a&&qe(this.map)._onClick(this._createMouseEvent(a,i))},_createMouseEvent:function(i,a){var c,v=a.touches[0]||a.changedTouches[0];try{c=new MouseEvent(i,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:v.detail,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{(c=document.createEvent("MouseEvents")).initMouseEvent(i,a.bubbles,a.cancelable,a.view,v.detail,v.screenX,v.screenY,v.clientX,v.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return c}}),xi=L.Control.extend({includes:[Mt],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(i){this._button=L.Util.extend({},this.options,i)},onAdd:function(i){return this._map=i,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(i){return this._button.toggleStatus=typeof i=="boolean"?i:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(i){i&&i.preventDefault(),this._button.disabled||(this._button.onClick(i,{button:this,event:i}),this._clicked(i),this._button.afterClick(i,{button:this,event:i}))},_makeButton:function(i){var a=this,c=this.options.position.indexOf("right")>-1?"pos-right":"",v=L.DomUtil.create("div","button-container  ".concat(c),this._container);i.title&&v.setAttribute("title",i.title);var M=L.DomUtil.create("a","leaflet-buttons-control-button",v);M.setAttribute("role","button"),M.setAttribute("tabindex","0"),M.href="#";var j=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(c),v),G=i.actions,K={cancel:{text:Ot("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Ot("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Ot("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[i.jsClass]._removeLastVertex()}},finish:{text:Ot("actions.finish"),onClick:function(X){this._map.pm.Draw[i.jsClass]._finishShape(X)}}};G.forEach(function(X){var st,yt=typeof X=="string"?X:X.name;if(K[yt])st=K[yt];else{if(!X.text)return;st=X}var pt=L.DomUtil.create("a","leaflet-pm-action ".concat(c," action-").concat(yt),j);pt.setAttribute("role","button"),pt.setAttribute("tabindex","0"),pt.href="#",pt.innerHTML=st.text,L.DomEvent.disableClickPropagation(pt),L.DomEvent.on(pt,"click",L.DomEvent.stop),!i.disabled&&st.onClick&&(L.DomEvent.addListener(pt,"click",function(Dt){Dt.preventDefault();var zt="",ee=a._map.pm.Toolbar.buttons;for(var ce in ee)if(ee[ce]._button===i){zt=ce;break}a._fireActionClick(st,zt,i)},a),L.DomEvent.addListener(pt,"click",st.onClick,a))}),i.toggleStatus&&L.DomUtil.addClass(v,"active");var q=L.DomUtil.create("div","control-icon",M);return i.iconUrl&&q.setAttribute("src",i.iconUrl),i.className&&L.DomUtil.addClass(q,i.className),L.DomEvent.disableClickPropagation(M),L.DomEvent.on(M,"click",L.DomEvent.stop),i.disabled||(L.DomEvent.addListener(M,"click",this._onBtnClick,this),L.DomEvent.addListener(M,"click",this._triggerClick,this)),i.disabled&&(L.DomUtil.addClass(M,"pm-disabled"),M.setAttribute("aria-disabled","true")),v},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var i="",a=this._map.pm.Toolbar.buttons;for(var c in a)if(a[c]._button===this._button){i=c;break}this._fireButtonClick(i,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var i="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,i),a.setAttribute("aria-disabled","true"),L.DomEvent.off(a,"click",this._triggerClick,this),L.DomEvent.off(a,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(a,i),a.setAttribute("aria-disabled","false"),L.DomEvent.on(a,"click",this._triggerClick,this),L.DomEvent.on(a,"click",this._onBtnClick,this))}}});function ii(i,a){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);a&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable})),c.push.apply(c,v)}return c}function Ve(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?ii(Object(c),!0).forEach(function(v){Ti(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):ii(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}function Ti(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}function Xt(i){return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Xt(i)}L.Control.PMButton=xi;const We=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(i){this.init(i)},reinit:function(){var i=this.isVisible;this.removeControls(),this._defineButtons(),i&&this.addControls()},init:function(i){this.map=i,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(i){var a="".concat(i,"Container");return this[a]||(this[a]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(i," leaflet-bar leaflet-control"))),this[a]},getButtons:function(){return this.buttons},addControls:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof i.editPolygon<"u"&&(i.editMode=i.editPolygon),typeof i.deleteLayer<"u"&&(i.removalMode=i.deleteLayer),L.Util.setOptions(this,i),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var i=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var c in i){var v=i[c];L.Util.setOptions(v,{className:a.geomanIcons[c]})}},removeControls:function(){var i=this.getButtons();for(var a in i)i[a].remove();this.isVisible=!1},toggleControls:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(i)},_addButton:function(i,a){return this.buttons[i]=a,this.options[i]=this.options[i]||!1,this.buttons[i]},triggerClickOnToggledButtons:function(i){for(var a in this.buttons){var c=this.buttons[a];c._button.disableByOtherButtons&&c!==i&&c.toggled()&&c._triggerClick()}},toggleButton:function(i,a){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return i==="editPolygon"&&(i="editMode"),i==="deleteLayer"&&(i="removalMode"),c&&this.triggerClickOnToggledButtons(this.buttons[i]),!!this.buttons[i]&&this.buttons[i].toggle(a)},_defineButtons:function(){var i=this,a={className:"control-icon leaflet-pm-icon-marker",title:Ot("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},c={title:Ot("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},v={className:"control-icon leaflet-pm-icon-polyline",title:Ot("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},M={title:Ot("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},j={title:Ot("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},G={title:Ot("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},K={title:Ot("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},q={title:Ot("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},X={title:Ot("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},st={title:Ot("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},yt={title:Ot("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},pt={className:"control-icon leaflet-pm-icon-text",title:Ot("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Dt,zt){i.map.pm.Draw[zt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(a)),this._addButton("drawPolyline",new L.Control.PMButton(v)),this._addButton("drawRectangle",new L.Control.PMButton(G)),this._addButton("drawPolygon",new L.Control.PMButton(c)),this._addButton("drawCircle",new L.Control.PMButton(M)),this._addButton("drawCircleMarker",new L.Control.PMButton(j)),this._addButton("drawText",new L.Control.PMButton(pt)),this._addButton("editMode",new L.Control.PMButton(K)),this._addButton("dragMode",new L.Control.PMButton(q)),this._addButton("cutPolygon",new L.Control.PMButton(X)),this._addButton("removalMode",new L.Control.PMButton(st)),this._addButton("rotateMode",new L.Control.PMButton(yt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var i=this.getButtons(),a=[];for(var c in this.options.drawControls===!1&&(a=a.concat(Object.keys(i).filter(function(M){return!i[M]._button.tool}))),this.options.editControls===!1&&(a=a.concat(Object.keys(i).filter(function(M){return i[M]._button.tool==="edit"}))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(i).filter(function(M){return i[M]._button.tool==="options"}))),this.options.customControls===!1&&(a=a.concat(Object.keys(i).filter(function(M){return i[M]._button.tool==="custom"}))),i)if(this.options[c]&&a.indexOf(c)===-1){var v=i[c]._button.tool;v||(v="draw"),i[c].setPosition(this._getBtnPosition(v)),i[c].addTo(this.map)}}},_getBtnPosition:function(i){return this.options.positions&&this.options.positions[i]?this.options.positions[i]:this.options.position},setBlockPosition:function(i,a){this.options.positions[i]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(i,a){if(!a)throw new TypeError("Button has no name");Xt(a)!=="object"&&(a={name:a});var c=this._btnNameMapping(i);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");var v=this.map.pm.Draw.createNewDrawInstance(a.name,c);return a=Ve(Ve({},this.buttons[c]._button),a),{drawInstance:v,control:this.createCustomControl(a)}},createCustomControl:function(i){var a,c;if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");i.onClick||(i.onClick=function(){}),i.afterClick||(i.afterClick=function(){}),i.toggle!==!1&&(i.toggle=!0),i.block&&(i.block=i.block.toLowerCase()),i.block&&i.block!=="draw"||(i.block=""),i.className?i.className.indexOf("control-icon")===-1&&(i.className="control-icon ".concat(i.className)):i.className="control-icon";var v={tool:i.block,className:i.className,title:i.title||"",jsClass:i.name,onClick:i.onClick,afterClick:i.afterClick,doToggle:i.toggle,toggleStatus:!1,disableOtherButtons:(a=i.disableOtherButtons)===null||a===void 0||a,disableByOtherButtons:(c=i.disableByOtherButtons)===null||c===void 0||c,cssToggle:i.toggle,position:this.options.position,actions:i.actions||[],disabled:!!i.disabled};this.options[i.name]!==!1&&(this.options[i.name]=!0);var M=this._addButton(i.name,new L.Control.PMButton(v));return this.changeControlOrder(),M},changeControlOrder:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=this._shapeMapping(),c=[];i.forEach(function(X){a[X]?c.push(a[X]):c.push(X)});var v=this.getButtons(),M={};c.forEach(function(X){v[X]&&(M[X]=v[X])});var j=Object.keys(v).filter(function(X){return!v[X]._button.tool});j.forEach(function(X){c.indexOf(X)===-1&&(M[X]=v[X])});var G=Object.keys(v).filter(function(X){return v[X]._button.tool==="edit"});G.forEach(function(X){c.indexOf(X)===-1&&(M[X]=v[X])});var K=Object.keys(v).filter(function(X){return v[X]._button.tool==="options"});K.forEach(function(X){c.indexOf(X)===-1&&(M[X]=v[X])});var q=Object.keys(v).filter(function(X){return v[X]._button.tool==="custom"});q.forEach(function(X){c.indexOf(X)===-1&&(M[X]=v[X])}),Object.keys(v).forEach(function(X){c.indexOf(X)===-1&&(M[X]=v[X])}),this.map.pm.Toolbar.buttons=M,this._showHideButtons()},getControlOrder:function(){var i=this.getButtons(),a=[];for(var c in i)a.push(c);return a},changeActionsOfControl:function(i,a){var c=this._btnNameMapping(i);if(!c)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[c])throw new TypeError("Button with this name not exists");this.buttons[c]._button.actions=a,this.changeControlOrder()},setButtonDisabled:function(i,a){var c=this._btnNameMapping(i);a?this.buttons[c].disable():this.buttons[c].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(i){var a=this._shapeMapping();return a[i]?a[i]:i}});function zi(i,a){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);a&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable})),c.push.apply(c,v)}return c}function Q(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?zi(Object(c),!0).forEach(function(v){C(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):zi(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}function C(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}var O={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(i){var a=this;i.forEach(function(c){Array.isArray(c)?a._assignEvents(c):(c.off("drag",a._handleSnapping,a),c.on("drag",a._handleSnapping,a),c.off("dragend",a._cleanupSnapping,a),c.on("dragend",a._cleanupSnapping,a))})},_cleanupSnapping:function(i){i&&(i.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(a){a.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(i){var a=this,c=i.target;if(c._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var v=this._calcClosestLayer(c.getLatLng(),this._snapList);if(Object.keys(v).length===0)return!1;var M,j=v.layer instanceof L.Marker||v.layer instanceof L.CircleMarker||!this.options.snapSegment;M=j?v.latlng:this._checkPrioritiySnapping(v);var G=this.options.snapDistance,K={marker:c,shape:this._shape,snapLatLng:M,segment:v.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:v.layer,distance:v.distance};if(this._fireSnapDrag(K.marker,K),this._fireSnapDrag(this._layer,K),v.distance<G){c._orgLatLng=c.getLatLng(),c.setLatLng(M),c._snapped=!0,c._snapInfo=K;var q=this._snapLatLng||{},X=M||{};q.lat===X.lat&&q.lng===X.lng||(a._snapLatLng=M,a._fireSnap(c,K),a._fireSnap(a._layer,K))}else this._snapLatLng&&(this._unsnap(K),c._snapped=!1,c._snapInfo=void 0,this._fireUnsnap(K.marker,K),this._fireUnsnap(this._layer,K));return!0},_createSnapList:function(){var i=this,a=[],c=[],v=this._map;v.off("pm:remove",this._handleSnapLayerRemoval,this),v.on("pm:remove",this._handleSnapLayerRemoval,this),v.eachLayer(function(M){if((M instanceof L.Polyline||M instanceof L.Marker||M instanceof L.CircleMarker||M instanceof L.ImageOverlay)&&M.options.snapIgnore!==!0){if(M.options.snapIgnore===void 0&&(!L.PM.optIn&&M.options.pmIgnore===!0||L.PM.optIn&&M.options.pmIgnore!==!1))return;(M instanceof L.Circle||M instanceof L.CircleMarker)&&M.pm&&M.pm._hiddenPolyCircle?a.push(M.pm._hiddenPolyCircle):M instanceof L.ImageOverlay&&(M=L.rectangle(M.getBounds())),a.push(M);var j=L.polyline([],{color:"red",pmIgnore:!0});j._pmTempLayer=!0,c.push(j),(M instanceof L.Circle||M instanceof L.CircleMarker)&&c.push(j)}}),a=(a=(a=a.filter(function(M){return i._layer!==M})).filter(function(M){return M._latlng||M._latlngs&&Kt(M._latlngs)})).filter(function(M){return!M._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var M=L.polyline([],{color:"red",pmIgnore:!0});M._pmTempLayer=!0,c.push(M)}),this._snapList=a.concat(this._otherSnapLayers)):this._snapList=a,this.debugIndicatorLines=c},_handleSnapLayerRemoval:function(i){var a=i.layer,c=this._snapList.findIndex(function(v){return v._leaflet_id===a._leaflet_id});this._snapList.splice(c,1)},_calcClosestLayer:function(i,a){return this._calcClosestLayers(i,a,1)[0]},_calcClosestLayers:function(i,a){var c=this,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=[],j={};a.forEach(function(K,q){if(!K._parentCopy||K._parentCopy!==c._layer){var X=c._calcLayerDistances(i,K);if(X.distance=Math.floor(X.distance),c.debugIndicatorLines){if(!c.debugIndicatorLines[q]){var st=L.polyline([],{color:"red",pmIgnore:!0});st._pmTempLayer=!0,c.debugIndicatorLines[q]=st}c.debugIndicatorLines[q].setLatLngs([i,X.latlng])}v===1&&(j.distance===void 0||X.distance<=j.distance)?(X.distance<j.distance&&(M=[]),(j=X).layer=K,M.push(j)):v!==1&&(j={},(j=X).layer=K,M.push(j))}}),v!==1&&(M=M.sort(function(K,q){return K.distance-q.distance})),v===-1&&(v=M.length);var G=this._getClosestLayerByPriority(M,v);return L.Util.isArray(G)?G:[G]},_calcLayerDistances:function(i,a){var c=this._map,v=a instanceof L.Marker||a instanceof L.CircleMarker,M=a instanceof L.Polygon,j=i;if(v){var G=a.getLatLng();return{latlng:Q({},G),distance:this._getDistance(c,G,j)}}return this._calcLatLngDistances(j,a.getLatLngs(),c,M)},_calcLatLngDistances:function(i,a,c){var v,M,j,G=this,K=arguments.length>3&&arguments[3]!==void 0&&arguments[3],q=function st(yt){yt.forEach(function(pt,Dt){if(Array.isArray(pt))st(pt);else if(G.options.snapSegment){var zt,ee=pt;zt=K?Dt+1===yt.length?0:Dt+1:Dt+1===yt.length?void 0:Dt+1;var ce=yt[zt];if(ce){var Ce=G._getDistanceToSegment(c,i,ee,ce);(M===void 0||Ce<M)&&(M=Ce,j=[ee,ce])}}else{var Jt=G._getDistance(c,i,pt);(M===void 0||Jt<M)&&(M=Jt,v=pt)}})};if(q(a),this.options.snapSegment){var X=this._getClosestPointOnSegment(c,i,j[0],j[1]);return{latlng:Q({},X),segment:j,distance:M}}return{latlng:v,distance:M}},_getClosestLayerByPriority:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;i=i.sort(function(G,K){return G._leaflet_id-K._leaflet_id});var c=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],v=this._map.pm.globalOptions.snappingOrder||[],M=0,j={};return v.concat(c).forEach(function(G){j[G]||(M+=1,j[G]=M)}),i.sort(de("instanceofShape",j)),a===1?i[0]||{}:i.slice(0,a)},_checkPrioritiySnapping:function(i){var a=this._map,c=i.segment[0],v=i.segment[1],M=i.latlng,j=this._getDistance(a,c,M),G=this._getDistance(a,v,M),K=j<G?c:v,q=j<G?j:G;if(this.options.snapMiddle){var X=L.PM.Utils.calcMiddleLatLng(a,c,v),st=this._getDistance(a,X,M);st<j&&st<G&&(K=X,q=st)}return Q({},q<this.options.snapDistance?K:M)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(i,a,c,v){var M=i.getMaxZoom();M===1/0&&(M=i.getZoom());var j=i.project(a,M),G=i.project(c,M),K=i.project(v,M),q=L.LineUtil.closestPointOnSegment(j,G,K);return i.unproject(q,M)},_getDistanceToSegment:function(i,a,c,v){var M=i.latLngToLayerPoint(a),j=i.latLngToLayerPoint(c),G=i.latLngToLayerPoint(v);return L.LineUtil.pointToSegmentDistance(M,j,G)},_getDistance:function(i,a,c){return i.latLngToLayerPoint(a).distanceTo(i.latLngToLayerPoint(c))}};const Z=O,Y=L.Class.extend({includes:[Z,Mt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(i){L.Util.setOptions(this,i),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(i){var a=this,c=new L.Icon.Default;c.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=c,this._map=i,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(v){a[v]=new L.PM.Draw[v](a._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=a?P()(this.options.pathOptions,i):i},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(i,a){if(!i)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[i].enable(a)},disable:function(){var i=this;this.shapes.forEach(function(a){i[a].disable()})},addControls:function(){var i=this;this.shapes.forEach(function(a){i[a].addButton()})},getActiveShape:function(){var i,a=this;return this.shapes.forEach(function(c){a[c]._enabled&&(i=c)}),i},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var i=L.PM.Utils.findLayers(this._map);this._enabled?i.forEach(function(a){L.PM.Utils.disablePopup(a)}):i.forEach(function(a){L.PM.Utils.enablePopup(a)})},createNewDrawInstance:function(i,a){var c=this._getShapeFromBtnName(a);if(this[i])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[c])throw new TypeError("There is no class L.PM.Draw.".concat(c));return this[i]=new L.PM.Draw[c](this._map),this[i].toolbarButtonName=i,this[i]._shape=i,this.shapes.push(i),this[a]&&this[i].setOptions(this[a].options),this[i].setOptions(this[i].options),this[i]},_getShapeFromBtnName:function(i){var a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[i]?a[i]:this[i]?this[i]._shape:i},_finishLayer:function(i){i.pm&&(i.pm.setOptions(this.options),i.pm._shape=this._shape,i.pm._map=this._map),this._addDrawnLayerProp(i)},_addDrawnLayerProp:function(i){i._drawnByGeoman=!0},_setPane:function(i,a){a==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});Y.Marker=Y.extend({initialize:function(i){this._map=i,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(i){var a=this;L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Ot("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(c){a.isRelevantMarker(c)&&c.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(a){i.isRelevantMarker(a)&&a.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},isRelevantMarker:function(i){return i instanceof L.Marker&&i.pm&&!i._pmTempLayer&&!i.pm._initTextMarker},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(i){if(i.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),c=new L.Marker(a,this.options.markerStyle);this._setPane(c,"markerPane"),this._finishLayer(c),c.pm||(c.options.draggable=!1),c.addTo(this._map.pm._getContainingLayer()),c.pm&&this.options.markerEditable?c.pm.enable():c.dragging&&c.dragging.disable(),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var i,a;(i=this.options.markerStyle)!==null&&i!==void 0&&i.icon&&((a=this._hintMarker)===null||a===void 0||a.setIcon(this.options.markerStyle.icon))}});var it=63710088e-1,mt={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*it,kilometers:6371.0088,kilometres:6371.0088,meters:it,metres:it,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:it/1852,radians:1,yards:6967335223679999e-9};function _t(i,a,c){c===void 0&&(c={});var v={type:"Feature"};return(c.id===0||c.id)&&(v.id=c.id),c.bbox&&(v.bbox=c.bbox),v.properties=a||{},v.geometry=i,v}function It(i,a,c){if(c===void 0&&(c={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!De(i[0])||!De(i[1]))throw new Error("coordinates must contain numbers");return _t({type:"Point",coordinates:i},a,c)}function Yt(i,a,c){if(c===void 0&&(c={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");return _t({type:"LineString",coordinates:i},a,c)}function ue(i,a){a===void 0&&(a={});var c={type:"FeatureCollection"};return a.id&&(c.id=a.id),a.bbox&&(c.bbox=a.bbox),c.features=i,c}function _e(i,a){a===void 0&&(a="kilometers");var c=mt[a];if(!c)throw new Error(a+" units is invalid");return i*c}function ge(i,a){a===void 0&&(a="kilometers");var c=mt[a];if(!c)throw new Error(a+" units is invalid");return i/c}function ke(i){return 180*(i%(2*Math.PI))/Math.PI}function se(i){return i%360*Math.PI/180}function De(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function ze(i){var a,c,v={type:"FeatureCollection",features:[]};if((c=i.type==="Feature"?i.geometry:i).type==="LineString")a=[c.coordinates];else if(c.type==="MultiLineString")a=c.coordinates;else if(c.type==="MultiPolygon")a=[].concat.apply([],c.coordinates);else{if(c.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");a=c.coordinates}return a.forEach(function(M){a.forEach(function(j){for(var G=0;G<M.length-1;G++)for(var K=G;K<j.length-1;K++)if(!(M===j&&(Math.abs(G-K)===1||G===0&&K===M.length-2&&M[G][0]===M[M.length-1][0]&&M[G][1]===M[M.length-1][1]))){var q=Pe(M[G][0],M[G][1],M[G+1][0],M[G+1][1],j[K][0],j[K][1],j[K+1][0],j[K+1][1]);q&&v.features.push(It([q[0],q[1]]))}})}),v}function Pe(i,a,c,v,M,j,G,K){var q,X,st,yt,pt={x:null,y:null,onLine1:!1,onLine2:!1};return(q=(K-j)*(c-i)-(G-M)*(v-a))===0?pt.x!==null&&pt.y!==null&&pt:(yt=(c-i)*(X=a-j)-(v-a)*(st=i-M),X=((G-M)*X-(K-j)*st)/q,st=yt/q,pt.x=i+X*(c-i),pt.y=a+X*(v-a),X>=0&&X<=1&&(pt.onLine1=!0),st>=0&&st<=1&&(pt.onLine2=!0),!(!pt.onLine1||!pt.onLine2)&&[pt.x,pt.y])}function Le(i,a){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);a&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable})),c.push.apply(c,v)}return c}function Xe(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?Le(Object(c),!0).forEach(function(v){ni(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):Le(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}function ni(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}function vi(i,a){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);a&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable})),c.push.apply(c,v)}return c}function fi(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?vi(Object(c),!0).forEach(function(v){Ge(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):vi(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}function Ge(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}function Qe(i,a){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);a&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(i,M).enumerable})),c.push.apply(c,v)}return c}function Pi(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?Qe(Object(c),!0).forEach(function(v){Ni(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):Qe(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}function Ni(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}function Je(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ue(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Si(i){return i.type==="Feature"?i.geometry:i}function yn(i,a){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}function Bn(i,a,c){if(i!==null)for(var v,M,j,G,K,q,X,st,yt=0,pt=0,Dt=i.type,zt=Dt==="FeatureCollection",ee=Dt==="Feature",ce=zt?i.features.length:1,Ce=0;Ce<ce;Ce++){K=(st=!!(X=zt?i.features[Ce].geometry:ee?i.geometry:i)&&X.type==="GeometryCollection")?X.geometries.length:1;for(var Jt=0;Jt<K;Jt++){var Ee=0,l=0;if((G=st?X.geometries[Jt]:X)!==null){q=G.coordinates;var f=G.type;switch(yt=!c||f!=="Polygon"&&f!=="MultiPolygon"?0:1,f){case null:break;case"Point":if(a(q,pt,Ce,Ee,l)===!1)return!1;pt++,Ee++;break;case"LineString":case"MultiPoint":for(v=0;v<q.length;v++){if(a(q[v],pt,Ce,Ee,l)===!1)return!1;pt++,f==="MultiPoint"&&Ee++}f==="LineString"&&Ee++;break;case"Polygon":case"MultiLineString":for(v=0;v<q.length;v++){for(M=0;M<q[v].length-yt;M++){if(a(q[v][M],pt,Ce,Ee,l)===!1)return!1;pt++}f==="MultiLineString"&&Ee++,f==="Polygon"&&l++}f==="Polygon"&&Ee++;break;case"MultiPolygon":for(v=0;v<q.length;v++){for(l=0,M=0;M<q[v].length;M++){for(j=0;j<q[v][M].length-yt;j++){if(a(q[v][M][j],pt,Ce,Ee,l)===!1)return!1;pt++}l++}Ee++}break;case"GeometryCollection":for(v=0;v<G.geometries.length;v++)if(Bn(G.geometries[v],a,c)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Wi(i,a){if(i.type==="Feature")a(i,0);else if(i.type==="FeatureCollection")for(var c=0;c<i.features.length&&a(i.features[c],c)!==!1;c++);}function ar(i,a){var c,v,M,j,G,K,q,X,st,yt,pt=0,Dt=i.type==="FeatureCollection",zt=i.type==="Feature",ee=Dt?i.features.length:1;for(c=0;c<ee;c++){for(K=Dt?i.features[c].geometry:zt?i.geometry:i,X=Dt?i.features[c].properties:zt?i.properties:{},st=Dt?i.features[c].bbox:zt?i.bbox:void 0,yt=Dt?i.features[c].id:zt?i.id:void 0,G=(q=!!K&&K.type==="GeometryCollection")?K.geometries.length:1,M=0;M<G;M++)if((j=q?K.geometries[M]:K)!==null)switch(j.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(j,pt,X,st,yt)===!1)return!1;break;case"GeometryCollection":for(v=0;v<j.geometries.length;v++)if(a(j.geometries[v],pt,X,st,yt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,pt,X,st,yt)===!1)return!1;pt++}}function In(i,a){ar(i,function(c,v,M,j,G){var K,q=c===null?null:c.type;switch(q){case null:case"Point":case"LineString":case"Polygon":return a(_t(c,M,{bbox:j,id:G}),v,0)!==!1&&void 0}switch(q){case"MultiPoint":K="Point";break;case"MultiLineString":K="LineString";break;case"MultiPolygon":K="Polygon"}for(var X=0;X<c.coordinates.length;X++){var st=c.coordinates[X];if(a(_t({type:K,coordinates:st},M),v,X)===!1)return!1}})}Y.Line=Y.extend({initialize:function(i){this._map=i,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(i){L.Util.setOptions(this,i),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Xe(Xe({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ot("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._layer.getLatLngs();if(i.length>0){var a=i[i.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var c=this._layer._defaultShape().slice();c.push(this._hintMarker.getLatLng()),this._change(c)},hasSelfIntersection:function(){return ze(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(i,a){var c=L.polyline(this._layer.getLatLngs());i&&(a||(a=this._hintMarker.getLatLng()),c.addLatLng(a));var v=ze(c.toGeoJSON(15));this._doesSelfIntersect=v.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(i){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,i.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),c=this._layer.getLatLngs(),v=c[c.length-1];if(a.equals(c[0])||c.length>0&&a.equals(v))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);var M=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(M,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(i)}}},_setHintLineAfterNewVertex:function(i){this._hintline.setLatLngs([i,i])},_removeLastVertex:function(){var i=this._markers;if(i.length<=1)this.disable();else{var a=this._layer.getLatLngs(),c=i[i.length-1],v=L.PM.Utils.findDeepMarkerIndex(i,c).indexPath;i.pop(),this._layerGroup.removeLayer(c);var M=i[i.length-1],j=a.indexOf(M.getLatLng());a=a.slice(0,j+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(c,v,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var i=this._layer.getLatLngs();if(!(i.length<=1)){var a=L.polyline(i,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(i){var a=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText:function(){var i="";i=Ot(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(i)},_change:function(i){this._fireChange(i,"Draw")},setStyle:function(){var i,a;(i=this._layer)===null||i===void 0||i.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),Y.Polygon=Y.Line.extend({initialize:function(i){this._map=i,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(i){L.PM.Draw.Line.prototype.enable.call(this,i),this._layer.pm._shape="Polygon"},_createMarker:function(i){var a=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",function(){return 1}),a},_setTooltipText:function(){var i="";i=Ot(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var i=this._layer.getLatLngs();if(!(i.length<=2)){var a=L.polygon(i,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),Y.Rectangle=Y.extend({initialize:function(i){this._map=i,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(i){if(L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ot("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var a=0;a<2;a+=1){var c=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._styleMarkers.push(c)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_placeStartingMarkers:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(c){L.DomUtil.addClass(c._icon,"visible"),c.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Ot("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var i=this._startMarker.getLatLng();i&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([i,i]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}var c=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(c,"Draw")},_syncRectangleSize:function(){var i=this,a=Ie(this._startMarker.getLatLng(),this._map),c=Ie(this._hintMarker.getLatLng(),this._map),v=L.PM.Utils._getRotatedRectangle(a,c,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(v),this.options.cursorMarker&&this._styleMarkers){var M=[];v.forEach(function(j){j.equals(a,1e-8)||j.equals(c,1e-8)||M.push(j)}),M.forEach(function(j,G){try{i._styleMarkers[G].setLatLng(j)}catch{}})}},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),c=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var v=L.rectangle([c,a],this.options.pathOptions);if(this.options.rectangleAngle){var M=L.PM.Utils._getRotatedRectangle(c,a,this.options.rectangleAngle||0,this._map);v.setLatLngs(M),v.pm&&v.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),this._fireCreate(v),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var i;(i=this._layer)===null||i===void 0||i.setStyle(this.options.pathOptions)}}),Y.Circle=Y.extend({initialize:function(i){this._map=i,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(i){L.Util.setOptions(this,i),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),fi(fi({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ot("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,a])},_syncCircleRadius:function(){var i,a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng();i=this._map.options.crs===L.CRS.Simple?this._map.distance(a,c):a.distanceTo(c),this.options.minRadiusCircle&&i<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&i>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(i)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var c=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(c,"Draw")},_placeCenterMarker:function(i){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ot("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(i){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a,c=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng();a=this._map.options.crs===L.CRS.Simple?this._map.distance(c,v):c.distanceTo(v),this.options.minRadiusCircle&&a<this.options.minRadiusCircle?a=this.options.minRadiusCircle:this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(a=this.options.maxRadiusCircle);var M=fi(fi({},this.options.pathOptions),{},{radius:a}),j=L.circle(c,M);this._setPane(j,"layerPane"),this._finishLayer(j),j.addTo(this._map.pm._getContainingLayer()),j.pm&&j.pm._updateHiddenPolyCircle(),this._fireCreate(j),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var i=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return i;var a=this._centerMarker.getLatLng(),c=a.distanceTo(i);return this.options.minRadiusCircle&&c<this.options.minRadiusCircle?i=jt(this._map,a,i,this.options.minRadiusCircle):this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle&&(i=jt(this._map,a,i,this.options.maxRadiusCircle)),i},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=i.distanceTo(a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&c<this.options.minRadiusCircle||this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var i,a;(i=this._layer)===null||i===void 0||i.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),Y.CircleMarker=Y.Marker.extend({initialize:function(i){this._map=i,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(i){var a=this;if(L.Util.setOptions(this,i),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var c={};L.extend(c,this.options.templineStyle),c.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),c),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ot("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Ot("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(v){a.isRelevantMarker(v)&&v.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(a){i.isRelevantMarker(a)&&a.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(i){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ot("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,a])},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=this._map.project(i).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(c)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var c=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(c,"Draw")},isRelevantMarker:function(i){return i instanceof L.CircleMarker&&!(i instanceof L.Circle)&&i.pm&&!i._pmTempLayer},_createMarker:function(i){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&i.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),c=L.circleMarker(a,this.options.pathOptions);this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),c.pm&&this.options.markerEditable&&c.pm.enable(),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(i){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),v=this._map.project(a).distanceTo(this._map.project(c));this.options.editable&&(this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?v=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker&&(v=this.options.maxRadiusCircleMarker));var M=Pi(Pi({},this.options.pathOptions),{},{radius:v}),j=L.circleMarker(a,M);this._setPane(j,"layerPane"),this._finishLayer(j),j.addTo(this._map.pm._getContainingLayer()),j.pm&&j.pm._updateHiddenPolyCircle(),this._fireCreate(j),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var i=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return i;var a=this._centerMarker.getLatLng(),c=this._map.project(a).distanceTo(this._map.project(i));this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?i=jt(this._map,a,i,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker&&(i=jt(this._map,a,i,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return i},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),c=this._map.project(i).distanceTo(this._map.project(a));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(i){var a=this._centerMarker.getLatLng(),c=this._map.project(a),v=L.point(c.x+i,c.y);return this._map.unproject(v).distanceTo(a)},setStyle:function(){var i,a,c={};L.extend(c,this.options.templineStyle),this.options.editable&&(c.radius=0),(i=this._layer)===null||i===void 0||i.setStyle(c),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}});const ai=function(i){if(!i)throw new Error("geojson is required");var a=[];return In(i,function(c){(function(v,M){var j=[],G=v.geometry;if(G!==null){switch(G.type){case"Polygon":j=Ue(G);break;case"LineString":j=[Ue(G)]}j.forEach(function(K){var q=function(X,st){var yt=[];return X.reduce(function(pt,Dt){var zt,ee,ce,Ce,Jt,Ee,l=Yt([pt,Dt],st);return l.bbox=(ee=Dt,ce=(zt=pt)[0],Ce=zt[1],Jt=ee[0],Ee=ee[1],[ce<Jt?ce:Jt,Ce<Ee?Ce:Ee,ce>Jt?ce:Jt,Ce>Ee?Ce:Ee]),yt.push(l),Dt}),yt}(K,v.properties);q.forEach(function(X){X.id=M.length,M.push(X)})})}})(c,a)}),ue(a)};var Wt=o(1787);function Di(i,a){var c=Ue(i),v=Ue(a);if(c.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(v.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var M=c[0][0],j=c[0][1],G=c[1][0],K=c[1][1],q=v[0][0],X=v[0][1],st=v[1][0],yt=v[1][1],pt=(yt-X)*(G-M)-(st-q)*(K-j),Dt=(st-q)*(j-X)-(yt-X)*(M-q),zt=(G-M)*(j-X)-(K-j)*(M-q);if(pt===0)return null;var ee=Dt/pt,ce=zt/pt;return ee>=0&&ee<=1&&ce>=0&&ce<=1?It([M+ee*(G-M),j+ee*(K-j)]):null}const Ci=function(i,a){var c={},v=[];if(i.type==="LineString"&&(i=_t(i)),a.type==="LineString"&&(a=_t(a)),i.type==="Feature"&&a.type==="Feature"&&i.geometry!==null&&a.geometry!==null&&i.geometry.type==="LineString"&&a.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var M=Di(i,a);return M&&v.push(M),ue(v)}var j=Wt();return j.load(ai(a)),Wi(ai(i),function(G){Wi(j.search(G),function(K){var q=Di(G,K);if(q){var X=Ue(q).join(",");c[X]||(c[X]=!0,v.push(q))}})}),ue(v)},wi=function(i,a,c){c===void 0&&(c={});var v=Je(i),M=Je(a),j=se(M[1]-v[1]),G=se(M[0]-v[0]),K=se(v[1]),q=se(M[1]),X=Math.pow(Math.sin(j/2),2)+Math.pow(Math.sin(G/2),2)*Math.cos(K)*Math.cos(q);return _e(2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X)),c.units)},bn=function(i){var a=i[0],c=i[1],v=i[2],M=i[3];if(wi(i.slice(0,2),[v,c])>=wi(i.slice(0,2),[a,M])){var j=(c+M)/2;return[a,j-(v-a)/2,v,j+(v-a)/2]}var G=(a+v)/2;return[G-(M-c)/2,c,G+(M-c)/2,M]};function Ai(i){var a=[1/0,1/0,-1/0,-1/0];return Bn(i,function(c){a[0]>c[0]&&(a[0]=c[0]),a[1]>c[1]&&(a[1]=c[1]),a[2]<c[0]&&(a[2]=c[0]),a[3]<c[1]&&(a[3]=c[1])}),a}Ai.default=Ai;const Fi=Ai,$i=function(i,a){a===void 0&&(a={});var c=a.precision,v=a.coordinates,M=a.mutate;if(c=c==null||isNaN(c)?6:c,v=v==null||isNaN(v)?3:v,!i)throw new Error("<geojson> is required");if(typeof c!="number")throw new Error("<precision> must be a number");if(typeof v!="number")throw new Error("<coordinates> must be a number");M!==!1&&M!==void 0||(i=JSON.parse(JSON.stringify(i)));var j=Math.pow(10,c);return Bn(i,function(G){(function(K,q,X){K.length>X&&K.splice(X,K.length);for(var st=0;st<K.length;st++)K[st]=Math.round(K[st]*q)/q})(G,j,v)}),i};function Ln(i,a,c){if(c===void 0&&(c={}),c.final===!0)return function(yt,pt){var Dt=Ln(pt,yt);return Dt=(Dt+180)%360}(i,a);var v=Je(i),M=Je(a),j=se(v[0]),G=se(M[0]),K=se(v[1]),q=se(M[1]),X=Math.sin(G-j)*Math.cos(q),st=Math.cos(K)*Math.sin(q)-Math.sin(K)*Math.cos(q)*Math.cos(G-j);return ke(Math.atan2(X,st))}function Jn(i,a,c,v){v===void 0&&(v={});var M=Je(i),j=se(M[0]),G=se(M[1]),K=se(c),q=ge(a,v.units),X=Math.asin(Math.sin(G)*Math.cos(q)+Math.cos(G)*Math.sin(q)*Math.cos(K));return It([ke(j+Math.atan2(Math.sin(K)*Math.sin(q)*Math.cos(G),Math.cos(q)-Math.sin(G)*Math.sin(X))),ke(X)],v.properties)}const fn=function(i,a,c){c===void 0&&(c={});var v=It([1/0,1/0],{dist:1/0}),M=0;return In(i,function(j){for(var G=Ue(j),K=0;K<G.length-1;K++){var q=It(G[K]);q.properties.dist=wi(a,q,c);var X=It(G[K+1]);X.properties.dist=wi(a,X,c);var st=wi(q,X,c),yt=Math.max(q.properties.dist,X.properties.dist),pt=Ln(q,X),Dt=Jn(a,yt,pt+90,c),zt=Jn(a,yt,pt-90,c),ee=Ci(Yt([Dt.geometry.coordinates,zt.geometry.coordinates]),Yt([q.geometry.coordinates,X.geometry.coordinates])),ce=null;ee.features.length>0&&((ce=ee.features[0]).properties.dist=wi(a,ce,c),ce.properties.location=M+wi(q,ce,c)),q.properties.dist<v.properties.dist&&((v=q).properties.index=K,v.properties.location=M),X.properties.dist<v.properties.dist&&((v=X).properties.index=K+1,v.properties.location=M+st),ce&&ce.properties.dist<v.properties.dist&&((v=ce).properties.index=K),M+=st}}),v};function Rn(i,a){var c=[],v=Wt();return In(a,function(M){if(c.forEach(function(K,q){K.id=q}),c.length){var j=v.search(M);if(j.features.length){var G=wn(M,j);c=c.filter(function(K){return K.id!==G.id}),v.remove(G),Wi(xn(G,M),function(K){c.push(K),v.insert(K)})}}else(c=xn(i,M).features).forEach(function(K){K.bbox||(K.bbox=bn(Fi(K)))}),v.load(ue(c))}),ue(c)}function xn(i,a){var c=[],v=Ue(i)[0],M=Ue(i)[i.geometry.coordinates.length-1];if(kn(v,Je(a))||kn(M,Je(a)))return ue([i]);var j=Wt(),G=ai(i);j.load(G);var K=j.search(a);if(!K.features.length)return ue([i]);var q=wn(a,K),X=function(st,yt,pt){var Dt=pt;return Wi(st,function(zt,ee){Dt=ee===0&&pt===void 0?zt:yt(Dt,zt,ee)}),Dt}(G,function(st,yt,pt){var Dt=Ue(yt)[1],zt=Je(a);return pt===q.id?(st.push(zt),c.push(Yt(st)),kn(zt,Dt)?[zt]:[zt,Dt]):(st.push(Dt),st)},[v]);return X.length>1&&c.push(Yt(X)),ue(c)}function wn(i,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var c,v=1/0;return Wi(a,function(M){var j=fn(M,i).properties.dist;j<v&&(c=M,v=j)}),c}function kn(i,a){return i[0]===a[0]&&i[1]===a[1]}const Mn=function(i,a){if(!i)throw new Error("line is required");if(!a)throw new Error("splitter is required");var c=yn(i),v=yn(a);if(c!=="LineString")throw new Error("line must be LineString");if(v==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(v==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var M=$i(a,{precision:7});switch(v){case"Point":return xn(i,M);case"MultiPoint":return Rn(i,M);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Rn(i,Ci(i,M))}};function Ki(i,a,c){if(c===void 0&&(c={}),!i)throw new Error("point is required");if(!a)throw new Error("polygon is required");var v=Je(i),M=Si(a),j=M.type,G=a.bbox,K=M.coordinates;if(G&&function(pt,Dt){return Dt[0]<=pt[0]&&Dt[1]<=pt[1]&&Dt[2]>=pt[0]&&Dt[3]>=pt[1]}(v,G)===!1)return!1;j==="Polygon"&&(K=[K]);for(var q=!1,X=0;X<K.length&&!q;X++)if(Yn(v,K[X][0],c.ignoreBoundary)){for(var st=!1,yt=1;yt<K[X].length&&!st;)Yn(v,K[X][yt],!c.ignoreBoundary)&&(st=!0),yt++;st||(q=!0)}return q}function Yn(i,a,c){var v=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var M=0,j=a.length-1;M<a.length;j=M++){var G=a[M][0],K=a[M][1],q=a[j][0],X=a[j][1];if(i[1]*(G-q)+K*(q-i[0])+X*(i[0]-G)==0&&(G-i[0])*(q-i[0])<=0&&(K-i[1])*(X-i[1])<=0)return!c;K>i[1]!=X>i[1]&&i[0]<(q-G)*(i[1]-K)/(X-K)+G&&(v=!v)}return v}function lr(i,a,c,v,M){var j=c[0],G=c[1],K=i[0],q=i[1],X=a[0],st=a[1],yt=X-K,pt=st-q,Dt=(c[0]-K)*pt-(c[1]-q)*yt;if(M!==null){if(Math.abs(Dt)>M)return!1}else if(Dt!==0)return!1;return v?v==="start"?Math.abs(yt)>=Math.abs(pt)?yt>0?K<j&&j<=X:X<=j&&j<K:pt>0?q<G&&G<=st:st<=G&&G<q:v==="end"?Math.abs(yt)>=Math.abs(pt)?yt>0?K<=j&&j<X:X<j&&j<=K:pt>0?q<=G&&G<st:st<G&&G<=q:v==="both"&&(Math.abs(yt)>=Math.abs(pt)?yt>0?K<j&&j<X:X<j&&j<K:pt>0?q<G&&G<st:st<G&&G<q):Math.abs(yt)>=Math.abs(pt)?yt>0?K<=j&&j<=X:X<=j&&j<=K:pt>0?q<=G&&G<=st:st<=G&&G<=q}const Xi=function(i,a,c){c===void 0&&(c={});for(var v=Je(i),M=Ue(a),j=0;j<M.length-1;j++){var G=!1;if(c.ignoreEndVertices&&(j===0&&(G="start"),j===M.length-2&&(G="end"),j===0&&j+1===M.length-1&&(G="both")),lr(M[j],M[j+1],v,G,typeof c.epsilon>"u"?null:c.epsilon))return!0}return!1};function Qn(i,a){var c=Si(i),v=Si(a),M=c.type,j=v.type,G=c.coordinates,K=v.coordinates;switch(M){case"Point":if(j==="Point")return Oi(G,K);throw new Error("feature2 "+j+" geometry not supported");case"MultiPoint":switch(j){case"Point":return function(q,X){var st,yt=!1;for(st=0;st<q.coordinates.length;st++)if(Oi(q.coordinates[st],X.coordinates)){yt=!0;break}return yt}(c,v);case"MultiPoint":return function(q,X){for(var st=0,yt=X.coordinates;st<yt.length;st++){for(var pt=yt[st],Dt=!1,zt=0,ee=q.coordinates;zt<ee.length;zt++)if(Oi(pt,ee[zt])){Dt=!0;break}if(!Dt)return!1}return!0}(c,v);default:throw new Error("feature2 "+j+" geometry not supported")}case"LineString":switch(j){case"Point":return Xi(v,c,{ignoreEndVertices:!0});case"LineString":return function(q,X){for(var st=!1,yt=0,pt=X.coordinates;yt<pt.length;yt++){var Dt=pt[yt];if(Xi({type:"Point",coordinates:Dt},q,{ignoreEndVertices:!0})&&(st=!0),!Xi({type:"Point",coordinates:Dt},q,{ignoreEndVertices:!1}))return!1}return st}(c,v);case"MultiPoint":return function(q,X){for(var st=!1,yt=0,pt=X.coordinates;yt<pt.length;yt++){var Dt=pt[yt];if(Xi(Dt,q,{ignoreEndVertices:!0})&&(st=!0),!Xi(Dt,q))return!1}return!!st}(c,v);default:throw new Error("feature2 "+j+" geometry not supported")}case"Polygon":switch(j){case"Point":return Ki(v,c,{ignoreBoundary:!0});case"LineString":return function(q,X){var st=!1,yt=0,pt=Fi(q),Dt=Fi(X);if(!Ji(pt,Dt))return!1;for(;yt<X.coordinates.length-1;yt++)if(Ki({type:"Point",coordinates:ri(X.coordinates[yt],X.coordinates[yt+1])},q,{ignoreBoundary:!0})){st=!0;break}return st}(c,v);case"Polygon":return function(q,X){if(q.type==="Feature"&&q.geometry===null||X.type==="Feature"&&X.geometry===null)return!1;var st=Fi(q),yt=Fi(X);if(!Ji(st,yt))return!1;for(var pt=Si(X).coordinates,Dt=0,zt=pt;Dt<zt.length;Dt++)for(var ee=0,ce=zt[Dt];ee<ce.length;ee++)if(!Ki(ce[ee],q))return!1;return!0}(c,v);case"MultiPoint":return function(q,X){for(var st=0,yt=X.coordinates;st<yt.length;st++)if(!Ki(yt[st],q,{ignoreBoundary:!0}))return!1;return!0}(c,v);default:throw new Error("feature2 "+j+" geometry not supported")}default:throw new Error("feature1 "+M+" geometry not supported")}}function Ji(i,a){return!(i[0]>a[0])&&!(i[2]<a[2])&&!(i[1]>a[1])&&!(i[3]<a[3])}function Oi(i,a){return i[0]===a[0]&&i[1]===a[1]}function ri(i,a){return[(i[0]+a[0])/2,(i[1]+a[1])/2]}var ji=o(2676),Ei=o.n(ji);function ve(i){var a={type:"Feature"};return a.geometry=i,a}function Oe(i){return i.type==="Feature"?i.geometry:i}function Ui(i){return i&&i.geometry&&i.geometry.coordinates?i.geometry.coordinates:i}function Bi(i){return ve({type:"Polygon",coordinates:i})}function ki(i){return ve({type:"MultiPolygon",coordinates:i})}function dn(i){return Array.isArray(i)?1+dn(i[0]):-1}function pe(i){i instanceof L.Polyline&&(i=i.toGeoJSON(15));var a=Ui(i),c=dn(a),v=[];return c>1?a.forEach(function(M){v.push(function(j){return ve({type:"LineString",coordinates:j})}(M))}):v.push(i),v}function Fe(i){var a=[];return i.eachLayer(function(c){a.push(Ui(c.toGeoJSON(15)))}),function(c){return ve({type:"MultiLineString",coordinates:c})}(a)}function li(i,a){return function(c){if(Array.isArray(c))return c}(i)||function(c,v){var M=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(M!=null){var j,G,K=[],q=!0,X=!1;try{for(M=M.call(c);!(q=(j=M.next()).done)&&(K.push(j.value),!v||K.length!==v);q=!0);}catch(st){X=!0,G=st}finally{try{q||M.return==null||M.return()}finally{if(X)throw G}}return K}}(i,a)||function(c,v){if(c){if(typeof c=="string")return Yi(c,v);var M=Object.prototype.toString.call(c).slice(8,-1);if(M==="Object"&&c.constructor&&(M=c.constructor.name),M==="Map"||M==="Set")return Array.from(c);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return Yi(c,v)}}(i,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yi(i,a){(a==null||a>i.length)&&(a=i.length);for(var c=0,v=new Array(a);c<a;c++)v[c]=i[c];return v}function ti(i){return function(a){if(Array.isArray(a))return zn(a)}(i)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(i)||function(a,c){if(a){if(typeof a=="string")return zn(a,c);var v=Object.prototype.toString.call(a).slice(8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return Array.from(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return zn(a,c)}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zn(i,a){(a==null||a>i.length)&&(a=i.length);for(var c=0,v=new Array(a);c<a;c++)v[c]=i[c];return v}Y.Cut=Y.Polygon.extend({initialize:function(i){this._map=i,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var i=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=2)){var c=L.polygon(a,this.options.pathOptions);c._latlngInfos=this._layer._latlngInfo,this.cut(c),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(v){var M=v.layer,j=v.originalLayer;i._fireCut(j,M,j),i._fireCut(i._map,M,j),j.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(i){var a=this,c=this._map._layers,v=i._latlngInfos||[];Object.keys(c).map(function(M){return c[M]}).filter(function(M){return M.pm}).filter(function(M){return!M._pmTempLayer}).filter(function(M){return!L.PM.optIn&&!M.options.pmIgnore||L.PM.optIn&&M.options.pmIgnore===!1}).filter(function(M){return M instanceof L.Polyline}).filter(function(M){return M!==i}).filter(function(M){return M.pm.options.allowCutting}).filter(function(M){return!(a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0)||a.options.layersToCut.indexOf(M)>-1}).filter(function(M){return!a._layerGroup.hasLayer(M)}).filter(function(M){try{var j=!!Ci(i.toGeoJSON(15),M.toGeoJSON(15)).features.length>0;return j||M instanceof L.Polyline&&!(M instanceof L.Polygon)?j:(G=i.toGeoJSON(15),K=M.toGeoJSON(15),q=Oe(G),X=Oe(K),!((st=Ei().intersection(q.coordinates,X.coordinates)).length===0||!(st.length===1?Bi(st[0]):ki(st))))}catch{return M instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var G,K,q,X,st}).forEach(function(M){var j;if(M instanceof L.Polygon){var G=(j=L.polygon(M.getLatLngs())).getLatLngs();v.forEach(function(pt){if(pt&&pt.snapInfo){var Dt=pt.latlng,zt=a._calcClosestLayer(Dt,[j]);if(zt&&zt.segment&&zt.distance<a.options.snapDistance){var ee=zt.segment;if(ee&&ee.length===2){var ce=L.PM.Utils._getIndexFromSegment(G,ee),Ce=ce.indexPath,Jt=ce.parentPath,Ee=ce.newIndex;(Ce.length>1?Pt()(G,Jt):G).splice(Ee,0,Dt)}}}})}else j=M;var K=a._cutLayer(i,j),q=L.geoJSON(K,M.options);if(q.getLayers().length===1){var X=q.getLayers();q=li(X,1)[0]}a._setPane(q,"layerPane");var st=q.addTo(a._map.pm._getContainingLayer());if(st.pm.enable(M.pm.options),st.pm.disable(),M._pmTempLayer=!0,i._pmTempLayer=!0,M.remove(),M.removeFrom(a._map.pm._getContainingLayer()),i.remove(),i.removeFrom(a._map.pm._getContainingLayer()),st.getLayers&&st.getLayers().length===0&&a._map.pm.removeLayer({target:st}),st instanceof L.LayerGroup&&st.eachLayer(function(pt){a._addDrawnLayerProp(pt)}),a._addDrawnLayerProp(st),a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0){var yt=a.options.layersToCut.indexOf(M);yt>-1&&a.options.layersToCut.splice(yt,1)}a._editedLayers.push({layer:st,originalLayer:M})})},_cutLayer:function(i,a){var c,v,M,j,G,K,q=L.geoJSON();if(a instanceof L.Polygon)v=a.toGeoJSON(15),M=i.toGeoJSON(15),j=Oe(v),G=Oe(M),c=(K=Ei().difference(j.coordinates,G.coordinates)).length===0?null:K.length===1?Bi(K[0]):ki(K);else{var X=pe(a);X.forEach(function(st){var yt=Mn(st,i.toGeoJSON(15));(yt&&yt.features.length>0?L.geoJSON(yt):L.geoJSON(st)).getLayers().forEach(function(pt){Qn(i.toGeoJSON(15),pt.toGeoJSON(15))||pt.addTo(q)})}),c=X.length>1?Fe(q):q.toGeoJSON(15)}return c},_change:L.Util.falseFn}),Y.Text=Y.extend({initialize:function(i){this._map=i,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ot("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker:function(i){var a;if(i.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var c=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(a=this.options.textOptions)!==null&&a!==void 0&&a.className){var v,M=this.options.textOptions.className.split(" ");(v=this.textArea.classList).add.apply(v,ti(M))}var j=this._createTextIcon(this.textArea),G=new L.Marker(c,{textMarker:!0,_textMarkerOverPM:!0,icon:j});if(this._setPane(G,"markerPane"),this._finishLayer(G),G.pm||(G.options.draggable=!1),G.addTo(this._map.pm._getContainingLayer()),G.pm){var K,q,X,st,yt;G.pm.textArea=this.textArea,L.setOptions(G.pm,{removeIfEmpty:(K=(q=this.options.textOptions)===null||q===void 0?void 0:q.removeIfEmpty)===null||K===void 0||K});var pt=(X=(st=this.options.textOptions)===null||st===void 0?void 0:st.focusAfterDraw)===null||X===void 0||X;G.pm._createTextMarker(pt),(yt=this.options.textOptions)!==null&&yt!==void 0&&yt.text&&G.pm.setText(this.options.textOptions.text)}this._fireCreate(G),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var i=document.createElement("textarea");return i.autofocus=!0,i.readOnly=!0,i.classList.add("pm-textarea","pm-disabled"),i},_createTextIcon:function(i){return L.divIcon({className:"pm-text-marker",html:i})}});const Pn={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,qe(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var i=this._getDOMElem();i&&(qe(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(i)):L.DomEvent.on(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,qe(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var i=this._getDOMElem();i&&(qe(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(i)):L.DomEvent.off(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(i){var a=i.touches?i.touches[0]:i,c={originalEvent:a,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseDown(c),!1},_simulateMouseMoveEvent:function(i){var a=i.touches?i.touches[0]:i,c={originalEvent:a,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(a),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseMove(c),!1},_simulateMouseUpEvent:function(i){var a={originalEvent:i.touches?i.touches[0]:i,target:this._layer};return i.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown:function(i){if(!(i.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(i);var a=i._fromLayerSync,c=this._syncLayers("_dragMixinOnMouseDown",i);this._layer instanceof L.Marker&&(!this.options.snappable||a||c?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||a||c?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=i.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(i){this._overwriteEventIfItComesFromMarker(i);var a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",i),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=i.latlng),this._onLayerDrag(i),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(i){var a=this,c=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",i),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){a._dragging=!1,c&&L.DomUtil.removeClass(c,"leaflet-pm-dragging"),a._fireDragEnd(),a._fireEdit(),a._layerEdited=!0},10),!0)},_onLayerDrag:function(i){var a=i.latlng,c=a.lat-this._tempDragCoord.lat,v=a.lng-this._tempDragCoord.lng,M=function st(yt){return yt.map(function(pt){if(Array.isArray(pt))return st(pt);var Dt={lat:pt.lat+c,lng:pt.lng+v};return(pt.alt||pt.alt===0)&&(Dt.alt=pt.alt),Dt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var j=M([this._layer.getLatLng()]);this._layer.setLatLng(j[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var G=this._layer.getLatLng();this._layer._snapped&&(G=this._layer._orgLatLng);var K=M([G]);this._layer.setLatLng(K[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var q=M([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(q),this._fireChange(this._layer.getBounds(),"Edit")}else{var X=M(this._layer.getLatLngs());this._layer.setLatLngs(X),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,i.layer=this._layer,this._fireDrag(i)},addDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.addClass(i,"leaflet-pm-draggable")},removeDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_getDOMElem:function(){var i=null;return this._layer._path?i=this._layer._path:this._layer._renderer&&this._layer._renderer._container?i=this._layer._renderer._container:this._layer._image?i=this._layer._image:this._layer._icon&&(i=this._layer._icon),i},_overwriteEventIfItComesFromMarker:function(i){i.target.getLatLng&&(!i.target._radius||i.target._radius<=10)&&(i.containerPoint=this._map.mouseEventToContainerPoint(i.originalEvent),i.latlng=this._map.containerPointToLatLng(i.containerPoint))},_syncLayers:function(i,a){var c=this;if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;var v=[];if(L.Util.isArray(this.options.syncLayersOnDrag))v=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(G){G instanceof L.LayerGroup&&(v=v.concat(G.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var M in this._parentLayerGroup){var j=this._parentLayerGroup[M];j.pm&&(v=j.pm.getLayers(!0))}return L.Util.isArray(v)&&v.length>0&&(v=v.filter(function(G){return!!G.pm}).filter(function(G){return!!G.pm.options.draggable})).forEach(function(G){G!==c._layer&&G.pm[i]&&(G._snapped=!1,G.pm[i](a))}),v.length>0}return!1},_stopDOMImageDrag:function(i){return i.preventDefault(),!1}};function si(i,a,c){var v=c.getMaxZoom();if(v===1/0&&(v=c.getZoom()),L.Util.isArray(i)){var M=[];return i.forEach(function(j){M.push(si(j,a,c))}),M}return i instanceof L.LatLng?function(j,G,K,q){return K.unproject(G.transform(K.project(j,q)),q)}(i,a,c,v):null}function we(i,a){a instanceof L.Layer&&(a=a.getLatLng());var c=i.getMaxZoom();return c===1/0&&(c=i.getZoom()),i.project(a,c)}function di(i,a){var c=i.getMaxZoom();return c===1/0&&(c=i.getZoom()),i.unproject(a,c)}var pn={_onRotateStart:function(i){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=we(this._map,this._rotationOriginLatLng),this._rotationStartPoint=we(this._map,i.target.getLatLng()),this._initialRotateLatLng=oe(this._layer),this._startAngle=this.getAngle();var a=oe(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate:function(i){var a=we(this._map,i.target.getLatLng()),c=this._rotationStartPoint,v=this._rotationOriginPoint,M=Math.atan2(a.y-v.y,a.x-v.x)-Math.atan2(c.y-v.y,c.x-v.x);this._layer.setLatLngs(this._rotateLayer(M,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var j=this;(function X(st){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(pt>-1&&yt.push(pt),L.Util.isArray(st[0]))st.forEach(function(zt,ee){return X(zt,yt.slice(),ee)});else{var Dt=Pt()(j._markers,yt);st.forEach(function(zt,ee){Dt[ee].setLatLng(zt)})}})(this._layer.getLatLngs());var G=oe(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(M,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var K=180*M/Math.PI,q=(K=K<0?K+360:K)+this._startAngle;this._setAngle(q),this._rotationLayer.pm._setAngle(q),this._fireRotation(this._rotationLayer,K,G),this._fireRotation(this._map,K,G),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var i=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var a=oe(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=oe(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,i,a),this._fireRotationEnd(this._map,i,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(i,a,c,v,M){var j=we(M,c);return this._matrix=v.clone().rotate(i,j).flip(),si(a,this._matrix,M)},_setAngle:function(i){i=i<0?i+360:i,this._angle=i%360},_getRotationCenter:function(){var i=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=i.getCenter();return i.removeFrom(this._layer._map),a},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=oe(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(i){var a=this.getAngle(),c=this._layer.getLatLngs(),v=i*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(v,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+i),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(v,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var M=this.getAngle()-a;M=M<0?M+360:M,this._startAngle=a,this._fireRotation(this._layer,M,c,this._layer),this._fireRotation(this._map||this._layer._map,M,c,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(i){var a=i-this.getAngle();this.rotateLayer(a)},getAngle:function(){return this._angle||0},setInitAngle:function(i){this._setAngle(i)}};const Qi=pn,je=L.Class.extend({includes:[Pn,Z,Qi,Mt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(i){L.Util.setOptions(this,i)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(i,a){a==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(i,a){var c=a.target,v={layer:this._layer,marker:c,event:a},M="";return i==="move"?M="moveVertexValidation":i==="add"?M="addVertexValidation":i==="remove"&&(M="removeVertexValidation"),this.options[M]&&typeof this.options[M]=="function"&&!this.options[M](v)?(i==="move"&&(c._cancelDragEventChain=c.getLatLng()),!1):(c._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(i){return!i._cancelDragEventChain||(i._latlng=i._cancelDragEventChain,i.update(),!1)},_vertexValidationDragEnd:function(i){return!i._cancelDragEventChain||(i._cancelDragEventChain=null,!1)}});function pi(i){return function(a){if(Array.isArray(a))return tn(a)}(i)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(i)||function(a,c){if(a){if(typeof a=="string")return tn(a,c);var v=Object.prototype.toString.call(a).slice(8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return Array.from(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return tn(a,c)}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tn(i,a){(a==null||a>i.length)&&(a=i.length);for(var c=0,v=new Array(a);c<a;c++)v[c]=i[c];return v}je.LayerGroup=L.Class.extend({initialize:function(i){var a=this;this._layerGroup=i,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(c){return a._initLayer(c)}),this._layerGroup.on("layeradd",L.Util.throttle(function(c){if(!c.layer._pmTempLayer){a._layers=a.getLayers();var v=a._layers.filter(function(M){return!M.pm._parentLayerGroup||!(a._layerGroup._leaflet_id in M.pm._parentLayerGroup)});v.forEach(function(M){a._initLayer(M)}),v.length>0&&a._getMap()&&a._getMap().pm.globalEditModeEnabled()&&a.enabled()&&a.enable(a.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(c){a._removeLayerFromGroup(c.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(c){c.target._pmTempLayer||(a._layers=a.getLayers())},100,this),this)},enable:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(function(c){c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.enable(i,a)):c.pm.enable(i)})},disable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(a){a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.disable(i)):a.pm.disable()})},enabled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.length===0&&(this._layers=this.getLayers());var a=this._layers.find(function(c){return c instanceof L.LayerGroup?i.indexOf(c._leaflet_id)===-1&&(i.push(c._leaflet_id),c.pm.enabled(i)):c.pm.enabled()});return!!a},toggleEdit:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(function(c){c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.toggleEdit(i,a)):c.pm.toggleEdit(i)})},_initLayer:function(i){var a=L.Util.stamp(this._layerGroup);i.pm._parentLayerGroup||(i.pm._parentLayerGroup={}),i.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup:function(i){if(i.pm&&i.pm._layerGroup){var a=L.Util.stamp(this._layerGroup);delete i.pm._layerGroup[a]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var i=this._layers.find(function(a){return a.pm.dragging()});return!!i}return!1},getOptions:function(){return this.options},_getMap:function(){var i;return this._map||((i=this._layers.find(function(a){return!!a._map}))===null||i===void 0?void 0:i._map)||null},getLayers:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],M=[];return i?this._layerGroup.getLayers().forEach(function(j){M.push(j),j instanceof L.LayerGroup&&v.indexOf(j._leaflet_id)===-1&&(v.push(j._leaflet_id),M=M.concat(j.pm.getLayers(!0,!0,!0,v)))}):M=this._layerGroup.getLayers(),c&&(M=M.filter(function(j){return!(j instanceof L.LayerGroup)})),a&&(M=(M=(M=M.filter(function(j){return!!j.pm})).filter(function(j){return!j._pmTempLayer})).filter(function(j){return!L.PM.optIn&&!j.options.pmIgnore||L.PM.optIn&&j.options.pmIgnore===!1})),M},setOptions:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this.options=i,this._layers.forEach(function(c){c.pm&&(c instanceof L.LayerGroup?a.indexOf(c._leaflet_id)===-1&&(a.push(c._leaflet_id),c.pm.setOptions(i,a)):c.pm.setOptions(i))})}}),je.Marker=je.extend({_shape:"Marker",initialize:function(i){this._layer=i,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,i),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(i){var a=i.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)}});const gn={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var i=[].concat(pi(this._markerGroup.getLayers()),pi(this.markerCache));this.markerCache=i.filter(function(a,c,v){return v.indexOf(a)===c})},renderLimits:function(i){var a=this;this.markerCache.forEach(function(c){i.includes(c)?a._markerGroup.addLayer(c):a._markerGroup.removeLayer(c)})},applyLimitFilters:function(i){var a=i.latlng,c=a===void 0?{lat:0,lng:0}:a;if(!this._preventRenderMarkers){var v=pi(this._filterClosestMarkers(c));this.renderLimits(v)}},_filterClosestMarkers:function(i){var a=pi(this.markerCache),c=this.options.limitMarkersToCount;return c===-1?a:(a.sort(function(v,M){return v._latlng.distanceTo(i)-M._latlng.distanceTo(i)}),a.filter(function(v,M){return!(c>-1)||M<c}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(i){this._preventRenderMarkers=!!i}};function Cn(i,a){return function(c){if(Array.isArray(c))return c}(i)||function(c,v){var M=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(M!=null){var j,G,K=[],q=!0,X=!1;try{for(M=M.call(c);!(q=(j=M.next()).done)&&(K.push(j.value),!v||K.length!==v);q=!0);}catch(st){X=!0,G=st}finally{try{q||M.return==null||M.return()}finally{if(X)throw G}}return K}}(i,a)||function(c,v){if(c){if(typeof c=="string")return mn(c,v);var M=Object.prototype.toString.call(c).slice(8,-1);if(M==="Object"&&c.constructor&&(M=c.constructor.name),M==="Map"||M==="Set")return Array.from(c);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return mn(c,v)}}(i,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mn(i,a){(a==null||a>i.length)&&(a=i.length);for(var c=0,v=new Array(a);c<a;c++)v[c]=i[c];return v}function Nn(i){return function(a){if(Array.isArray(a))return en(a)}(i)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(i)||function(a,c){if(a){if(typeof a=="string")return en(a,c);var v=Object.prototype.toString.call(a).slice(8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return Array.from(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return en(a,c)}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function en(i,a){(a==null||a>i.length)&&(a=i.length);for(var c=0,v=new Array(a);c<a;c++)v[c]=i[c];return v}je.Line=je.extend({includes:[gn],_shape:"Line",initialize:function(i){this._layer=i,this._enabled=!1},enable:function(i){L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(i,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(i){return this.enabled()?this.disable():this.enable(i),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var i=this,a=this._map,c=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function v(M){if(Array.isArray(M[0]))return M.map(v,i);var j=M.map(i._createMarker,i);return i.options.hideMiddleMarkers!==!0&&M.map(function(G,K){var q=i.isPolygon()?(K+1)%M.length:K+1;return i._createMiddleMarker(j[K],j[q])}),j}(c),this.filterMarkerGroup(),a.addLayer(this._markerGroup)},_createMarker:function(i){var a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker:function(i,a){if(!i||!a)return!1;var c=L.PM.Utils.calcMiddleLatLng(this._map,i.getLatLng(),a.getLatLng()),v=this._createMarker(c),M=L.divIcon({className:"marker-icon marker-icon-middle"});return v.setIcon(M),v.leftM=i,v.rightM=a,i._middleMarkerNext=v,a._middleMarkerPrev=v,v.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),v.on("movestart",this._onMiddleMarkerMoveStart,this),v},_onMiddleMarkerClick:function(i){var a=i.target;if(this._vertexValidation("add",i)){var c=L.divIcon({className:"marker-icon"});a.setIcon(c),this._addMarker(a,a.leftM,a.rightM)}},_onMiddleMarkerMoveStart:function(i){var a=i.target;a.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",i)?(a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)):a.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(i){var a=i.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd:function(i){var a=i.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(a)){var c=L.divIcon({className:"marker-icon"});a.setIcon(c),setTimeout(function(){delete a._dragging},100)}},_addMarker:function(i,a,c){i.off("movestart",this._onMiddleMarkerMoveStart,this),i.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var v=i.getLatLng(),M=this._layer._latlngs;delete i.leftM,delete i.rightM;var j=L.PM.Utils.findDeepMarkerIndex(this._markers,a),G=j.indexPath,K=j.index,q=j.parentPath,X=G.length>1?Pt()(M,q):M,st=G.length>1?Pt()(this._markers,q):this._markers;X.splice(K+1,0,v),st.splice(K+1,0,i),this._layer.setLatLngs(M),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,i),this._createMiddleMarker(i,c)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(i,L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath,v),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return ze(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(i){var a=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;i?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(ze(this._layer.toGeoJSON(15)))}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var i=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){i._layer.setStyle({color:i.cachedColor}),i.isRed=!1},200)},_updateDisabledMarkerStyle:function(i,a){var c=this;i.forEach(function(v){Array.isArray(v)?c._updateDisabledMarkerStyle(v,a):v._icon&&(a&&!c._checkMarkerAllowedToDrag(v)?L.DomUtil.addClass(v._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(v._icon,"vertexmarker-disabled"))})},_removeMarker:function(i){var a=i.target;if(this._vertexValidation("remove",i)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=oe(this._layer,this._layer.getLatLngs()));var c=this._layer.getLatLngs(),v=L.PM.Utils.findDeepMarkerIndex(this._markers,a),M=v.indexPath,j=v.index,G=v.parentPath;if(M){var K=M.length>1?Pt()(c,G):c,q=M.length>1?Pt()(this._markers,G):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(K.length<=2||this.isPolygon()&&K.length<=3)){K.splice(j,1),this._layer.setLatLngs(c),this.isPolygon()&&K.length<=2&&K.splice(0,K.length);var X=!1;if(K.length<=1&&(K.splice(0,K.length),G.length>1&&M.length>1&&(c=dt(c)),this._layer.setLatLngs(c),this._initMarkers(),X=!0),Kt(c)||this._layer.remove(),c=dt(c),this._layer.setLatLngs(c),this._markers=dt(this._markers),!X&&(q=M.length>1?Pt()(this._markers,G):this._markers,a._middleMarkerPrev&&this._markerGroup.removeLayer(a._middleMarkerPrev),a._middleMarkerNext&&this._markerGroup.removeLayer(a._middleMarkerNext),this._markerGroup.removeLayer(a),q)){var st,yt;if(this.isPolygon()?(st=(j+1)%q.length,yt=(j+(q.length-1))%q.length):(yt=j-1<0?void 0:j-1,st=j+1>=q.length?void 0:j+1),st!==yt){var pt=q[yt],Dt=q[st];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(pt,Dt)}q.splice(j,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,M),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(i){var a=this._layer.getLatLngs(),c=i.getLatLng(),v=L.PM.Utils.findDeepMarkerIndex(this._markers,i),M=v.indexPath,j=v.index,G=v.parentPath;(M.length>1?Pt()(a,G):a).splice(j,1,c),this._layer.setLatLngs(a)},_getNeighborMarkers:function(i){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i),c=a.indexPath,v=a.index,M=a.parentPath,j=c.length>1?Pt()(this._markers,M):this._markers,G=(v+1)%j.length;return{prevMarker:j[(v+(j.length-1))%j.length],nextMarker:j[G]}},_checkMarkerAllowedToDrag:function(i){var a=this._getNeighborMarkers(i),c=a.prevMarker,v=a.nextMarker,M=L.polyline([c.getLatLng(),i.getLatLng()]),j=L.polyline([i.getLatLng(),v.getLatLng()]),G=Ci(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length,K=Ci(this._layer.toGeoJSON(15),j.toGeoJSON(15)).features.length;return i.getLatLng()===this._markers[0][0].getLatLng()?K+=1:i.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(G+=1),!(G<=2&&K<=2)},_onMarkerDragStart:function(i){var a=i.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",i)){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireMarkerDragStart(i,c),this.options.allowSelfIntersection||(this._coordsBeforeEdit=oe(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null}},_onMarkerDrag:function(i){var a=i.target;if(this._vertexValidationDrag(a)){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,a),v=c.indexPath,M=c.index,j=c.parentPath;if(v){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(a);var G=v.length>1?Pt()(this._markers,j):this._markers,K=(M+1)%G.length,q=(M+(G.length-1))%G.length,X=a.getLatLng(),st=G[q].getLatLng(),yt=G[K].getLatLng();if(a._middleMarkerNext){var pt=L.PM.Utils.calcMiddleLatLng(this._map,X,yt);a._middleMarkerNext.setLatLng(pt)}if(a._middleMarkerPrev){var Dt=L.PM.Utils.calcMiddleLatLng(this._map,X,st);a._middleMarkerPrev.setLatLng(Dt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(i,v),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(i){var a=i.target;if(this._vertexValidationDragEnd(a)){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath,v=this.hasSelfIntersection();v&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(v=!1);var M=!this.options.allowSelfIntersection&&v;if(this._fireMarkerDragEnd(i,c,M),M)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(i,c);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(i){var a=i.target;if(!a._dragging){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireVertexClick(i,c)}}}),je.Polygon=je.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(i){var a=this._getNeighborMarkers(i),c=a.prevMarker,v=a.nextMarker,M=L.polyline([c.getLatLng(),i.getLatLng()]),j=L.polyline([i.getLatLng(),v.getLatLng()]),G=Ci(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length,K=Ci(this._layer.toGeoJSON(15),j.toGeoJSON(15)).features.length;return!(G<=2&&K<=2)}}),je.Rectangle=je.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var i=this,a=this._map,c=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,a.addLayer(this._markerGroup),this._markers=[],this._markers[0]=c.map(this._createMarker,this);var v=Cn(this._markers,1);this._cornerMarkers=v[0],this._layer.getLatLngs()[0].forEach(function(M,j){var G=i._cornerMarkers.find(function(K){return K._index===j});G&&G.setLatLng(M)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(i,a){var c=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=i,c._index=a,c._pmTempLayer=!0,this._markerGroup.addLayer(c),c},_addMarkerEvents:function(){var i=this;this._markers[0].forEach(function(a){a.on("dragstart",i._onMarkerDragStart,i),a.on("drag",i._onMarkerDrag,i),a.on("dragend",i._onMarkerDragEnd,i),i.options.preventMarkerRemoval||a.on("contextmenu",i._removeMarker,i)})},_removeMarker:function(){return null},_onMarkerDragStart:function(i){if(this._vertexValidation("move",i)){var a=i.target,c=this._cornerMarkers;a._oppositeCornerLatLng=c.find(function(v){return v._index===(a._index+2)%4}).getLatLng(),a._snapped=!1,this._fireMarkerDragStart(i)}},_onMarkerDrag:function(i){var a=i.target;this._vertexValidationDrag(a)&&a._index!==void 0&&(this._adjustRectangleForMarkerMove(a),this._fireMarkerDrag(i),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(i){var a=i.target;this._vertexValidationDragEnd(a)&&(this._cornerMarkers.forEach(function(c){delete c._oppositeCornerLatLng}),this._fireMarkerDragEnd(i),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(i){L.extend(i._origLatLng,i._latlng);var a=L.PM.Utils._getRotatedRectangle(i.getLatLng(),i._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var i=this,a=this._layer.getLatLngs()[0];a&&a.length!==4&&a.length>0?(a.forEach(function(c,v){i._cornerMarkers[v].setLatLng(c)}),this._cornerMarkers.slice(a.length).forEach(function(c){c.setLatLng(a[0])})):a&&a.length?this._cornerMarkers.forEach(function(c){c.setLatLng(a[c._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this._angle||0,this._map)}}),je.Circle=je.extend({_shape:"Circle",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(i){L.Util.setOptions(this,i),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var a=this._layer.getLatLng(),c=this._layer._radius,v=this._getLatLngOnCircle(a,c);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(v),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(i,a){var c=i.getLatLng(),v=a.getLatLng();this._hintline=L.polyline([c,v],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var a=this._createMarker(i);return L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"),a.on("drag",this._moveCircle,this),a.on("dragstart",this._onCircleDragStart,this),a.on("drag",this._onCircleDrag,this),a.on("dragend",this._onCircleDragEnd,this),a},_createOuterMarker:function(i){var a=this._createMarker(i);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(i){var a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=i,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(i){if(!i.target._cancelDragEventChain){var a=i.latlng;this._layer.setLatLng(a);var c=this._layer._radius,v=this._getLatLngOnCircle(a,c);this._outerMarker._latlng=v,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._map.distance(i,a);this.options.minRadiusCircle&&c<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(c),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,a])},_disableSnapping:function(){var i=this;this._markers.forEach(function(a){a.off("move",i._syncHintLine,i),a.off("move",i._syncCircleRadius,i),a.off("drag",i._handleSnapping,i),a.off("dragend",i._cleanupSnapping,i)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(i){this._vertexValidation("move",i)&&this._fireMarkerDragStart(i)},_onMarkerDrag:function(i){var a=i.target;this._vertexValidationDrag(a)&&this._fireMarkerDrag(i)},_onMarkerDragEnd:function(i){var a=i.target;this._vertexValidationDragEnd(a)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(i))},_onCircleDragStart:function(i){this._vertexValidationDrag(i.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(i){this._vertexValidationReset||this._fireDrag(i)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var i=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!i).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!i),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(i,a){var c=this._map.project(i),v=L.point(c.x+a,c.y);return this._map.unproject(v)},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._map.distance(i,a);return this.options.minRadiusCircle&&c<this.options.minRadiusCircle?a=jt(this._map,i,a,this.options.minRadiusCircle):this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle&&(a=jt(this._map,i,a,this.options.maxRadiusCircle)),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._map.distance(i,a);(this.options.minRadiusCircle&&c<this.options.minRadiusCircle||this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),je.CircleMarker=je.extend({_shape:"CircleMarker",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var a=this._layer.getLatLng(),c=this._layer._radius,v=this._getLatLngOnCircle(a,c);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(v),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(i,a){var c=this._map.project(i),v=L.point(c.x+a,c.y);return this._map.unproject(v)},_createHintLine:function(i,a){var c=i.getLatLng(),v=a.getLatLng();this._hintline=L.polyline([c,v],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var a=this._createMarker(i);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker:function(i){var a=this._createMarker(i);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(i){var a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=i,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_moveCircle:function(){var i=this._centerMarker.getLatLng();this._layer.setLatLng(i);var a=this._layer._radius,c=this._getLatLngOnCircle(i,a);this._outerMarker._latlng=c,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var i=this._layer.getLatLng(),a=this._layer._radius,c=this._getLatLngOnCircle(i,a);this._outerMarker.setLatLng(c),this._centerMarker.setLatLng(i),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._map.project(i).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(c),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,a])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(i){this._vertexValidation("move",i)&&this._fireMarkerDragStart(i)},_onMarkerDrag:function(i){var a=i.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(i)},_onMarkerDragEnd:function(i){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var a=i.target;this._vertexValidationDragEnd(a)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(i))},_initSnappableMarkersDrag:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var i=this._layer._map||this._map;if(i){var a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),i,this._layer.getLatLng()),c=L.circle(this._layer.getLatLng(),this._layer.options);c.setRadius(a);var v=i&&i.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(c,200,!v).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(c,200,!v),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._map.project(i).distanceTo(this._map.project(a));return this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?a=jt(this._map,i,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,i)):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker&&(a=jt(this._map,i,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,i))),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),c=this._map.project(i).distanceTo(this._map.project(a));(this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),je.ImageOverlay=je.extend({_shape:"ImageOverlay",initialize:function(i){this._layer=i,this._enabled=!1},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},enabled:function(){return this._enabled},enable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]}}),je.Text=je.extend({_shape:"Text",initialize:function(i){this._layer=i,this._enabled=!1},enable:function(i){L.Util.setOptions(this,i),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var i=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),i.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var i=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(i,"px"),this.textArea.style.width="".concat(a,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var i=this;this._disableOnBlurActive=!0,setTimeout(function(){i.enabled()&&L.DomEvent.on(document,"click",i._documentClick,i)},100)},_documentClick:function(i){i.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this._hasFocus;this._hasFocus=i.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(i){this.textArea.value=i,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var i,a=this.options.className.split(" ");(i=this.textArea.classList).add.apply(i,Nn(a))}var c=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(c),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),i===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(i){i.preventDefault()}});var nn=function(i,a,c,v,M,j){this._matrix=[i,a,c,v,M,j]};nn.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},nn.prototype={transform:function(i){return this._transform(i.clone())},_transform:function(i){var a=this._matrix,c=i.x,v=i.y;return i.x=a[0]*c+a[1]*v+a[4],i.y=a[2]*c+a[3]*v+a[5],i},untransform:function(i){var a=this._matrix;return new L.Point((i.x/a[0]-a[4])/a[0],(i.y/a[2]-a[5])/a[2])},clone:function(){var i=this._matrix;return new L.PM.Matrix(i[0],i[1],i[2],i[3],i[4],i[5])},translate:function(i){return i===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof i=="number"?(a=i,c=i):(a=i.x,c=i.y),this._add(1,0,0,1,a,c));var a,c},scale:function(i,a){return i===void 0?new L.Point(this._matrix[0],this._matrix[3]):(a=a||L.point(0,0),typeof i=="number"?(c=i,v=i):(c=i.x,v=i.y),this._add(c,0,0,v,a.x,a.y)._add(1,0,0,1,-a.x,-a.y));var c,v},rotate:function(i,a){var c=Math.cos(i),v=Math.sin(i);return a=a||new L.Point(0,0),this._add(c,v,-v,c,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(i,a,c,v,M,j){var G,K=[[],[],[]],q=this._matrix,X=[[q[0],q[2],q[4]],[q[1],q[3],q[5]],[0,0,1]],st=[[i,c,M],[a,v,j],[0,0,1]];i&&i instanceof L.PM.Matrix&&(st=[[(q=i._matrix)[0],q[2],q[4]],[q[1],q[3],q[5]],[0,0,1]]);for(var yt=0;yt<3;yt+=1)for(var pt=0;pt<3;pt+=1){G=0;for(var Dt=0;Dt<3;Dt+=1)G+=X[yt][Dt]*st[Dt][pt];K[yt][pt]=G}return this._matrix=[K[0][0],K[1][0],K[0][1],K[1][1],K[0][2],K[1][2]],this}};const Fn=nn;var ur={calcMiddleLatLng:function(i,a,c){var v=i.project(a),M=i.project(c);return i.unproject(v._add(M)._divideBy(2))},findLayers:function(i){var a=[];return i.eachLayer(function(c){(c instanceof L.Polyline||c instanceof L.Marker||c instanceof L.Circle||c instanceof L.CircleMarker||c instanceof L.ImageOverlay)&&a.push(c)}),a=(a=(a=a.filter(function(c){return!!c.pm})).filter(function(c){return!c._pmTempLayer})).filter(function(c){return!L.PM.optIn&&!c.options.pmIgnore||L.PM.optIn&&c.options.pmIgnore===!1})},circleToPolygon:function(i){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=i.getLatLng(),M=i.getRadius(),j=Zt(v,M,a,0,c),G=[],K=0;K<j.length;K+=1){var q=[j[K].lat,j[K].lng];G.push(q)}return L.polygon(G,i.options)},disablePopup:function(i){i.getPopup()&&(i._tempPopupCopy=i.getPopup(),i.unbindPopup())},enablePopup:function(i){i._tempPopupCopy&&(i.bindPopup(i._tempPopupCopy),delete i._tempPopupCopy)},_fireEvent:function(i,a,c){var v=arguments.length>3&&arguments[3]!==void 0&&arguments[3];i.fire(a,c,v);var M=this.getAllParentGroups(i),j=M.groups;j.forEach(function(G){G.fire(a,c,v)})},getAllParentGroups:function(i){var a=[],c=[];return!i._pmLastGroupFetch||!i._pmLastGroupFetch.time||new Date().getTime()-i._pmLastGroupFetch.time>1e3?(function v(M){for(var j in M._eventParents)if(a.indexOf(j)===-1){a.push(j);var G=M._eventParents[j];c.push(G),v(G)}}(i),i._pmLastGroupFetch={time:new Date().getTime(),groups:c,groupIds:a},{groupIds:a,groups:c}):{groups:i._pmLastGroupFetch.groups,groupIds:i._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Zt,getTranslation:Ot,findDeepCoordIndex:function(i,a){var c,v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],M=function G(K){return function(q,X){var st=K.concat(X);if(v){if(q.lat&&q.lat===a.lat&&q.lng===a.lng)return c=st,!0}else if(q.lat&&L.latLng(q).equals(a))return c=st,!0;return Array.isArray(q)&&q.some(G(st))}};i.some(M([]));var j={};return c&&(j={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),j},findDeepMarkerIndex:function(i,a){var c;i.some(function M(j){return function(G,K){var q=j.concat(K);return G._leaflet_id===a._leaflet_id?(c=q,!0):Array.isArray(G)&&G.some(M(q))}}([]));var v={};return c&&(v={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),v},_getIndexFromSegment:function(i,a){if(a&&a.length===2){var c=this.findDeepCoordIndex(i,a[0]),v=this.findDeepCoordIndex(i,a[1]),M=Math.max(c.index,v.index);return c.index!==0&&v.index!==0||M===1||(M+=1),{indexA:c,indexB:v,newIndex:M,indexPath:c.indexPath,parentPath:c.parentPath}}return null},_getRotatedRectangle:function(i,a,c,v){var M=we(v,i),j=we(v,a),G=c*Math.PI/180,K=Math.cos(G),q=Math.sin(G),X=(j.x-M.x)*K+(j.y-M.y)*q,st=(j.y-M.y)*K-(j.x-M.x)*q,yt=X*K+M.x,pt=X*q+M.y,Dt=-st*q+M.x,zt=st*K+M.y;return[di(v,M),di(v,{x:yt,y:pt}),di(v,j),di(v,{x:Dt,y:zt})]},pxRadiusToMeterRadius:function(i,a,c){var v=a.project(c),M=L.point(v.x+i,v.y);return a.distance(a.unproject(M),c)}};const he=ur;L.PM=L.PM||{version:"2.14.2",Map:Ri,Toolbar:We,Draw:Y,Edit:je,Utils:he,Matrix:Fn,activeLang:"en",optIn:!1,initialize:function(i){this.addInitHooks(i)},setOptIn:function(i){this.optIn=!!i},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(i){var a=this;i instanceof L.LayerGroup&&i.eachLayer(function(c){a.reInitLayer(c)}),i.pm||L.PM.optIn&&i.options.pmIgnore!==!1||i.options.pmIgnore||(i instanceof L.Map?i.pm=new L.PM.Map(i):i instanceof L.Marker?i.options.textMarker?(i.pm=new L.PM.Edit.Text(i),i.pm._initTextMarker(),i.pm._createTextMarker(!1)):i.pm=new L.PM.Edit.Marker(i):i instanceof L.Circle?i.pm=new L.PM.Edit.Circle(i):i instanceof L.CircleMarker?i.pm=new L.PM.Edit.CircleMarker(i):i instanceof L.Rectangle?i.pm=new L.PM.Edit.Rectangle(i):i instanceof L.Polygon?i.pm=new L.PM.Edit.Polygon(i):i instanceof L.Polyline?i.pm=new L.PM.Edit.Line(i):i instanceof L.LayerGroup?i.pm=new L.PM.Edit.LayerGroup(i):i instanceof L.ImageOverlay&&(i.pm=new L.PM.Edit.ImageOverlay(i)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(i){for(var a,c,v=this._map.mouseEventToLayerPoint(i),M=this._drawFirst;M;M=M.next)(a=M.layer).options.interactive&&a._containsPoint(v)&&(i.type!=="click"&&i.type!=="preclick"||!this._map._draggableMoved(a))&&(c=a);c&&(L.DomEvent.fakeStop(i),this._fireEvent([c],i))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(D){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof D!="function")throw new TypeError("callback must be a function");for(var I=Object(this),o=I.length>>>0,k=arguments[1],P=0;P<o;P++)if(D.call(k,I[P],P,I))return P;return-1},Array.prototype.find=Array.prototype.find||function(D){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof D!="function")throw new TypeError("callback must be a function");for(var I=Object(this),o=I.length>>>0,k=arguments[1],P=0;P<o;P++){var e=I[P];if(D.call(k,e,P,I))return e}},typeof Object.assign!="function"&&(Object.assign=function(D){if(D==null)throw new TypeError("Cannot convert undefined or null to object");D=Object(D);for(var I=1;I<arguments.length;I++){var o=arguments[I];if(o!=null)for(var k in o)Object.prototype.hasOwnProperty.call(o,k)&&(D[k]=o[k])}return D}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(D){D.hasOwnProperty("remove")||Object.defineProperty(D,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(D,I){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this),k=o.length>>>0;if(k===0)return!1;for(var P,e,n=0|I,s=Math.max(n>=0?n:k-Math.abs(n),0);s<k;){if((P=o[s])===(e=D)||typeof P=="number"&&typeof e=="number"&&isNaN(P)&&isNaN(e))return!0;s++}return!1}})},1787:(D,I,o)=>{var k=o(2582),P=o(4102),e=o(1540),n=o(9705).Z,s=e.featureEach,u=(e.coordEach,P.polygon,P.featureCollection);function d(_){var b=new k(_);return b.insert=function(x){if(x.type!=="Feature")throw new Error("invalid feature");return x.bbox=x.bbox?x.bbox:n(x),k.prototype.insert.call(this,x)},b.load=function(x){var A=[];return Array.isArray(x)?x.forEach(function(S){if(S.type!=="Feature")throw new Error("invalid features");S.bbox=S.bbox?S.bbox:n(S),A.push(S)}):s(x,function(S){if(S.type!=="Feature")throw new Error("invalid features");S.bbox=S.bbox?S.bbox:n(S),A.push(S)}),k.prototype.load.call(this,A)},b.remove=function(x,A){if(x.type!=="Feature")throw new Error("invalid feature");return x.bbox=x.bbox?x.bbox:n(x),k.prototype.remove.call(this,x,A)},b.clear=function(){return k.prototype.clear.call(this)},b.search=function(x){var A=k.prototype.search.call(this,this.toBBox(x));return u(A)},b.collides=function(x){return k.prototype.collides.call(this,this.toBBox(x))},b.all=function(){var x=k.prototype.all.call(this);return u(x)},b.toJSON=function(){return k.prototype.toJSON.call(this)},b.fromJSON=function(x){return k.prototype.fromJSON.call(this,x)},b.toBBox=function(x){var A;if(x.bbox)A=x.bbox;else if(Array.isArray(x)&&x.length===4)A=x;else if(Array.isArray(x)&&x.length===6)A=[x[0],x[1],x[3],x[4]];else if(x.type==="Feature")A=n(x);else{if(x.type!=="FeatureCollection")throw new Error("invalid geojson");A=n(x)}return{minX:A[0],minY:A[1],maxX:A[2],maxY:A[3]}},b}D.exports=d,D.exports.default=d},1989:(D,I,o)=>{var k=o(1789),P=o(401),e=o(7667),n=o(1327),s=o(1866);function u(d){var _=-1,b=d==null?0:d.length;for(this.clear();++_<b;){var x=d[_];this.set(x[0],x[1])}}u.prototype.clear=k,u.prototype.delete=P,u.prototype.get=e,u.prototype.has=n,u.prototype.set=s,D.exports=u},8407:(D,I,o)=>{var k=o(7040),P=o(4125),e=o(2117),n=o(7518),s=o(4705);function u(d){var _=-1,b=d==null?0:d.length;for(this.clear();++_<b;){var x=d[_];this.set(x[0],x[1])}}u.prototype.clear=k,u.prototype.delete=P,u.prototype.get=e,u.prototype.has=n,u.prototype.set=s,D.exports=u},7071:(D,I,o)=>{var k=o(852)(o(5639),"Map");D.exports=k},3369:(D,I,o)=>{var k=o(4785),P=o(1285),e=o(6e3),n=o(9916),s=o(5265);function u(d){var _=-1,b=d==null?0:d.length;for(this.clear();++_<b;){var x=d[_];this.set(x[0],x[1])}}u.prototype.clear=k,u.prototype.delete=P,u.prototype.get=e,u.prototype.has=n,u.prototype.set=s,D.exports=u},6384:(D,I,o)=>{var k=o(8407),P=o(7465),e=o(3779),n=o(7599),s=o(4758),u=o(4309);function d(_){var b=this.__data__=new k(_);this.size=b.size}d.prototype.clear=P,d.prototype.delete=e,d.prototype.get=n,d.prototype.has=s,d.prototype.set=u,D.exports=d},2705:(D,I,o)=>{var k=o(5639).Symbol;D.exports=k},1149:(D,I,o)=>{var k=o(5639).Uint8Array;D.exports=k},6874:D=>{D.exports=function(I,o,k){switch(k.length){case 0:return I.call(o);case 1:return I.call(o,k[0]);case 2:return I.call(o,k[0],k[1]);case 3:return I.call(o,k[0],k[1],k[2])}return I.apply(o,k)}},4636:(D,I,o)=>{var k=o(2545),P=o(5694),e=o(1469),n=o(4144),s=o(5776),u=o(6719),d=Object.prototype.hasOwnProperty;D.exports=function(_,b){var x=e(_),A=!x&&P(_),S=!x&&!A&&n(_),F=!x&&!A&&!S&&u(_),H=x||A||S||F,z=H?k(_.length,String):[],U=z.length;for(var p in _)!b&&!d.call(_,p)||H&&(p=="length"||S&&(p=="offset"||p=="parent")||F&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||s(p,U))||z.push(p);return z}},9932:D=>{D.exports=function(I,o){for(var k=-1,P=I==null?0:I.length,e=Array(P);++k<P;)e[k]=o(I[k],k,I);return e}},6556:(D,I,o)=>{var k=o(9465),P=o(7813);D.exports=function(e,n,s){(s!==void 0&&!P(e[n],s)||s===void 0&&!(n in e))&&k(e,n,s)}},4865:(D,I,o)=>{var k=o(9465),P=o(7813),e=Object.prototype.hasOwnProperty;D.exports=function(n,s,u){var d=n[s];e.call(n,s)&&P(d,u)&&(u!==void 0||s in n)||k(n,s,u)}},8470:(D,I,o)=>{var k=o(7813);D.exports=function(P,e){for(var n=P.length;n--;)if(k(P[n][0],e))return n;return-1}},9465:(D,I,o)=>{var k=o(8777);D.exports=function(P,e,n){e=="__proto__"&&k?k(P,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):P[e]=n}},3118:(D,I,o)=>{var k=o(3218),P=Object.create,e=function(){function n(){}return function(s){if(!k(s))return{};if(P)return P(s);n.prototype=s;var u=new n;return n.prototype=void 0,u}}();D.exports=e},8483:(D,I,o)=>{var k=o(5063)();D.exports=k},7786:(D,I,o)=>{var k=o(1811),P=o(327);D.exports=function(e,n){for(var s=0,u=(n=k(n,e)).length;e!=null&&s<u;)e=e[P(n[s++])];return s&&s==u?e:void 0}},4239:(D,I,o)=>{var k=o(2705),P=o(9607),e=o(2333),n=k?k.toStringTag:void 0;D.exports=function(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":n&&n in Object(s)?P(s):e(s)}},8565:D=>{var I=Object.prototype.hasOwnProperty;D.exports=function(o,k){return o!=null&&I.call(o,k)}},9454:(D,I,o)=>{var k=o(4239),P=o(7005);D.exports=function(e){return P(e)&&k(e)=="[object Arguments]"}},8458:(D,I,o)=>{var k=o(3560),P=o(5346),e=o(3218),n=o(346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,_=u.toString,b=d.hasOwnProperty,x=RegExp("^"+_.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");D.exports=function(A){return!(!e(A)||P(A))&&(k(A)?x:s).test(n(A))}},8749:(D,I,o)=>{var k=o(4239),P=o(1780),e=o(7005),n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,D.exports=function(s){return e(s)&&P(s.length)&&!!n[k(s)]}},313:(D,I,o)=>{var k=o(3218),P=o(5726),e=o(3498),n=Object.prototype.hasOwnProperty;D.exports=function(s){if(!k(s))return e(s);var u=P(s),d=[];for(var _ in s)(_!="constructor"||!u&&n.call(s,_))&&d.push(_);return d}},2980:(D,I,o)=>{var k=o(6384),P=o(6556),e=o(8483),n=o(9783),s=o(3218),u=o(1704),d=o(6390);D.exports=function _(b,x,A,S,F){b!==x&&e(x,function(H,z){if(F||(F=new k),s(H))n(b,x,z,A,_,S,F);else{var U=S?S(d(b,z),H,z+"",b,x,F):void 0;U===void 0&&(U=H),P(b,z,U)}},u)}},9783:(D,I,o)=>{var k=o(6556),P=o(4626),e=o(7133),n=o(278),s=o(8517),u=o(5694),d=o(1469),_=o(9246),b=o(4144),x=o(3560),A=o(3218),S=o(8630),F=o(6719),H=o(6390),z=o(9881);D.exports=function(U,p,ft,xt,wt,St,Bt){var Tt=H(U,ft),Nt=H(p,ft),lt=Bt.get(Nt);if(lt)k(U,ft,lt);else{var Mt=St?St(Tt,Nt,ft+"",U,p,Bt):void 0,At=Mt===void 0;if(At){var Qt=d(Nt),Pt=!Qt&&b(Nt),te=!Qt&&!Pt&&F(Nt);Mt=Nt,Qt||Pt||te?d(Tt)?Mt=Tt:_(Tt)?Mt=n(Tt):Pt?(At=!1,Mt=P(Nt,!0)):te?(At=!1,Mt=e(Nt,!0)):Mt=[]:S(Nt)||u(Nt)?(Mt=Tt,u(Tt)?Mt=z(Tt):A(Tt)&&!x(Tt)||(Mt=s(Nt))):At=!1}At&&(Bt.set(Nt,Mt),wt(Mt,Nt,xt,St,Bt),Bt.delete(Nt)),k(U,ft,Mt)}}},5976:(D,I,o)=>{var k=o(6557),P=o(5357),e=o(61);D.exports=function(n,s){return e(P(n,s,k),n+"")}},6560:(D,I,o)=>{var k=o(5703),P=o(8777),e=o(6557),n=P?function(s,u){return P(s,"toString",{configurable:!0,enumerable:!1,value:k(u),writable:!0})}:e;D.exports=n},2545:D=>{D.exports=function(I,o){for(var k=-1,P=Array(I);++k<I;)P[k]=o(k);return P}},531:(D,I,o)=>{var k=o(2705),P=o(9932),e=o(1469),n=o(3448),s=k?k.prototype:void 0,u=s?s.toString:void 0;D.exports=function d(_){if(typeof _=="string")return _;if(e(_))return P(_,d)+"";if(n(_))return u?u.call(_):"";var b=_+"";return b=="0"&&1/_==-1/0?"-0":b}},1717:D=>{D.exports=function(I){return function(o){return I(o)}}},1811:(D,I,o)=>{var k=o(1469),P=o(5403),e=o(5514),n=o(9833);D.exports=function(s,u){return k(s)?s:P(s,u)?[s]:e(n(s))}},4318:(D,I,o)=>{var k=o(1149);D.exports=function(P){var e=new P.constructor(P.byteLength);return new k(e).set(new k(P)),e}},4626:(D,I,o)=>{D=o.nmd(D);var k=o(5639),P=I&&!I.nodeType&&I,e=P&&D&&!D.nodeType&&D,n=e&&e.exports===P?k.Buffer:void 0,s=n?n.allocUnsafe:void 0;D.exports=function(u,d){if(d)return u.slice();var _=u.length,b=s?s(_):new u.constructor(_);return u.copy(b),b}},7133:(D,I,o)=>{var k=o(4318);D.exports=function(P,e){var n=e?k(P.buffer):P.buffer;return new P.constructor(n,P.byteOffset,P.length)}},278:D=>{D.exports=function(I,o){var k=-1,P=I.length;for(o||(o=Array(P));++k<P;)o[k]=I[k];return o}},8363:(D,I,o)=>{var k=o(4865),P=o(9465);D.exports=function(e,n,s,u){var d=!s;s||(s={});for(var _=-1,b=n.length;++_<b;){var x=n[_],A=u?u(s[x],e[x],x,s,e):void 0;A===void 0&&(A=e[x]),d?P(s,x,A):k(s,x,A)}return s}},4429:(D,I,o)=>{var k=o(5639)["__core-js_shared__"];D.exports=k},1463:(D,I,o)=>{var k=o(5976),P=o(6612);D.exports=function(e){return k(function(n,s){var u=-1,d=s.length,_=d>1?s[d-1]:void 0,b=d>2?s[2]:void 0;for(_=e.length>3&&typeof _=="function"?(d--,_):void 0,b&&P(s[0],s[1],b)&&(_=d<3?void 0:_,d=1),n=Object(n);++u<d;){var x=s[u];x&&e(n,x,u,_)}return n})}},5063:D=>{D.exports=function(I){return function(o,k,P){for(var e=-1,n=Object(o),s=P(o),u=s.length;u--;){var d=s[I?u:++e];if(k(n[d],d,n)===!1)break}return o}}},8777:(D,I,o)=>{var k=o(852),P=function(){try{var e=k(Object,"defineProperty");return e({},"",{}),e}catch{}}();D.exports=P},1957:(D,I,o)=>{var k=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g;D.exports=k},5050:(D,I,o)=>{var k=o(7019);D.exports=function(P,e){var n=P.__data__;return k(e)?n[typeof e=="string"?"string":"hash"]:n.map}},852:(D,I,o)=>{var k=o(8458),P=o(7801);D.exports=function(e,n){var s=P(e,n);return k(s)?s:void 0}},5924:(D,I,o)=>{var k=o(5569)(Object.getPrototypeOf,Object);D.exports=k},9607:(D,I,o)=>{var k=o(2705),P=Object.prototype,e=P.hasOwnProperty,n=P.toString,s=k?k.toStringTag:void 0;D.exports=function(u){var d=e.call(u,s),_=u[s];try{u[s]=void 0;var b=!0}catch{}var x=n.call(u);return b&&(d?u[s]=_:delete u[s]),x}},7801:D=>{D.exports=function(I,o){return I==null?void 0:I[o]}},222:(D,I,o)=>{var k=o(1811),P=o(5694),e=o(1469),n=o(5776),s=o(1780),u=o(327);D.exports=function(d,_,b){for(var x=-1,A=(_=k(_,d)).length,S=!1;++x<A;){var F=u(_[x]);if(!(S=d!=null&&b(d,F)))break;d=d[F]}return S||++x!=A?S:!!(A=d==null?0:d.length)&&s(A)&&n(F,A)&&(e(d)||P(d))}},1789:(D,I,o)=>{var k=o(4536);D.exports=function(){this.__data__=k?k(null):{},this.size=0}},401:D=>{D.exports=function(I){var o=this.has(I)&&delete this.__data__[I];return this.size-=o?1:0,o}},7667:(D,I,o)=>{var k=o(4536),P=Object.prototype.hasOwnProperty;D.exports=function(e){var n=this.__data__;if(k){var s=n[e];return s==="__lodash_hash_undefined__"?void 0:s}return P.call(n,e)?n[e]:void 0}},1327:(D,I,o)=>{var k=o(4536),P=Object.prototype.hasOwnProperty;D.exports=function(e){var n=this.__data__;return k?n[e]!==void 0:P.call(n,e)}},1866:(D,I,o)=>{var k=o(4536);D.exports=function(P,e){var n=this.__data__;return this.size+=this.has(P)?0:1,n[P]=k&&e===void 0?"__lodash_hash_undefined__":e,this}},8517:(D,I,o)=>{var k=o(3118),P=o(5924),e=o(5726);D.exports=function(n){return typeof n.constructor!="function"||e(n)?{}:k(P(n))}},5776:D=>{var I=/^(?:0|[1-9]\d*)$/;D.exports=function(o,k){var P=typeof o;return!!(k=k??9007199254740991)&&(P=="number"||P!="symbol"&&I.test(o))&&o>-1&&o%1==0&&o<k}},6612:(D,I,o)=>{var k=o(7813),P=o(8612),e=o(5776),n=o(3218);D.exports=function(s,u,d){if(!n(d))return!1;var _=typeof u;return!!(_=="number"?P(d)&&e(u,d.length):_=="string"&&u in d)&&k(d[u],s)}},5403:(D,I,o)=>{var k=o(1469),P=o(3448),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;D.exports=function(s,u){if(k(s))return!1;var d=typeof s;return!(d!="number"&&d!="symbol"&&d!="boolean"&&s!=null&&!P(s))||n.test(s)||!e.test(s)||u!=null&&s in Object(u)}},7019:D=>{D.exports=function(I){var o=typeof I;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?I!=="__proto__":I===null}},5346:(D,I,o)=>{var k,P=o(4429),e=(k=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";D.exports=function(n){return!!e&&e in n}},5726:D=>{var I=Object.prototype;D.exports=function(o){var k=o&&o.constructor;return o===(typeof k=="function"&&k.prototype||I)}},7040:D=>{D.exports=function(){this.__data__=[],this.size=0}},4125:(D,I,o)=>{var k=o(8470),P=Array.prototype.splice;D.exports=function(e){var n=this.__data__,s=k(n,e);return!(s<0)&&(s==n.length-1?n.pop():P.call(n,s,1),--this.size,!0)}},2117:(D,I,o)=>{var k=o(8470);D.exports=function(P){var e=this.__data__,n=k(e,P);return n<0?void 0:e[n][1]}},7518:(D,I,o)=>{var k=o(8470);D.exports=function(P){return k(this.__data__,P)>-1}},4705:(D,I,o)=>{var k=o(8470);D.exports=function(P,e){var n=this.__data__,s=k(n,P);return s<0?(++this.size,n.push([P,e])):n[s][1]=e,this}},4785:(D,I,o)=>{var k=o(1989),P=o(8407),e=o(7071);D.exports=function(){this.size=0,this.__data__={hash:new k,map:new(e||P),string:new k}}},1285:(D,I,o)=>{var k=o(5050);D.exports=function(P){var e=k(this,P).delete(P);return this.size-=e?1:0,e}},6e3:(D,I,o)=>{var k=o(5050);D.exports=function(P){return k(this,P).get(P)}},9916:(D,I,o)=>{var k=o(5050);D.exports=function(P){return k(this,P).has(P)}},5265:(D,I,o)=>{var k=o(5050);D.exports=function(P,e){var n=k(this,P),s=n.size;return n.set(P,e),this.size+=n.size==s?0:1,this}},4523:(D,I,o)=>{var k=o(8306);D.exports=function(P){var e=k(P,function(s){return n.size===500&&n.clear(),s}),n=e.cache;return e}},4536:(D,I,o)=>{var k=o(852)(Object,"create");D.exports=k},3498:D=>{D.exports=function(I){var o=[];if(I!=null)for(var k in Object(I))o.push(k);return o}},1167:(D,I,o)=>{D=o.nmd(D);var k=o(1957),P=I&&!I.nodeType&&I,e=P&&D&&!D.nodeType&&D,n=e&&e.exports===P&&k.process,s=function(){try{var u=e&&e.require&&e.require("util").types;return u||n&&n.binding&&n.binding("util")}catch{}}();D.exports=s},2333:D=>{var I=Object.prototype.toString;D.exports=function(o){return I.call(o)}},5569:D=>{D.exports=function(I,o){return function(k){return I(o(k))}}},5357:(D,I,o)=>{var k=o(6874),P=Math.max;D.exports=function(e,n,s){return n=P(n===void 0?e.length-1:n,0),function(){for(var u=arguments,d=-1,_=P(u.length-n,0),b=Array(_);++d<_;)b[d]=u[n+d];d=-1;for(var x=Array(n+1);++d<n;)x[d]=u[d];return x[n]=s(b),k(e,this,x)}}},5639:(D,I,o)=>{var k=o(1957),P=typeof self=="object"&&self&&self.Object===Object&&self,e=k||P||Function("return this")();D.exports=e},6390:D=>{D.exports=function(I,o){if((o!=="constructor"||typeof I[o]!="function")&&o!="__proto__")return I[o]}},61:(D,I,o)=>{var k=o(6560),P=o(1275)(k);D.exports=P},1275:D=>{var I=Date.now;D.exports=function(o){var k=0,P=0;return function(){var e=I(),n=16-(e-P);if(P=e,n>0){if(++k>=800)return arguments[0]}else k=0;return o.apply(void 0,arguments)}}},7465:(D,I,o)=>{var k=o(8407);D.exports=function(){this.__data__=new k,this.size=0}},3779:D=>{D.exports=function(I){var o=this.__data__,k=o.delete(I);return this.size=o.size,k}},7599:D=>{D.exports=function(I){return this.__data__.get(I)}},4758:D=>{D.exports=function(I){return this.__data__.has(I)}},4309:(D,I,o)=>{var k=o(8407),P=o(7071),e=o(3369);D.exports=function(n,s){var u=this.__data__;if(u instanceof k){var d=u.__data__;if(!P||d.length<199)return d.push([n,s]),this.size=++u.size,this;u=this.__data__=new e(d)}return u.set(n,s),this.size=u.size,this}},5514:(D,I,o)=>{var k=o(4523),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,n=k(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(P,function(d,_,b,x){u.push(b?x.replace(e,"$1"):_||d)}),u});D.exports=n},327:(D,I,o)=>{var k=o(3448);D.exports=function(P){if(typeof P=="string"||k(P))return P;var e=P+"";return e=="0"&&1/P==-1/0?"-0":e}},346:D=>{var I=Function.prototype.toString;D.exports=function(o){if(o!=null){try{return I.call(o)}catch{}try{return o+""}catch{}}return""}},5703:D=>{D.exports=function(I){return function(){return I}}},7813:D=>{D.exports=function(I,o){return I===o||I!=I&&o!=o}},7361:(D,I,o)=>{var k=o(7786);D.exports=function(P,e,n){var s=P==null?void 0:k(P,e);return s===void 0?n:s}},8721:(D,I,o)=>{var k=o(8565),P=o(222);D.exports=function(e,n){return e!=null&&P(e,n,k)}},6557:D=>{D.exports=function(I){return I}},5694:(D,I,o)=>{var k=o(9454),P=o(7005),e=Object.prototype,n=e.hasOwnProperty,s=e.propertyIsEnumerable,u=k(function(){return arguments}())?k:function(d){return P(d)&&n.call(d,"callee")&&!s.call(d,"callee")};D.exports=u},1469:D=>{var I=Array.isArray;D.exports=I},8612:(D,I,o)=>{var k=o(3560),P=o(1780);D.exports=function(e){return e!=null&&P(e.length)&&!k(e)}},9246:(D,I,o)=>{var k=o(8612),P=o(7005);D.exports=function(e){return P(e)&&k(e)}},4144:(D,I,o)=>{D=o.nmd(D);var k=o(5639),P=o(5062),e=I&&!I.nodeType&&I,n=e&&D&&!D.nodeType&&D,s=n&&n.exports===e?k.Buffer:void 0,u=(s?s.isBuffer:void 0)||P;D.exports=u},3560:(D,I,o)=>{var k=o(4239),P=o(3218);D.exports=function(e){if(!P(e))return!1;var n=k(e);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"}},1780:D=>{D.exports=function(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=9007199254740991}},3218:D=>{D.exports=function(I){var o=typeof I;return I!=null&&(o=="object"||o=="function")}},7005:D=>{D.exports=function(I){return I!=null&&typeof I=="object"}},8630:(D,I,o)=>{var k=o(4239),P=o(5924),e=o(7005),n=Function.prototype,s=Object.prototype,u=n.toString,d=s.hasOwnProperty,_=u.call(Object);D.exports=function(b){if(!e(b)||k(b)!="[object Object]")return!1;var x=P(b);if(x===null)return!0;var A=d.call(x,"constructor")&&x.constructor;return typeof A=="function"&&A instanceof A&&u.call(A)==_}},3448:(D,I,o)=>{var k=o(4239),P=o(7005);D.exports=function(e){return typeof e=="symbol"||P(e)&&k(e)=="[object Symbol]"}},6719:(D,I,o)=>{var k=o(8749),P=o(1717),e=o(1167),n=e&&e.isTypedArray,s=n?P(n):k;D.exports=s},1704:(D,I,o)=>{var k=o(4636),P=o(313),e=o(8612);D.exports=function(n){return e(n)?k(n,!0):P(n)}},8306:(D,I,o)=>{var k=o(3369);function P(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var s=function(){var u=arguments,d=n?n.apply(this,u):u[0],_=s.cache;if(_.has(d))return _.get(d);var b=e.apply(this,u);return s.cache=_.set(d,b)||_,b};return s.cache=new(P.Cache||k),s}P.Cache=k,D.exports=P},2492:(D,I,o)=>{var k=o(2980),P=o(1463)(function(e,n,s){k(e,n,s)});D.exports=P},5062:D=>{D.exports=function(){return!1}},9881:(D,I,o)=>{var k=o(8363),P=o(1704);D.exports=function(e){return k(e,P(e))}},9833:(D,I,o)=>{var k=o(531);D.exports=function(P){return P==null?"":k(P)}},2676:function(D){D.exports=function(){function I(Q,C){if(!(Q instanceof C))throw new TypeError("Cannot call a class as a function")}function o(Q,C){for(var O=0;O<C.length;O++){var Z=C[O];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(Q,Z.key,Z)}}function k(Q,C,O){return C&&o(Q.prototype,C),O&&o(Q,O),Q}var P=function(){function Q(C,O){this.next=null,this.key=C,this.data=O,this.left=null,this.right=null}return Q}();function e(Q,C){return Q>C?1:Q<C?-1:0}function n(Q,C,O){for(var Z=new P(null,null),Y=Z,it=Z;;){var mt=O(Q,C.key);if(mt<0){if(C.left===null)break;if(O(Q,C.left.key)<0){var _t=C.left;if(C.left=_t.right,_t.right=C,(C=_t).left===null)break}it.left=C,it=C,C=C.left}else{if(!(mt>0)||C.right===null||O(Q,C.right.key)>0&&(_t=C.right,C.right=_t.left,_t.left=C,(C=_t).right===null))break;Y.right=C,Y=C,C=C.right}}return Y.right=C.left,it.left=C.right,C.left=Z.right,C.right=Z.left,C}function s(Q,C,O,Z){var Y=new P(Q,C);if(O===null)return Y.left=Y.right=null,Y;var it=Z(Q,(O=n(Q,O,Z)).key);return it<0?(Y.left=O.left,Y.right=O,O.left=null):it>=0&&(Y.right=O.right,Y.left=O,O.right=null),Y}function u(Q,C,O){var Z=null,Y=null;if(C){var it=O((C=n(Q,C,O)).key,Q);it===0?(Z=C.left,Y=C.right):it<0?(Y=C.right,C.right=null,Z=C):(Z=C.left,C.left=null,Y=C)}return{left:Z,right:Y}}function d(Q,C,O){return C===null?Q:(Q===null||((C=n(Q.key,C,O)).left=Q),C)}function _(Q,C,O,Z,Y){if(Q){Z(C+(O?"âââ ":"âââ ")+Y(Q)+`
`);var it=C+(O?"    ":"â   ");Q.left&&_(Q.left,it,!1,Z,Y),Q.right&&_(Q.right,it,!0,Z,Y)}}var b=function(){function Q(C){C===void 0&&(C=e),this._root=null,this._size=0,this._comparator=C}return Q.prototype.insert=function(C,O){return this._size++,this._root=s(C,O,this._root,this._comparator)},Q.prototype.add=function(C,O){var Z=new P(C,O);this._root===null&&(Z.left=Z.right=null,this._size++,this._root=Z);var Y=this._comparator,it=n(C,this._root,Y),mt=Y(C,it.key);return mt===0?this._root=it:(mt<0?(Z.left=it.left,Z.right=it,it.left=null):mt>0&&(Z.right=it.right,Z.left=it,it.right=null),this._size++,this._root=Z),this._root},Q.prototype.remove=function(C){this._root=this._remove(C,this._root,this._comparator)},Q.prototype._remove=function(C,O,Z){var Y;return O===null?null:Z(C,(O=n(C,O,Z)).key)===0?(O.left===null?Y=O.right:(Y=n(C,O.left,Z)).right=O.right,this._size--,Y):O},Q.prototype.pop=function(){var C=this._root;if(C){for(;C.left;)C=C.left;return this._root=n(C.key,this._root,this._comparator),this._root=this._remove(C.key,this._root,this._comparator),{key:C.key,data:C.data}}return null},Q.prototype.findStatic=function(C){for(var O=this._root,Z=this._comparator;O;){var Y=Z(C,O.key);if(Y===0)return O;O=Y<0?O.left:O.right}return null},Q.prototype.find=function(C){return this._root&&(this._root=n(C,this._root,this._comparator),this._comparator(C,this._root.key)!==0)?null:this._root},Q.prototype.contains=function(C){for(var O=this._root,Z=this._comparator;O;){var Y=Z(C,O.key);if(Y===0)return!0;O=Y<0?O.left:O.right}return!1},Q.prototype.forEach=function(C,O){for(var Z=this._root,Y=[],it=!1;!it;)Z!==null?(Y.push(Z),Z=Z.left):Y.length!==0?(Z=Y.pop(),C.call(O,Z),Z=Z.right):it=!0;return this},Q.prototype.range=function(C,O,Z,Y){for(var it=[],mt=this._comparator,_t=this._root;it.length!==0||_t;)if(_t)it.push(_t),_t=_t.left;else{if(mt((_t=it.pop()).key,O)>0)break;if(mt(_t.key,C)>=0&&Z.call(Y,_t))return this;_t=_t.right}return this},Q.prototype.keys=function(){var C=[];return this.forEach(function(O){var Z=O.key;return C.push(Z)}),C},Q.prototype.values=function(){var C=[];return this.forEach(function(O){var Z=O.data;return C.push(Z)}),C},Q.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Q.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Q.prototype.minNode=function(C){if(C===void 0&&(C=this._root),C)for(;C.left;)C=C.left;return C},Q.prototype.maxNode=function(C){if(C===void 0&&(C=this._root),C)for(;C.right;)C=C.right;return C},Q.prototype.at=function(C){for(var O=this._root,Z=!1,Y=0,it=[];!Z;)if(O)it.push(O),O=O.left;else if(it.length>0){if(O=it.pop(),Y===C)return O;Y++,O=O.right}else Z=!0;return null},Q.prototype.next=function(C){var O=this._root,Z=null;if(C.right){for(Z=C.right;Z.left;)Z=Z.left;return Z}for(var Y=this._comparator;O;){var it=Y(C.key,O.key);if(it===0)break;it<0?(Z=O,O=O.left):O=O.right}return Z},Q.prototype.prev=function(C){var O=this._root,Z=null;if(C.left!==null){for(Z=C.left;Z.right;)Z=Z.right;return Z}for(var Y=this._comparator;O;){var it=Y(C.key,O.key);if(it===0)break;it<0?O=O.left:(Z=O,O=O.right)}return Z},Q.prototype.clear=function(){return this._root=null,this._size=0,this},Q.prototype.toList=function(){return S(this._root)},Q.prototype.load=function(C,O,Z){O===void 0&&(O=[]),Z===void 0&&(Z=!1);var Y=C.length,it=this._comparator;if(Z&&z(C,O,0,Y-1,it),this._root===null)this._root=x(C,O,0,Y),this._size=Y;else{var mt=H(this.toList(),A(C,O),it);Y=this._size+Y,this._root=F({head:mt},0,Y)}return this},Q.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(Q.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Q.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Q.prototype.toString=function(C){C===void 0&&(C=function(Z){return String(Z.key)});var O=[];return _(this._root,"",!0,function(Z){return O.push(Z)},C),O.join("")},Q.prototype.update=function(C,O,Z){var Y=this._comparator,it=u(C,this._root,Y),mt=it.left,_t=it.right;Y(C,O)<0?_t=s(O,Z,_t,Y):mt=s(O,Z,mt,Y),this._root=d(mt,_t,Y)},Q.prototype.split=function(C){return u(C,this._root,this._comparator)},Q}();function x(Q,C,O,Z){var Y=Z-O;if(Y>0){var it=O+Math.floor(Y/2),mt=Q[it],_t=C[it],It=new P(mt,_t);return It.left=x(Q,C,O,it),It.right=x(Q,C,it+1,Z),It}return null}function A(Q,C){for(var O=new P(null,null),Z=O,Y=0;Y<Q.length;Y++)Z=Z.next=new P(Q[Y],C[Y]);return Z.next=null,O.next}function S(Q){for(var C=Q,O=[],Z=!1,Y=new P(null,null),it=Y;!Z;)C?(O.push(C),C=C.left):O.length>0?C=(C=it=it.next=O.pop()).right:Z=!0;return it.next=null,Y.next}function F(Q,C,O){var Z=O-C;if(Z>0){var Y=C+Math.floor(Z/2),it=F(Q,C,Y),mt=Q.head;return mt.left=it,Q.head=Q.head.next,mt.right=F(Q,Y+1,O),mt}return null}function H(Q,C,O){for(var Z=new P(null,null),Y=Z,it=Q,mt=C;it!==null&&mt!==null;)O(it.key,mt.key)<0?(Y.next=it,it=it.next):(Y.next=mt,mt=mt.next),Y=Y.next;return it!==null?Y.next=it:mt!==null&&(Y.next=mt),Z.next}function z(Q,C,O,Z,Y){if(!(O>=Z)){for(var it=Q[O+Z>>1],mt=O-1,_t=Z+1;;){do mt++;while(Y(Q[mt],it)<0);do _t--;while(Y(Q[_t],it)>0);if(mt>=_t)break;var It=Q[mt];Q[mt]=Q[_t],Q[_t]=It,It=C[mt],C[mt]=C[_t],C[_t]=It}z(Q,C,O,_t,Y),z(Q,C,_t+1,Z,Y)}}var U=function(Q,C){return Q.ll.x<=C.x&&C.x<=Q.ur.x&&Q.ll.y<=C.y&&C.y<=Q.ur.y},p=function(Q,C){if(C.ur.x<Q.ll.x||Q.ur.x<C.ll.x||C.ur.y<Q.ll.y||Q.ur.y<C.ll.y)return null;var O=Q.ll.x<C.ll.x?C.ll.x:Q.ll.x,Z=Q.ur.x<C.ur.x?Q.ur.x:C.ur.x;return{ll:{x:O,y:Q.ll.y<C.ll.y?C.ll.y:Q.ll.y},ur:{x:Z,y:Q.ur.y<C.ur.y?Q.ur.y:C.ur.y}}},ft=Number.EPSILON;ft===void 0&&(ft=Math.pow(2,-52));var xt=ft*ft,wt=function(Q,C){if(-ft<Q&&Q<ft&&-ft<C&&C<ft)return 0;var O=Q-C;return O*O<xt*Q*C?0:Q<C?-1:1},St=function(){function Q(){I(this,Q),this.reset()}return k(Q,[{key:"reset",value:function(){this.xRounder=new Bt,this.yRounder=new Bt}},{key:"round",value:function(C,O){return{x:this.xRounder.round(C),y:this.yRounder.round(O)}}}]),Q}(),Bt=function(){function Q(){I(this,Q),this.tree=new b,this.round(0)}return k(Q,[{key:"round",value:function(C){var O=this.tree.add(C),Z=this.tree.prev(O);if(Z!==null&&wt(O.key,Z.key)===0)return this.tree.remove(C),Z.key;var Y=this.tree.next(O);return Y!==null&&wt(O.key,Y.key)===0?(this.tree.remove(C),Y.key):C}}]),Q}(),Tt=new St,Nt=function(Q,C){return Q.x*C.y-Q.y*C.x},lt=function(Q,C){return Q.x*C.x+Q.y*C.y},Mt=function(Q,C,O){var Z={x:C.x-Q.x,y:C.y-Q.y},Y={x:O.x-Q.x,y:O.y-Q.y},it=Nt(Z,Y);return wt(it,0)},At=function(Q){return Math.sqrt(lt(Q,Q))},Qt=function(Q,C,O){var Z={x:C.x-Q.x,y:C.y-Q.y},Y={x:O.x-Q.x,y:O.y-Q.y};return Nt(Y,Z)/At(Y)/At(Z)},Pt=function(Q,C,O){var Z={x:C.x-Q.x,y:C.y-Q.y},Y={x:O.x-Q.x,y:O.y-Q.y};return lt(Y,Z)/At(Y)/At(Z)},te=function(Q,C,O){return C.y===0?null:{x:Q.x+C.x/C.y*(O-Q.y),y:O}},Gt=function(Q,C,O){return C.x===0?null:{x:O,y:Q.y+C.y/C.x*(O-Q.x)}},Ot=function(Q,C,O,Z){if(C.x===0)return Gt(O,Z,Q.x);if(Z.x===0)return Gt(Q,C,O.x);if(C.y===0)return te(O,Z,Q.y);if(Z.y===0)return te(Q,C,O.y);var Y=Nt(C,Z);if(Y==0)return null;var it={x:O.x-Q.x,y:O.y-Q.y},mt=Nt(it,C)/Y,_t=Nt(it,Z)/Y;return{x:(Q.x+_t*C.x+(O.x+mt*Z.x))/2,y:(Q.y+_t*C.y+(O.y+mt*Z.y))/2}},Kt=function(){function Q(C,O){I(this,Q),C.events===void 0?C.events=[this]:C.events.push(this),this.point=C,this.isLeft=O}return k(Q,null,[{key:"compare",value:function(C,O){var Z=Q.comparePoints(C.point,O.point);return Z!==0?Z:(C.point!==O.point&&C.link(O),C.isLeft!==O.isLeft?C.isLeft?1:-1:Ft.compare(C.segment,O.segment))}},{key:"comparePoints",value:function(C,O){return C.x<O.x?-1:C.x>O.x?1:C.y<O.y?-1:C.y>O.y?1:0}}]),k(Q,[{key:"link",value:function(C){if(C.point===this.point)throw new Error("Tried to link already linked events");for(var O=C.point.events,Z=0,Y=O.length;Z<Y;Z++){var it=O[Z];this.point.events.push(it),it.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var C=this.point.events.length,O=0;O<C;O++){var Z=this.point.events[O];if(Z.segment.consumedBy===void 0)for(var Y=O+1;Y<C;Y++){var it=this.point.events[Y];it.consumedBy===void 0&&Z.otherSE.point.events===it.otherSE.point.events&&Z.segment.consume(it.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var C=[],O=0,Z=this.point.events.length;O<Z;O++){var Y=this.point.events[O];Y!==this&&!Y.segment.ringOut&&Y.segment.isInResult()&&C.push(Y)}return C}},{key:"getLeftmostComparator",value:function(C){var O=this,Z=new Map,Y=function(it){var mt=it.otherSE;Z.set(it,{sine:Qt(O.point,C.point,mt.point),cosine:Pt(O.point,C.point,mt.point)})};return function(it,mt){Z.has(it)||Y(it),Z.has(mt)||Y(mt);var _t=Z.get(it),It=_t.sine,Yt=_t.cosine,ue=Z.get(mt),_e=ue.sine,ge=ue.cosine;return It>=0&&_e>=0?Yt<ge?1:Yt>ge?-1:0:It<0&&_e<0?Yt<ge?-1:Yt>ge?1:0:_e<It?-1:_e>It?1:0}}}]),Q}(),dt=0,Ft=function(){function Q(C,O,Z,Y){I(this,Q),this.id=++dt,this.leftSE=C,C.segment=this,C.otherSE=O,this.rightSE=O,O.segment=this,O.otherSE=C,this.rings=Z,this.windings=Y}return k(Q,null,[{key:"compare",value:function(C,O){var Z=C.leftSE.point.x,Y=O.leftSE.point.x,it=C.rightSE.point.x,mt=O.rightSE.point.x;if(mt<Z)return 1;if(it<Y)return-1;var _t=C.leftSE.point.y,It=O.leftSE.point.y,Yt=C.rightSE.point.y,ue=O.rightSE.point.y;if(Z<Y){if(It<_t&&It<Yt)return 1;if(It>_t&&It>Yt)return-1;var _e=C.comparePoint(O.leftSE.point);if(_e<0)return 1;if(_e>0)return-1;var ge=O.comparePoint(C.rightSE.point);return ge!==0?ge:-1}if(Z>Y){if(_t<It&&_t<ue)return-1;if(_t>It&&_t>ue)return 1;var ke=O.comparePoint(C.leftSE.point);if(ke!==0)return ke;var se=C.comparePoint(O.rightSE.point);return se<0?1:se>0?-1:1}if(_t<It)return-1;if(_t>It)return 1;if(it<mt){var De=O.comparePoint(C.rightSE.point);if(De!==0)return De}if(it>mt){var ze=C.comparePoint(O.rightSE.point);if(ze<0)return 1;if(ze>0)return-1}if(it!==mt){var Pe=Yt-_t,Le=it-Z,Xe=ue-It,ni=mt-Y;if(Pe>Le&&Xe<ni)return 1;if(Pe<Le&&Xe>ni)return-1}return it>mt?1:it<mt||Yt<ue?-1:Yt>ue?1:C.id<O.id?-1:C.id>O.id?1:0}}]),k(Q,[{key:"replaceRightSE",value:function(C){this.rightSE=C,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var C=this.leftSE.point.y,O=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:C<O?C:O},ur:{x:this.rightSE.point.x,y:C>O?C:O}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(C){return C.x===this.leftSE.point.x&&C.y===this.leftSE.point.y||C.x===this.rightSE.point.x&&C.y===this.rightSE.point.y}},{key:"comparePoint",value:function(C){if(this.isAnEndpoint(C))return 0;var O=this.leftSE.point,Z=this.rightSE.point,Y=this.vector();if(O.x===Z.x)return C.x===O.x?0:C.x<O.x?1:-1;var it=(C.y-O.y)/Y.y,mt=O.x+it*Y.x;if(C.x===mt)return 0;var _t=(C.x-O.x)/Y.x,It=O.y+_t*Y.y;return C.y===It?0:C.y<It?-1:1}},{key:"getIntersection",value:function(C){var O=this.bbox(),Z=C.bbox(),Y=p(O,Z);if(Y===null)return null;var it=this.leftSE.point,mt=this.rightSE.point,_t=C.leftSE.point,It=C.rightSE.point,Yt=U(O,_t)&&this.comparePoint(_t)===0,ue=U(Z,it)&&C.comparePoint(it)===0,_e=U(O,It)&&this.comparePoint(It)===0,ge=U(Z,mt)&&C.comparePoint(mt)===0;if(ue&&Yt)return ge&&!_e?mt:!ge&&_e?It:null;if(ue)return _e&&it.x===It.x&&it.y===It.y?null:it;if(Yt)return ge&&mt.x===_t.x&&mt.y===_t.y?null:_t;if(ge&&_e)return null;if(ge)return mt;if(_e)return It;var ke=Ot(it,this.vector(),_t,C.vector());return ke===null?null:U(Y,ke)?Tt.round(ke.x,ke.y):null}},{key:"split",value:function(C){var O=[],Z=C.events!==void 0,Y=new Kt(C,!0),it=new Kt(C,!1),mt=this.rightSE;this.replaceRightSE(it),O.push(it),O.push(Y);var _t=new Q(Y,mt,this.rings.slice(),this.windings.slice());return Kt.comparePoints(_t.leftSE.point,_t.rightSE.point)>0&&_t.swapEvents(),Kt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Z&&(Y.checkForConsuming(),it.checkForConsuming()),O}},{key:"swapEvents",value:function(){var C=this.rightSE;this.rightSE=this.leftSE,this.leftSE=C,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var O=0,Z=this.windings.length;O<Z;O++)this.windings[O]*=-1}},{key:"consume",value:function(C){for(var O=this,Z=C;O.consumedBy;)O=O.consumedBy;for(;Z.consumedBy;)Z=Z.consumedBy;var Y=Q.compare(O,Z);if(Y!==0){if(Y>0){var it=O;O=Z,Z=it}if(O.prev===Z){var mt=O;O=Z,Z=mt}for(var _t=0,It=Z.rings.length;_t<It;_t++){var Yt=Z.rings[_t],ue=Z.windings[_t],_e=O.rings.indexOf(Yt);_e===-1?(O.rings.push(Yt),O.windings.push(ue)):O.windings[_e]+=ue}Z.rings=null,Z.windings=null,Z.consumedBy=O,Z.leftSE.consumedBy=O.leftSE,Z.rightSE.consumedBy=O.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var C=this.prev.consumedBy||this.prev;this._beforeState=C.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var C=this.beforeState();this._afterState={rings:C.rings.slice(0),windings:C.windings.slice(0),multiPolys:[]};for(var O=this._afterState.rings,Z=this._afterState.windings,Y=this._afterState.multiPolys,it=0,mt=this.rings.length;it<mt;it++){var _t=this.rings[it],It=this.windings[it],Yt=O.indexOf(_t);Yt===-1?(O.push(_t),Z.push(It)):Z[Yt]+=It}for(var ue=[],_e=[],ge=0,ke=O.length;ge<ke;ge++)if(Z[ge]!==0){var se=O[ge],De=se.poly;if(_e.indexOf(De)===-1)if(se.isExterior)ue.push(De);else{_e.indexOf(De)===-1&&_e.push(De);var ze=ue.indexOf(se.poly);ze!==-1&&ue.splice(ze,1)}}for(var Pe=0,Le=ue.length;Pe<Le;Pe++){var Xe=ue[Pe].multiPoly;Y.indexOf(Xe)===-1&&Y.push(Xe)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var C=this.beforeState().multiPolys,O=this.afterState().multiPolys;switch(Ve.type){case"union":var Z=C.length===0,Y=O.length===0;this._isInResult=Z!==Y;break;case"intersection":var it,mt;C.length<O.length?(it=C.length,mt=O.length):(it=O.length,mt=C.length),this._isInResult=mt===Ve.numMultiPolys&&it<mt;break;case"xor":var _t=Math.abs(C.length-O.length);this._isInResult=_t%2==1;break;case"difference":var It=function(Yt){return Yt.length===1&&Yt[0].isSubject};this._isInResult=It(C)!==It(O);break;default:throw new Error("Unrecognized operation type found ".concat(Ve.type))}return this._isInResult}}],[{key:"fromRing",value:function(C,O,Z){var Y,it,mt,_t=Kt.comparePoints(C,O);if(_t<0)Y=C,it=O,mt=1;else{if(!(_t>0))throw new Error("Tried to create degenerate segment at [".concat(C.x,", ").concat(C.y,"]"));Y=O,it=C,mt=-1}return new Q(new Kt(Y,!0),new Kt(it,!1),[Z],[mt])}}]),Q}(),Zt=function(){function Q(C,O,Z){if(I(this,Q),!Array.isArray(C)||C.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=O,this.isExterior=Z,this.segments=[],typeof C[0][0]!="number"||typeof C[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Y=Tt.round(C[0][0],C[0][1]);this.bbox={ll:{x:Y.x,y:Y.y},ur:{x:Y.x,y:Y.y}};for(var it=Y,mt=1,_t=C.length;mt<_t;mt++){if(typeof C[mt][0]!="number"||typeof C[mt][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var It=Tt.round(C[mt][0],C[mt][1]);It.x===it.x&&It.y===it.y||(this.segments.push(Ft.fromRing(it,It,this)),It.x<this.bbox.ll.x&&(this.bbox.ll.x=It.x),It.y<this.bbox.ll.y&&(this.bbox.ll.y=It.y),It.x>this.bbox.ur.x&&(this.bbox.ur.x=It.x),It.y>this.bbox.ur.y&&(this.bbox.ur.y=It.y),it=It)}Y.x===it.x&&Y.y===it.y||this.segments.push(Ft.fromRing(it,Y,this))}return k(Q,[{key:"getSweepEvents",value:function(){for(var C=[],O=0,Z=this.segments.length;O<Z;O++){var Y=this.segments[O];C.push(Y.leftSE),C.push(Y.rightSE)}return C}}]),Q}(),jt=function(){function Q(C,O){if(I(this,Q),!Array.isArray(C))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Zt(C[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var Z=1,Y=C.length;Z<Y;Z++){var it=new Zt(C[Z],this,!1);it.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=it.bbox.ll.x),it.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=it.bbox.ll.y),it.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=it.bbox.ur.x),it.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=it.bbox.ur.y),this.interiorRings.push(it)}this.multiPoly=O}return k(Q,[{key:"getSweepEvents",value:function(){for(var C=this.exteriorRing.getSweepEvents(),O=0,Z=this.interiorRings.length;O<Z;O++)for(var Y=this.interiorRings[O].getSweepEvents(),it=0,mt=Y.length;it<mt;it++)C.push(Y[it]);return C}}]),Q}(),de=function(){function Q(C,O){if(I(this,Q),!Array.isArray(C))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof C[0][0][0]=="number"&&(C=[C])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var Z=0,Y=C.length;Z<Y;Z++){var it=new jt(C[Z],this);it.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=it.bbox.ll.x),it.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=it.bbox.ll.y),it.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=it.bbox.ur.x),it.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=it.bbox.ur.y),this.polys.push(it)}this.isSubject=O}return k(Q,[{key:"getSweepEvents",value:function(){for(var C=[],O=0,Z=this.polys.length;O<Z;O++)for(var Y=this.polys[O].getSweepEvents(),it=0,mt=Y.length;it<mt;it++)C.push(Y[it]);return C}}]),Q}(),oe=function(){function Q(C){I(this,Q),this.events=C;for(var O=0,Z=C.length;O<Z;O++)C[O].segment.ringOut=this;this.poly=null}return k(Q,null,[{key:"factory",value:function(C){for(var O=[],Z=0,Y=C.length;Z<Y;Z++){var it=C[Z];if(it.isInResult()&&!it.ringOut){for(var mt=null,_t=it.leftSE,It=it.rightSE,Yt=[_t],ue=_t.point,_e=[];mt=_t,_t=It,Yt.push(_t),_t.point!==ue;)for(;;){var ge=_t.getAvailableLinkedEvents();if(ge.length===0){var ke=Yt[0].point,se=Yt[Yt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(ke.x,",")+" ".concat(ke.y,"]. Last matching segment found ends at")+" [".concat(se.x,", ").concat(se.y,"]."))}if(ge.length===1){It=ge[0].otherSE;break}for(var De=null,ze=0,Pe=_e.length;ze<Pe;ze++)if(_e[ze].point===_t.point){De=ze;break}if(De===null){_e.push({index:Yt.length,point:_t.point});var Le=_t.getLeftmostComparator(mt);It=ge.sort(Le)[0].otherSE;break}var Xe=_e.splice(De)[0],ni=Yt.splice(Xe.index);ni.unshift(ni[0].otherSE),O.push(new Q(ni.reverse()))}O.push(new Q(Yt))}}return O}}]),k(Q,[{key:"getGeom",value:function(){for(var C=this.events[0].point,O=[C],Z=1,Y=this.events.length-1;Z<Y;Z++){var it=this.events[Z].point,mt=this.events[Z+1].point;Mt(it,C,mt)!==0&&(O.push(it),C=it)}if(O.length===1)return null;var _t=O[0],It=O[1];Mt(_t,C,It)===0&&O.shift(),O.push(O[0]);for(var Yt=this.isExteriorRing()?1:-1,ue=this.isExteriorRing()?0:O.length-1,_e=this.isExteriorRing()?O.length:-1,ge=[],ke=ue;ke!=_e;ke+=Yt)ge.push([O[ke].x,O[ke].y]);return ge}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var C=this.enclosingRing();this._isExteriorRing=!C||!C.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var C=this.events[0],O=1,Z=this.events.length;O<Z;O++){var Y=this.events[O];Kt.compare(C,Y)>0&&(C=Y)}for(var it=C.segment.prevInResult(),mt=it?it.prevInResult():null;;){if(!it)return null;if(!mt)return it.ringOut;if(mt.ringOut!==it.ringOut)return mt.ringOut.enclosingRing()!==it.ringOut?it.ringOut:it.ringOut.enclosingRing();it=mt.prevInResult(),mt=it?it.prevInResult():null}}}]),Q}(),Ie=function(){function Q(C){I(this,Q),this.exteriorRing=C,C.poly=this,this.interiorRings=[]}return k(Q,[{key:"addInterior",value:function(C){this.interiorRings.push(C),C.poly=this}},{key:"getGeom",value:function(){var C=[this.exteriorRing.getGeom()];if(C[0]===null)return null;for(var O=0,Z=this.interiorRings.length;O<Z;O++){var Y=this.interiorRings[O].getGeom();Y!==null&&C.push(Y)}return C}}]),Q}(),qe=function(){function Q(C){I(this,Q),this.rings=C,this.polys=this._composePolys(C)}return k(Q,[{key:"getGeom",value:function(){for(var C=[],O=0,Z=this.polys.length;O<Z;O++){var Y=this.polys[O].getGeom();Y!==null&&C.push(Y)}return C}},{key:"_composePolys",value:function(C){for(var O=[],Z=0,Y=C.length;Z<Y;Z++){var it=C[Z];if(!it.poly)if(it.isExteriorRing())O.push(new Ie(it));else{var mt=it.enclosingRing();mt.poly||O.push(new Ie(mt)),mt.poly.addInterior(it)}}return O}}]),Q}(),Ri=function(){function Q(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.compare;I(this,Q),this.queue=C,this.tree=new b(O),this.segments=[]}return k(Q,[{key:"process",value:function(C){var O=C.segment,Z=[];if(C.consumedBy)return C.isLeft?this.queue.remove(C.otherSE):this.tree.remove(O),Z;var Y=C.isLeft?this.tree.insert(O):this.tree.find(O);if(!Y)throw new Error("Unable to find segment #".concat(O.id," ")+"[".concat(O.leftSE.point.x,", ").concat(O.leftSE.point.y,"] -> ")+"[".concat(O.rightSE.point.x,", ").concat(O.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var it=Y,mt=Y,_t=void 0,It=void 0;_t===void 0;)(it=this.tree.prev(it))===null?_t=null:it.key.consumedBy===void 0&&(_t=it.key);for(;It===void 0;)(mt=this.tree.next(mt))===null?It=null:mt.key.consumedBy===void 0&&(It=mt.key);if(C.isLeft){var Yt=null;if(_t){var ue=_t.getIntersection(O);if(ue!==null&&(O.isAnEndpoint(ue)||(Yt=ue),!_t.isAnEndpoint(ue)))for(var _e=this._splitSafely(_t,ue),ge=0,ke=_e.length;ge<ke;ge++)Z.push(_e[ge])}var se=null;if(It){var De=It.getIntersection(O);if(De!==null&&(O.isAnEndpoint(De)||(se=De),!It.isAnEndpoint(De)))for(var ze=this._splitSafely(It,De),Pe=0,Le=ze.length;Pe<Le;Pe++)Z.push(ze[Pe])}if(Yt!==null||se!==null){var Xe=null;Xe=Yt===null?se:se===null||Kt.comparePoints(Yt,se)<=0?Yt:se,this.queue.remove(O.rightSE),Z.push(O.rightSE);for(var ni=O.split(Xe),vi=0,fi=ni.length;vi<fi;vi++)Z.push(ni[vi])}Z.length>0?(this.tree.remove(O),Z.push(C)):(this.segments.push(O),O.prev=_t)}else{if(_t&&It){var Ge=_t.getIntersection(It);if(Ge!==null){if(!_t.isAnEndpoint(Ge))for(var Qe=this._splitSafely(_t,Ge),Pi=0,Ni=Qe.length;Pi<Ni;Pi++)Z.push(Qe[Pi]);if(!It.isAnEndpoint(Ge))for(var Je=this._splitSafely(It,Ge),Ue=0,Si=Je.length;Ue<Si;Ue++)Z.push(Je[Ue])}}this.tree.remove(O)}return Z}},{key:"_splitSafely",value:function(C,O){this.tree.remove(C);var Z=C.rightSE;this.queue.remove(Z);var Y=C.split(O);return Y.push(Z),C.consumedBy===void 0&&this.tree.insert(C),Y}}]),Q}(),xi=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ii=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Ve=new(function(){function Q(){I(this,Q)}return k(Q,[{key:"run",value:function(C,O,Z){Ve.type=C,Tt.reset();for(var Y=[new de(O,!0)],it=0,mt=Z.length;it<mt;it++)Y.push(new de(Z[it],!1));if(Ve.numMultiPolys=Y.length,Ve.type==="difference")for(var _t=Y[0],It=1;It<Y.length;)p(Y[It].bbox,_t.bbox)!==null?It++:Y.splice(It,1);if(Ve.type==="intersection"){for(var Yt=0,ue=Y.length;Yt<ue;Yt++)for(var _e=Y[Yt],ge=Yt+1,ke=Y.length;ge<ke;ge++)if(p(_e.bbox,Y[ge].bbox)===null)return[]}for(var se=new b(Kt.compare),De=0,ze=Y.length;De<ze;De++)for(var Pe=Y[De].getSweepEvents(),Le=0,Xe=Pe.length;Le<Xe;Le++)if(se.insert(Pe[Le]),se.size>xi)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var ni=new Ri(se),vi=se.size,fi=se.pop();fi;){var Ge=fi.key;if(se.size===vi){var Qe=Ge.segment;throw new Error("Unable to pop() ".concat(Ge.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ge.point.x,", ").concat(Ge.point.y,"] from segment #").concat(Qe.id," ")+"[".concat(Qe.leftSE.point.x,", ").concat(Qe.leftSE.point.y,"] -> ")+"[".concat(Qe.rightSE.point.x,", ").concat(Qe.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(se.size>xi)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(ni.segments.length>ii)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Pi=ni.process(Ge),Ni=0,Je=Pi.length;Ni<Je;Ni++){var Ue=Pi[Ni];Ue.consumedBy===void 0&&se.insert(Ue)}vi=se.size,fi=se.pop()}Tt.reset();var Si=oe.factory(ni.segments);return new qe(Si).getGeom()}}]),Q}()),Ti=function(Q){for(var C=arguments.length,O=new Array(C>1?C-1:0),Z=1;Z<C;Z++)O[Z-1]=arguments[Z];return Ve.run("union",Q,O)},Xt=function(Q){for(var C=arguments.length,O=new Array(C>1?C-1:0),Z=1;Z<C;Z++)O[Z-1]=arguments[Z];return Ve.run("intersection",Q,O)},We=function(Q){for(var C=arguments.length,O=new Array(C>1?C-1:0),Z=1;Z<C;Z++)O[Z-1]=arguments[Z];return Ve.run("xor",Q,O)},zi=function(Q){for(var C=arguments.length,O=new Array(C>1?C-1:0),Z=1;Z<C;Z++)O[Z-1]=arguments[Z];return Ve.run("difference",Q,O)};return{union:Ti,intersection:Xt,xor:We,difference:zi}}()},2582:function(D){D.exports=function(){function I(z,U,p,ft,xt){(function wt(St,Bt,Tt,Nt,lt){for(;Nt>Tt;){if(Nt-Tt>600){var Mt=Nt-Tt+1,At=Bt-Tt+1,Qt=Math.log(Mt),Pt=.5*Math.exp(2*Qt/3),te=.5*Math.sqrt(Qt*Pt*(Mt-Pt)/Mt)*(At-Mt/2<0?-1:1);wt(St,Bt,Math.max(Tt,Math.floor(Bt-At*Pt/Mt+te)),Math.min(Nt,Math.floor(Bt+(Mt-At)*Pt/Mt+te)),lt)}var Gt=St[Bt],Ot=Tt,Kt=Nt;for(o(St,Tt,Bt),lt(St[Nt],Gt)>0&&o(St,Tt,Nt);Ot<Kt;){for(o(St,Ot,Kt),Ot++,Kt--;lt(St[Ot],Gt)<0;)Ot++;for(;lt(St[Kt],Gt)>0;)Kt--}lt(St[Tt],Gt)===0?o(St,Tt,Kt):o(St,++Kt,Nt),Kt<=Bt&&(Tt=Kt+1),Bt<=Kt&&(Nt=Kt-1)}})(z,U,p||0,ft||z.length-1,xt||k)}function o(z,U,p){var ft=z[U];z[U]=z[p],z[p]=ft}function k(z,U){return z<U?-1:z>U?1:0}var P=function(z){z===void 0&&(z=9),this._maxEntries=Math.max(4,z),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(z,U,p){if(!p)return U.indexOf(z);for(var ft=0;ft<U.length;ft++)if(p(z,U[ft]))return ft;return-1}function n(z,U){s(z,0,z.children.length,U,z)}function s(z,U,p,ft,xt){xt||(xt=F(null)),xt.minX=1/0,xt.minY=1/0,xt.maxX=-1/0,xt.maxY=-1/0;for(var wt=U;wt<p;wt++){var St=z.children[wt];u(xt,z.leaf?ft(St):St)}return xt}function u(z,U){return z.minX=Math.min(z.minX,U.minX),z.minY=Math.min(z.minY,U.minY),z.maxX=Math.max(z.maxX,U.maxX),z.maxY=Math.max(z.maxY,U.maxY),z}function d(z,U){return z.minX-U.minX}function _(z,U){return z.minY-U.minY}function b(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function x(z){return z.maxX-z.minX+(z.maxY-z.minY)}function A(z,U){return z.minX<=U.minX&&z.minY<=U.minY&&U.maxX<=z.maxX&&U.maxY<=z.maxY}function S(z,U){return U.minX<=z.maxX&&U.minY<=z.maxY&&U.maxX>=z.minX&&U.maxY>=z.minY}function F(z){return{children:z,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function H(z,U,p,ft,xt){for(var wt=[U,p];wt.length;)if(!((p=wt.pop())-(U=wt.pop())<=ft)){var St=U+Math.ceil((p-U)/ft/2)*ft;I(z,St,U,p,xt),wt.push(U,St,St,p)}}return P.prototype.all=function(){return this._all(this.data,[])},P.prototype.search=function(z){var U=this.data,p=[];if(!S(z,U))return p;for(var ft=this.toBBox,xt=[];U;){for(var wt=0;wt<U.children.length;wt++){var St=U.children[wt],Bt=U.leaf?ft(St):St;S(z,Bt)&&(U.leaf?p.push(St):A(z,Bt)?this._all(St,p):xt.push(St))}U=xt.pop()}return p},P.prototype.collides=function(z){var U=this.data;if(!S(z,U))return!1;for(var p=[];U;){for(var ft=0;ft<U.children.length;ft++){var xt=U.children[ft],wt=U.leaf?this.toBBox(xt):xt;if(S(z,wt)){if(U.leaf||A(z,wt))return!0;p.push(xt)}}U=p.pop()}return!1},P.prototype.load=function(z){if(!z||!z.length)return this;if(z.length<this._minEntries){for(var U=0;U<z.length;U++)this.insert(z[U]);return this}var p=this._build(z.slice(),0,z.length-1,0);if(this.data.children.length)if(this.data.height===p.height)this._splitRoot(this.data,p);else{if(this.data.height<p.height){var ft=this.data;this.data=p,p=ft}this._insert(p,this.data.height-p.height-1,!0)}else this.data=p;return this},P.prototype.insert=function(z){return z&&this._insert(z,this.data.height-1),this},P.prototype.clear=function(){return this.data=F([]),this},P.prototype.remove=function(z,U){if(!z)return this;for(var p,ft,xt,wt=this.data,St=this.toBBox(z),Bt=[],Tt=[];wt||Bt.length;){if(wt||(wt=Bt.pop(),ft=Bt[Bt.length-1],p=Tt.pop(),xt=!0),wt.leaf){var Nt=e(z,wt.children,U);if(Nt!==-1)return wt.children.splice(Nt,1),Bt.push(wt),this._condense(Bt),this}xt||wt.leaf||!A(wt,St)?ft?(p++,wt=ft.children[p],xt=!1):wt=null:(Bt.push(wt),Tt.push(p),p=0,ft=wt,wt=wt.children[0])}return this},P.prototype.toBBox=function(z){return z},P.prototype.compareMinX=function(z,U){return z.minX-U.minX},P.prototype.compareMinY=function(z,U){return z.minY-U.minY},P.prototype.toJSON=function(){return this.data},P.prototype.fromJSON=function(z){return this.data=z,this},P.prototype._all=function(z,U){for(var p=[];z;)z.leaf?U.push.apply(U,z.children):p.push.apply(p,z.children),z=p.pop();return U},P.prototype._build=function(z,U,p,ft){var xt,wt=p-U+1,St=this._maxEntries;if(wt<=St)return n(xt=F(z.slice(U,p+1)),this.toBBox),xt;ft||(ft=Math.ceil(Math.log(wt)/Math.log(St)),St=Math.ceil(wt/Math.pow(St,ft-1))),(xt=F([])).leaf=!1,xt.height=ft;var Bt=Math.ceil(wt/St),Tt=Bt*Math.ceil(Math.sqrt(St));H(z,U,p,Tt,this.compareMinX);for(var Nt=U;Nt<=p;Nt+=Tt){var lt=Math.min(Nt+Tt-1,p);H(z,Nt,lt,Bt,this.compareMinY);for(var Mt=Nt;Mt<=lt;Mt+=Bt){var At=Math.min(Mt+Bt-1,lt);xt.children.push(this._build(z,Mt,At,ft-1))}}return n(xt,this.toBBox),xt},P.prototype._chooseSubtree=function(z,U,p,ft){for(;ft.push(U),!U.leaf&&ft.length-1!==p;){for(var xt=1/0,wt=1/0,St=void 0,Bt=0;Bt<U.children.length;Bt++){var Tt=U.children[Bt],Nt=b(Tt),lt=(Mt=z,At=Tt,(Math.max(At.maxX,Mt.maxX)-Math.min(At.minX,Mt.minX))*(Math.max(At.maxY,Mt.maxY)-Math.min(At.minY,Mt.minY))-Nt);lt<wt?(wt=lt,xt=Nt<xt?Nt:xt,St=Tt):lt===wt&&Nt<xt&&(xt=Nt,St=Tt)}U=St||U.children[0]}var Mt,At;return U},P.prototype._insert=function(z,U,p){var ft=p?z:this.toBBox(z),xt=[],wt=this._chooseSubtree(ft,this.data,U,xt);for(wt.children.push(z),u(wt,ft);U>=0&&xt[U].children.length>this._maxEntries;)this._split(xt,U),U--;this._adjustParentBBoxes(ft,xt,U)},P.prototype._split=function(z,U){var p=z[U],ft=p.children.length,xt=this._minEntries;this._chooseSplitAxis(p,xt,ft);var wt=this._chooseSplitIndex(p,xt,ft),St=F(p.children.splice(wt,p.children.length-wt));St.height=p.height,St.leaf=p.leaf,n(p,this.toBBox),n(St,this.toBBox),U?z[U-1].children.push(St):this._splitRoot(p,St)},P.prototype._splitRoot=function(z,U){this.data=F([z,U]),this.data.height=z.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},P.prototype._chooseSplitIndex=function(z,U,p){for(var ft,xt,wt,St,Bt,Tt,Nt,lt=1/0,Mt=1/0,At=U;At<=p-U;At++){var Qt=s(z,0,At,this.toBBox),Pt=s(z,At,p,this.toBBox),te=(xt=Qt,wt=Pt,St=void 0,Bt=void 0,Tt=void 0,Nt=void 0,St=Math.max(xt.minX,wt.minX),Bt=Math.max(xt.minY,wt.minY),Tt=Math.min(xt.maxX,wt.maxX),Nt=Math.min(xt.maxY,wt.maxY),Math.max(0,Tt-St)*Math.max(0,Nt-Bt)),Gt=b(Qt)+b(Pt);te<lt?(lt=te,ft=At,Mt=Gt<Mt?Gt:Mt):te===lt&&Gt<Mt&&(Mt=Gt,ft=At)}return ft||p-U},P.prototype._chooseSplitAxis=function(z,U,p){var ft=z.leaf?this.compareMinX:d,xt=z.leaf?this.compareMinY:_;this._allDistMargin(z,U,p,ft)<this._allDistMargin(z,U,p,xt)&&z.children.sort(ft)},P.prototype._allDistMargin=function(z,U,p,ft){z.children.sort(ft);for(var xt=this.toBBox,wt=s(z,0,U,xt),St=s(z,p-U,p,xt),Bt=x(wt)+x(St),Tt=U;Tt<p-U;Tt++){var Nt=z.children[Tt];u(wt,z.leaf?xt(Nt):Nt),Bt+=x(wt)}for(var lt=p-U-1;lt>=U;lt--){var Mt=z.children[lt];u(St,z.leaf?xt(Mt):Mt),Bt+=x(St)}return Bt},P.prototype._adjustParentBBoxes=function(z,U,p){for(var ft=p;ft>=0;ft--)u(U[ft],z)},P.prototype._condense=function(z){for(var U=z.length-1,p=void 0;U>=0;U--)z[U].children.length===0?U>0?(p=z[U-1].children).splice(p.indexOf(z[U]),1):this.clear():n(z[U],this.toBBox)},P}()}},Et={};function V(D){var I=Et[D];if(I!==void 0)return I.exports;var o=Et[D]={id:D,loaded:!1,exports:{}};return be[D].call(o.exports,o,o.exports,V),o.loaded=!0,o.exports}V.n=D=>{var I=D&&D.__esModule?()=>D.default:()=>D;return V.d(I,{a:I}),I},V.d=(D,I)=>{for(var o in I)V.o(I,o)&&!V.o(D,o)&&Object.defineProperty(D,o,{enumerable:!0,get:I[o]})},V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),V.o=(D,I)=>Object.prototype.hasOwnProperty.call(D,I),V.nmd=D=>(D.paths=[],D.children||(D.children=[]),D),V(5975)})();let Nr=!0,Fr={},br=He.featureGroup();const oo=(be,Et)=>be.lat===Et.lat&&be.lon===Et.lon;function so(be){if(!oo(be.latlng,Fr)){br.clearLayers();const Et=be.accuracy/2,V=He.marker(be.latlng).addTo(br).bindPopup("Nous sommes ici :-)");He.circle(be.latlng,Et).addTo(br),Object.assign(Fr,be.latlng),Nr&&(V.openPopup(),setTimeout(()=>{V.closePopup()},999),Nr=!1)}br.addTo(vn)}function ao(be){console.warn(be.message)}let lo=He.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19});const Zr=He.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,className:"map-tiles"});let uo=He.marker([34.049437914067965,-6.811742521119348]).bindPopup("Bloc pedagogique 2"),ho=He.marker([34.049974722160506,-6.811668977788722]).bindPopup("Centre de recherche"),co=He.marker([34.04980975957783,-6.811862740223119]).bindPopup("laboratiore"),fo=He.marker([34.0499768086001,-6.812497279430038]).bindPopup("Bloc pedagogique 1"),po=He.marker([34.05077732512845,-6.812285681003138]).bindPopup("Administration"),Gr=He.layerGroup([fo,co,uo,po,ho]),jr=new He.LatLngBounds(new He.LatLng(-90,180),new He.LatLng(90,-180));const vn=He.map("map",{layers:[Zr,Gr],center:jr.getCenter(),maxBoundsViscosity:1,maxBounds:jr,minZoom:3}).fitWorld();let go={OpenStreetMap:Zr,"Mapbox Streets":lo},mo={ESTS:Gr};He.control.layers(go,mo).addTo(vn);vn.on("locationfound",so);vn.on("locationerror",ao);vn.attributionControl.setPrefix(!1);He.easyButton('<span class="easy-btn arrow">&#10148;</span>',function(){vn.locate({setView:!0,maxZoom:16,enableHighAccuracy:!0})}).addTo(vn);vn.pm.addControls({position:"topleft",drawMarker:!0,drawPolygon:!0,drawPolyline:!0,drawCircle:!0,editPolygon:!0,deleteLayer:!0});var Hr=He.control({position:"topright"});Hr.onAdd=function(){var be=He.DomUtil.create("div","info legend");return be.innerHTML="<input type='text' id='my-element'>",be.firstChild.onmousedown=be.firstChild.ondblclick=He.DomEvent.stopPropagation,be};Hr.addTo(vn);$(document).ready(function(){$("#my-element").select2({width:"44px",minimumResultsForSearch:1/0,dir:"rtl"})});
